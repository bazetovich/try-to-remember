{"version":3,"sources":["webpack:///webpack/bootstrap 949c851cedf736d4251e","webpack:///./node_modules/@createjs/easeljs/dist/easeljs.common.js","webpack:///./node_modules/@createjs/tweenjs/src/Tween.js","webpack:///./node_modules/@createjs/tweenjs/src/AbstractTween.js","webpack:///./node_modules/@createjs/core/src/events/EventDispatcher.js","webpack:///./node_modules/@createjs/core/src/events/Event.js","webpack:///./scripts/game-components/utils/calculations.js","webpack:///./scripts/app.js","webpack:///./scripts/game-components/game.js","webpack:///./scripts/game-components/map/map.js","webpack:///./node_modules/@createjs/tweenjs/src/Ease.js","webpack:///./node_modules/@createjs/core/src/utils/Ticker.js","webpack:///./node_modules/@createjs/tweenjs/src/Timeline.js","webpack:///./scripts/game-components/point/point.js","webpack:///./scripts/game-components/point/config.js","webpack:///./scripts/game-components/map/config.js","webpack:///./node_modules/dom7/dist/dom7.module.js","webpack:///./node_modules/ssr-window/dist/ssr-window.esm.js"],"names":["Object","defineProperty","exports","value","_interopDefault","ex","Tween","require","Timeline","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","StageGL","Error","Event","type","bubbles","arguments","undefined","cancelable","currentTarget","eventPhase","timeStamp","Date","getTime","defaultPrevented","propagationStopped","immediatePropagationStopped","removed","preventDefault","stopPropagation","stopImmediatePropagation","remove","clone","event","n","hasOwnProperty","set","toString","name","EventDispatcher","initialize","p","addEventListener","on","removeEventListener","off","removeAllEventListeners","hasEventListener","dispatchEvent","_dispatchEvent","willTrigger","_listeners","_captureListeners","listener","useCapture","listeners","arr","push","scope","once","data","handleEvent","evt","l","splice","eventObj","e","parent","top","list","captureListeners","o","slice","_nextID","UID","get","nextID","Point","x","y","setValues","copy","point","Matrix2D","a","b","c","d","tx","ty","append","a1","b1","c1","d1","prepend","tx1","appendMatrix","matrix","prependMatrix","appendTransform","scaleX","scaleY","rotation","skewX","skewY","regX","regY","r","cos","sin","DEG_TO_RAD","Math","prependTransform","rotate","angle","skew","scale","translate","identity","invert","isIdentity","equals","transformPoint","pt","decompose","sqrt","atan2","delta","abs","PI","DisplayProps","visible","alpha","shadow","compositeOperation","Rectangle","width","height","extend","pad","left","bottom","right","rectangle","contains","union","rect","intersection","x1","y1","x2","y2","intersects","isEmpty","Filter","usesContext","_multiPass","VTX_SHADER_BODY","FRAG_SHADER_BODY","getBounds","shaderParamSetup","gl","stage","shaderProgram","applyFilter","ctx","targetCtx","targetX","targetY","imageData","getImageData","_applyFilter","putImageData","BitmapCache","_Filter","_this","offX","offY","cacheID","_filterOffX","_filterOffY","_cacheDataURLID","_cacheDataURL","_drawWidth","_drawHeight","_boundRect","getFilterBounds","output","filters","filterCount","f","test","define","options","_options","_useWebGL","update","filterBounds","surface","cacheCanvas","ceil","_updateSurface","_drawToCache","release","_webGLCache","isCacheControlled","__lastRT","__rtA","_killTextureObject","__rtB","releaseTexture","getCacheDataURL","toDataURL","draw","drawImage","setValue","window","createjs","createCanvas","document","createElement","useGL","isWebGL","antialias","transparent","autoPurge","stageGL","updateViewport","getTargetRenderTexture","webGL","getContext","clearRect","save","globalCompositeOperation","setTransform","restore","_applyFilters","_invalid","cacheDraw","w","h","DisplayObject","_EventDispatcher","bitmapCache","id","mouseEnabled","tickEnabled","transformMatrix","snapToPixel","mask","hitArea","cursor","_props","_rectangle","_bounds","_webGLRenderStyle","_StageGL_NONE","isVisible","ignoreCache","drawCache","cache","updateContext","mtx","graphics","getMatrix","transform","drawAsPath","clip","_snapToPixelEnabled","globalAlpha","_applyShadow","updateCache","uncache","getDataURL","localToGlobal","getConcatenatedMatrix","globalToLocal","localToLocal","getConcatenatedDisplayProps","hitTest","_hitTestContext","hit","_testHit","_cacheScale","_cacheOffsetX","_cacheOffsetY","getTransformedBounds","_getBounds","setBounds","_cloneProps","Shadow","shadowColor","color","shadowOffsetX","offsetX","shadowOffsetY","offsetY","shadowBlur","blur","_tick","evtObj","ls","suppressCrossDomainErrors","ignoreTransform","_transformBounds","bounds","x_a","x_b","y_c","y_d","minX","maxX","minY","maxY","_hasMouseEventListener","evts","_MOUSE_EVENTS","canvas","_hitTestCanvas","snapToPixelEnabled","_StageGL_SPRITE","_StageGL_BITMAP","Container","_DisplayObject","children","mouseChildren","tickChildren","hasContent","child","addChild","_len","Array","_key","silent","_removeChildAt","indexOf","addChildAt","_len2","_key2","index","pop","removeChild","_len3","_key3","good","removeChildAt","_len4","indexes","_key4","sort","removeAllChildren","kids","getChildAt","getChildByName","sortChildren","sortFunction","getChildIndex","swapChildrenAt","index1","index2","o1","o2","swapChildren","child1","child2","setChildIndex","getObjectUnderPoint","getObjectsUnderPoint","mode","_getObjectsUnderPoint","recursive","_cloneChildren","mouse","activeListener","currentDepth","_testMask","result","fillStyle","fill","MouseEvent","_Event","stageX","stageY","nativeEvent","pointerID","primary","rawX","rawY","relatedTarget","Stage","_Container","autoClear","getElementById","mouseX","mouseY","drawRect","mouseInBounds","tickOnUpdate","mouseMoveOutside","preventSelection","_pointerData","_pointerCount","_primaryPointerID","_mouseOverIntervalID","_nextStage","_prevStage","enableDOMEvents","tick","beginPath","clear","backgroundColor","mimeType","fillRect","dataURL","enableMouseOver","_this2","frequency","clearInterval","_testMouseOver","setInterval","min","_this3","enable","_eventListeners","t","mouseup","_handleMouseUp","mousemove","_handleMouseMove","dblclick","_handleDoubleClick","mousedown","_handleMouseDown","_n","_o","_getElementRect","getBoundingClientRect","err","offsetTop","offsetLeft","offsetWidth","offsetHeight","pageXOffset","scrollLeft","clientLeft","body","pageYOffset","scrollTop","clientTop","styles","getComputedStyle","currentStyle","padL","parseInt","paddingLeft","borderLeftWidth","padT","paddingTop","borderTopWidth","padR","paddingRight","borderRightWidth","padB","paddingBottom","borderBottomWidth","_getPointerData","_handlePointerMove","pageX","pageY","owner","nextStage","inBounds","_updatePointerPosition","_dispatchMouseEvent","posEvtObj","_handlePointerUp","oTarget","down","_handlePointerDown","eventTarget","_mouseOverX","_mouseOverY","isEventTarget","common","oldList","_mouseOverTarget","oldTarget","unshift","style","_i","_i2","pointerId","VideoBuffer","video","readyState","_video","_canvas","_lastTime","_videoReady","bind","getImage","videoWidth","videoHeight","currentTime","Bitmap","imageOrUri","image","src","sourceRect","naturalWidth","img","node","cloneNode","bmp","Sprite","spriteSheet","frameOrAnimation","currentFrame","currentAnimation","paused","currentAnimationFrame","framerate","_animation","_currentFrame","_skipAdvance","gotoAndPlay","complete","_normalizeFrame","getFrame","play","stop","_goto","gotoAndStop","advance","time","fps","getFrameBounds","frameDelta","animation","frame","speed","animFrame","frames","next","_dispatchAnimationEnd","_l","getNumFrames","end","changed","isNaN","getAnimation","_maxPoolSize","_spritePool","BitmapText","text","lineHeight","letterSpacing","spaceWidth","_oldProps","_oldStage","_drawAction","_updateState","_updateText","_getFrameIndex","character","toUpperCase","toLowerCase","_getFrame","_getLineHeight","ss","_getSpaceWidth","change","spaceW","lineH","pool","childIndex","numKids","sprite","hasSpace","charAt","maxPoolSize","DOMElement","htmlElement","position","transformOrigin","WebkitTransformOrigin","msTransformOrigin","MozTransformOrigin","OTransformOrigin","_handleDrawEnd","visibility","oldProps","oldMtx","str","WebkitTransform","OTransform","msTransform","MozTransform","opacity","Graphics","command","_stroke","_strokeStyle","_oldStrokeStyle","_strokeDash","_oldStrokeDash","_strokeIgnoreScale","_fill","_instructions","_commitIndex","_activeInstructions","_dirty","_storeIndex","curveTo","quadraticCurveTo","mt","moveTo","lt","lineTo","at","arcTo","bt","bezierCurveTo","qt","arc","cp","closePath","beginFill","lf","beginLinearGradientFill","rf","beginRadialGradientFill","bf","beginBitmapFill","ef","endFill","setStrokeStyle","sd","setStrokeDash","s","beginStroke","beginLinearGradientStroke","rs","beginRadialGradientStroke","bs","beginBitmapStroke","es","endStroke","dr","rr","drawRoundRect","rc","drawRoundRectComplex","dc","drawCircle","de","drawEllipse","dp","drawPolyStar","decodePath","getRGB","g","getHSL","hue","saturation","lightness","_updateInstructions","instr","exec","instrs","path","MoveTo","LineTo","radius","ArcTo","startAngle","endAngle","anticlockwise","Arc","cpx","cpy","QuadraticCurveTo","cp1x","cp1y","cp2x","cp2y","BezierCurveTo","Rect","ClosePath","_setFill","Fill","colors","ratios","x0","y0","linearGradient","r0","r1","radialGradient","repetition","bitmap","thickness","caps","joints","miterLimit","ignoreScale","StrokeStyle","segments","offset","StrokeDash","_setStroke","Stroke","radiusTL","radiusTR","radiusBR","radiusBL","RoundRect","Circle","Ellipse","sides","pointSize","PolyStar","clean","instructions","paramCount","params","base64","BASE_64","fi","pl","charCount","num","sign","apply","store","unstore","commit","active","commitIndex","beginCmd","ll","stroke","BeginPath","_ctx","createLinearGradient","addColorStop","createRadialGradient","createPattern","strokeStyle","args","lineWidth","lineCap","STROKE_CAPS_MAP","lineJoin","STROKE_JOINTS_MAP","EMPTY_SEGMENTS","setLineDash","lineDashOffset","_EMPTY_SEGMENTS","max","mTL","mTR","mBR","mBL","rTL","rTR","rBR","rBL","k","ox","oy","xe","ye","xm","ym","ps","canvas$1","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","j","m","q","u","v","z","MovieClip","_ref","_ref$mode","INDEPENDENT","_ref$startPosition","startPosition","_ref$loop","loop","_ref$paused","_ref$frameBounds","frameBounds","_ref$labels","labels","inited","init","timeline","useTicks","actionsEnabled","autoReset","_synchOffset","_rawPosition","_t","_managed","_bound_resolveState","_resolveState","MovieClipPlugin","install","positionOrLabel","_framerate","_updateTimeline","pos","resolve","_reset","rawPosition","jump","synced","tl","SINGLE_FRAME","setPosition","_renderFirstFrame","tweens","_iterator","_isArray","isArray","Symbol","iterator","_ref2","done","tween","passive","_stepPosition","_addManagedChild","_setState","state","_off","getCurrentLabel","duration","SYNCHED","installPlugin","prop","_tween","startValues","endValues","ratio","wait","priority","Shadow$1","Shape","SpriteSheet","_animations","_frames","_images","_data","_loadCount","_frameHeight","_frameWidth","_numFrames","_regX","_regY","_spacing","_margin","_parseData","frameIndex","images","_loop","_img","onload","_handleImageLoad","onerror","_handleImageError","_iterator2","_isArray2","spacing","margin","count","_calculateFrames","animations","anim","obj","errorEvent","maxFrames","frameCount","frameWidth","frameHeight","imgLoop","imgs","_img2","imgW","imgH","naturalHeight","_H_OFFSETS","start","center","_V_OFFSETS","hanging","middle","alphabetic","ideographic","Text","font","textAlign","textBaseline","maxWidth","outline","col","_drawText","_prepContext","getMeasuredWidth","_getMeasuredWidth","getMeasuredLineHeight","getMeasuredHeight","H_OFFSETS","V_OFFSETS","getMetrics","lines","vOffset","substr","paint","_workingContext","maxW","hardLines","String","split","measureText","words","wordW","_drawTextLine","strokeText","fillText","canvas$2","AlphaMapFilter","alphaMap","_alphaMap","_mapData","_mapTexture","createTexture","activeTexture","TEXTURE1","bindTexture","TEXTURE_2D","setTextureParams","texImage2D","RGBA","UNSIGNED_BYTE","uniform1i","getUniformLocation","_prepAlphaMap","map","HTMLCanvasElement","AlphaMaskFilter","_MUL_TABLE","_SHG_TABLE","BlurFilter","blurX","blurY","quality","_blurX","_blurXTable","_lastBlurX","_blurY","_blurYTable","_lastBlurY","_quality","_lastQuality","FRAG_SHADER_TEMPLATE","uniform1fv","uniform2f","_viewportWidth","_viewportHeight","pow","_updateShader","replace","toFixed","_getTable","spread","EDGE","adjust","factor","reduce","currentValue","radiusX","radiusY","iterations","px","yp","yi","yw","pr","pg","pb","pa","divx","divy","w1","h1","rxp1","ryp1","ssx","sx","ssy","sy","si","MUL_TABLE","stx","SHG_TABLE","mty","sty","ms","xChange","yChange","qChange","_compiledShader","ColorFilter","redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset","uniform4f","_DELTA_INDEX","_IDENTITY_MATRIX","_LENGTH","ColorMatrix","brightness","contrast","setColor","reset","adjustColor","IDENTITY_MATRIX","adjustHue","adjustContrast","adjustBrightness","adjustSaturation","_cleanValue","_multiplyMatrix","DELTA_INDEX","lumR","lumG","lumB","cosVal","sinVal","concat","_fixMatrix","LENGTH","toArray","_j","val","limit","ColorMatrixFilter","mat","colorMatrix","Float32Array","uniformMatrix4fv","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","ButtonHelper","outLabel","overLabel","downLabel","hitLabel","_isPressed","_isOver","_enabled","enabled","label","__reset","Touch","isSupported","navigator","singleTouch","allowDefault","__touch","pointers","multitouch","_IOS_enable","_IE_enable","disable","_IOS_disable","_IE_disable","_IOS_handleEvent","touches","changedTouches","touch","identifier","_handleStart","_handleMove","_handleEnd","_IE_handleEvent","msTouchAction","touchAction","activeIDs","ids","srcElement","_ERR_DIMENSIONS","_ERR_RUNNING","SpriteSheetBuilder","maxHeight","padding","timeSlice","progress","_nextFrameIndex","_index","_timerID","_scale","addFrame","source","setupFunction","setupData","ERR_RUNNING","nominalBounds","funct","addAnimation","addMovieClip","labelFunction","rects","baseFrameIndex","_setupMovieClipFrame","_labels","lbls","build","_startBuild","_drawNext","_endBuild","buildAsync","setTimeout","_run","stopAsync","clearTimeout","dataFrames","ERR_DIMENSIONS","_fillRow","_getSize","ae","size","maxH","sc","rx","floor","ry","rh","rw","round","ts","SpriteSheetUtils","extractFrame","_workingCanvas","mergeAlpha","rgbImage","alphaImage","_flip","il","__tmp","fl","_src","sfx","names","al","_src2","_i3","canvas$3","_alternateOutput","WebGLInspector","_stage","dispProps","item","_log","alternateOutput","_WebGLInspector$alter","log","_console","console","_batchID","_drawID","logContextInfo","_webGLContext","logDepth","logTextureFill","toggleGPUDraw","_drawBuffers_","_drawBuffers","_inspectorDrawBuffers","vocalDebug","batchReason","logFunc","getParameter","MAX_TEXTURE_IMAGE_UNITS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_RENDERBUFFER_SIZE","MAX_VERTEX_ATTRIBS","VERSION","dict","_textureDictionary","_batchTextureCount","textureMax","location","origin","tex","shifted","_lastActiveIndex","_activeIndex","element","out","cjs","easeljs","pluginData","_stepHead","TweenStep","_stepTail","_actionHead","_actionTail","_plugins","_pluginIds","_injected","override","removeTweens","_init","_addStep","ease","linear","step","_appendProps","addLabel","callback","_addAction","_set","plugin","plugins","stepNext","_updateTargetProps","v0","v1","p0","prev","p1","proploop","IGNORE","startPos","endPos","includeStart","rev","action","ePos","sPos","stepPlugins","initProps","initValue","inject","oldStep","stepProps","cleanProps","ignored","TweenAction","_tweenHead","_next","ignoreGlobalPause","_paused","tweenjs_count","_prev","_tweenTail","tail","_inited","Ticker","AbstractTween","to","_tweens","reversed","bounce","timeScale","_parent","_labelList","onChange","onComplete","ignoreActions","loopCount","prevRawPos","_updatePosition","_runActions","Number","startRawPos","endRawPos","loop0","loop1","t0","t1","_runActionsRange","dir","_register","precision","getTileWidth","gameWidth","hCount","getVTileCount","gameHeight","tileWidth","getLineStepCord","getPointCord","cord","pointWidth","fb","game","Game","FBInstant","context","chooseAsync","minSize","maxSize","then","getPlayersAsync","players","getType","toggleContextMenu","flag","contextMenu","show","hide","find","Map","selectBtnClickHandler","initializeAsync","setLoadingProgress","startGameAsync","ZERO","gameWrap","vTileCount","hTileCount","updateTileOptionsByGameWrap","updateCanvasAndStage","createAndDrawMatrix","config","tileCount","horizontal","vertical","calc","attr","row","drawHLine","drawVLine","line","startX","startY","endX","endY","amount","getPowIn","getPowOut","getPowInOut","sineIn","sineOut","sineInOut","getBackIn","getBackOut","getBackInOut","circIn","circOut","circInOut","bounceIn","Ease","bounceOut","bounceInOut","getElasticIn","amplitude","period","pi2","asin","getElasticOut","getElasticInOut","none","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quartIn","quartOut","quartInOut","quintIn","quintOut","quintInOut","backIn","backOut","backInOut","elasticIn","elasticOut","elasticInOut","timingMode","TIMEOUT","maxDelta","_startTime","_pausedTime","_ticks","_pausedTicks","_interval","_times","_tickTimes","_timerId","_raf","_getTime","_setupTick","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","ticks","times","runTime","pauseable","RAF","RAF_SYNCHED","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","_handleRAF","_handleSynch","_handleTimeout","elapsedTime","now","performance","interval","_instance","getMeasuredTickTime","getMeasuredFPS","getEventTime","getTicks","addTween","tw","updateDuration","removeTween","occupied","circled","setWidth","setId","circle","circleClickHandler","getWidth","getId","circleRed","circleRadius","circleDefault","circleBlue","Dom7","$$1","selector","els","tempParent","html","trim","toCreate","innerHTML","childNodes","match","querySelectorAll","nodeType","fn","Class","unique","uniqueArray","toCamelCase","string","group1","addClass","className","classes","classList","add","removeClass","hasClass","toggleClass","toggle","attrs","getAttribute","setAttribute","attrName","removeAttr","removeAttribute","propName","el","dom7ElementDataStorage","dataKey","removeData","dataset","attributes","parseFloat","dom","multiple","nodeName","values","selectedOptions","selected","elStyle","webkitTransform","transition","webkitTransitionDuration","transitionDuration","eventType","targetSelector","capture","handleLiveEvent","eventData","dom7EventData","is","parents","events","dom7Listeners","proxyListener","dom7LiveListeners","handlers","handler","eventName","proxy","eventArgs","trigger","CustomEvent","detail","createEvent","initEvent","filter","dataIndex","transitionEnd","fireCallBack","animationEnd","innerWidth","css","outerWidth","includeMargins","getPropertyValue","innerHeight","outerHeight","box","scrollY","scrollX","display","each","forEach","matchedItems","modifiedItems","textContent","compareWith","matches","webkitMatchesSelector","msMatchesSelector","previousSibling","eq","returnIndex","newChild","tempDiv","firstChild","appendChild","appendTo","insertBefore","prependTo","before","parentNode","insertAfter","after","nextSibling","nextElementSibling","nextAll","nextEls","previousElementSibling","prevAll","prevEls","siblings","closest","foundElements","found","detach","toAdd","empty","Methods","freeze","scrollTo","easing","animate","currentTop","currentLeft","maxTop","maxLeft","newTop","newLeft","animateTop","animateLeft","scrollHeight","scrollWidth","startTime","render","easeProgress","Scroll","initialProps","initialParams","assign","elements","animating","que","easingProgress","frameId","dom7AnimateInstance","shift","initialFullValue","initialValue","unit","finalValue","finalFullValue","container","keys","elementsDone","propsDone","began","begin","animateInstance","Animate","noTrigger","eventShortcut","click","focus","focusin","focusout","keyup","keydown","keypress","submit","mouseenter","mouseleave","mouseout","mouseover","touchstart","touchend","touchmove","resize","scroll","eventShortcuts","group","methodName","activeElement","querySelector","getElementsByTagName","hash","doc","userAgent","history","Image","screen","win"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 949c851cedf736d4251e","/**\n * @license\n * EaselJS\n * Visit https://createjs.com for documentation, updates and examples.\n *\n * Copyright (c) 2017 gskinner.com, inc.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === \"object\" && \"default\" in ex ? ex[\"default\"] : ex;\n}\n\nvar Tween = _interopDefault(require(\"@createjs/tweenjs/src/Tween\"));\n\nvar Timeline = _interopDefault(require(\"@createjs/tweenjs/src/Timeline\"));\n\nvar classCallCheck = function(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function() {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function(Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar StageGL = function StageGL() {\n  classCallCheck(this, StageGL);\n  throw new Error(\"\\n\\t\\t\\tStageGL is not currently supported on the EaselJS 2.0 branch.\\n\\t\\t\\tEnd of Q1 2018 is targetted for StageGL support.\\n\\t\\t\\tFollow @CreateJS on Twitter for updates.\\n\\t\\t\");\n};\n\nvar Event = function() {\n  function Event(type) {\n    var bubbles = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var cancelable = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    classCallCheck(this, Event);\n    this.type = type;\n    this.target = null;\n    this.currentTarget = null;\n    this.eventPhase = 0;\n    this.bubbles = bubbles;\n    this.cancelable = cancelable;\n    this.timeStamp = new Date().getTime();\n    this.defaultPrevented = false;\n    this.propagationStopped = false;\n    this.immediatePropagationStopped = false;\n    this.removed = false;\n  }\n  Event.prototype.preventDefault = function preventDefault() {\n    this.defaultPrevented = this.cancelable;\n    return this;\n  };\n  Event.prototype.stopPropagation = function stopPropagation() {\n    this.propagationStopped = true;\n    return this;\n  };\n  Event.prototype.stopImmediatePropagation = function stopImmediatePropagation() {\n    this.immediatePropagationStopped = this.propagationStopped = true;\n    return this;\n  };\n  Event.prototype.remove = function remove() {\n    this.removed = true;\n    return this;\n  };\n  Event.prototype.clone = function clone() {\n    var event = new Event(this.type, this.bubbles, this.cancelable);\n    for (var n in this) {\n      if (this.hasOwnProperty(n)) {\n        event[n] = this[n];\n      }\n    }\n    return event;\n  };\n  Event.prototype.set = function set(props) {\n    for (var n in props) {\n      this[n] = props[n];\n    }\n    return this;\n  };\n  Event.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \" (type=\" + this.type + \")]\";\n  };\n  return Event;\n}();\n\nvar EventDispatcher = function() {\n  EventDispatcher.initialize = function initialize(target) {\n    var p = EventDispatcher.prototype;\n    target.addEventListener = p.addEventListener;\n    target.on = p.on;\n    target.removeEventListener = target.off = p.removeEventListener;\n    target.removeAllEventListeners = p.removeAllEventListeners;\n    target.hasEventListener = p.hasEventListener;\n    target.dispatchEvent = p.dispatchEvent;\n    target._dispatchEvent = p._dispatchEvent;\n    target.willTrigger = p.willTrigger;\n  };\n  function EventDispatcher() {\n    classCallCheck(this, EventDispatcher);\n    this._listeners = null;\n    this._captureListeners = null;\n  }\n  EventDispatcher.prototype.addEventListener = function addEventListener(type, listener) {\n    var useCapture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var listeners = void 0;\n    if (useCapture) {\n      listeners = this._captureListeners = this._captureListeners || {};\n    } else {\n      listeners = this._listeners = this._listeners || {};\n    }\n    var arr = listeners[type];\n    if (arr) {\n      this.removeEventListener(type, listener, useCapture);\n      arr = listeners[type];\n    }\n    if (arr) {\n      arr.push(listener);\n    } else {\n      listeners[type] = [ listener ];\n    }\n    return listener;\n  };\n  EventDispatcher.prototype.on = function on(type, listener) {\n    var scope = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var data = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    var useCapture = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n    if (listener.handleEvent) {\n      scope = scope || listener;\n      listener = listener.handleEvent;\n    }\n    scope = scope || this;\n    return this.addEventListener(type, function(evt) {\n      listener.call(scope, evt, data);\n      once && evt.remove();\n    }, useCapture);\n  };\n  EventDispatcher.prototype.removeEventListener = function removeEventListener(type, listener) {\n    var useCapture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var listeners = useCapture ? this._captureListeners : this._listeners;\n    if (!listeners) {\n      return;\n    }\n    var arr = listeners[type];\n    if (!arr) {\n      return;\n    }\n    var l = arr.length;\n    for (var i = 0; i < l; i++) {\n      if (arr[i] === listener) {\n        if (l === 1) {\n          delete listeners[type];\n        } else {\n          arr.splice(i, 1);\n        }\n        break;\n      }\n    }\n  };\n  EventDispatcher.prototype.off = function off(type, listener) {\n    var useCapture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    this.removeEventListener(type, listener, useCapture);\n  };\n  EventDispatcher.prototype.removeAllEventListeners = function removeAllEventListeners() {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    if (type) {\n      if (this._listeners) {\n        delete this._listeners[type];\n      }\n      if (this._captureListeners) {\n        delete this._captureListeners[type];\n      }\n    } else {\n      this._listeners = this._captureListeners = null;\n    }\n  };\n  EventDispatcher.prototype.dispatchEvent = function dispatchEvent(eventObj) {\n    var bubbles = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var cancelable = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (typeof eventObj === \"string\") {\n      var listeners = this._listeners;\n      if (!bubbles && (!listeners || !listeners[eventObj])) {\n        return true;\n      }\n      eventObj = new Event(eventObj, bubbles, cancelable);\n    } else if (eventObj.target && eventObj.clone) {\n      eventObj = eventObj.clone();\n    }\n    try {\n      eventObj.target = this;\n    } catch (e) {}\n    if (!eventObj.bubbles || !this.parent) {\n      this._dispatchEvent(eventObj, 2);\n    } else {\n      var top = this;\n      var list = [ top ];\n      while (top.parent) {\n        list.push(top = top.parent);\n      }\n      var l = list.length;\n      var i = void 0;\n      for (i = l - 1; i >= 0 && !eventObj.propagationStopped; i--) {\n        list[i]._dispatchEvent(eventObj, 1 + (i == 0));\n      }\n      for (i = 1; i < l && !eventObj.propagationStopped; i++) {\n        list[i]._dispatchEvent(eventObj, 3);\n      }\n    }\n    return !eventObj.defaultPrevented;\n  };\n  EventDispatcher.prototype.hasEventListener = function hasEventListener(type) {\n    var listeners = this._listeners, captureListeners = this._captureListeners;\n    return !!(listeners && listeners[type] || captureListeners && captureListeners[type]);\n  };\n  EventDispatcher.prototype.willTrigger = function willTrigger(type) {\n    var o = this;\n    while (o) {\n      if (o.hasEventListener(type)) {\n        return true;\n      }\n      o = o.parent;\n    }\n    return false;\n  };\n  EventDispatcher.prototype.toString = function toString() {\n    return \"[\" + (this.constructor.name + this.name ? \" \" + this.name : \"\") + \"]\";\n  };\n  EventDispatcher.prototype._dispatchEvent = function _dispatchEvent(eventObj, eventPhase) {\n    var listeners = eventPhase === 1 ? this._captureListeners : this._listeners;\n    if (eventObj && listeners) {\n      var arr = listeners[eventObj.type];\n      var l = void 0;\n      if (!arr || (l = arr.length) === 0) {\n        return;\n      }\n      try {\n        eventObj.currentTarget = this;\n      } catch (e) {}\n      try {\n        eventObj.eventPhase = eventPhase;\n      } catch (e) {}\n      eventObj.removed = false;\n      arr = arr.slice();\n      for (var i = 0; i < l && !eventObj.immediatePropagationStopped; i++) {\n        var o = arr[i];\n        if (o.handleEvent) {\n          o.handleEvent(eventObj);\n        } else {\n          o(eventObj);\n        }\n        if (eventObj.removed) {\n          this.off(eventObj.type, o, eventPhase === 1);\n          eventObj.removed = false;\n        }\n      }\n    }\n  };\n  return EventDispatcher;\n}();\n\nvar _nextID = 0;\n\nvar UID = function() {\n  function UID() {\n    classCallCheck(this, UID);\n    throw \"UID cannot be instantiated\";\n  }\n  UID.get = function get() {\n    return UID._nextID++;\n  };\n  createClass(UID, null, [ {\n    key: \"_nextID\",\n    get: function get() {\n      return _nextID;\n    },\n    set: function set(nextID) {\n      _nextID = nextID;\n    }\n  } ]);\n  return UID;\n}();\n\nvar Point = function() {\n  function Point() {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    classCallCheck(this, Point);\n    this.setValues(x, y);\n  }\n  Point.prototype.setValues = function setValues() {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    this.x = x;\n    this.y = y;\n    return this;\n  };\n  Point.prototype.copy = function copy(point) {\n    this.x = point.x;\n    this.y = point.y;\n    return this;\n  };\n  Point.prototype.clone = function clone() {\n    return new Point(this.x, this.y);\n  };\n  Point.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \" (x=\" + this.x + \" y=\" + this.y + \")]\";\n  };\n  return Point;\n}();\n\nvar Matrix2D = function() {\n  function Matrix2D() {\n    var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var d = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    var tx = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    var ty = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n    classCallCheck(this, Matrix2D);\n    this.setValues(a, b, c, d, tx, ty);\n  }\n  Matrix2D.prototype.setValues = function setValues() {\n    var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var d = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    var tx = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    var ty = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.d = d;\n    this.tx = tx;\n    this.ty = ty;\n    return this;\n  };\n  Matrix2D.prototype.append = function append(a, b, c, d, tx, ty) {\n    var a1 = this.a;\n    var b1 = this.b;\n    var c1 = this.c;\n    var d1 = this.d;\n    if (a != 1 || b != 0 || c != 0 || d != 1) {\n      this.a = a1 * a + c1 * b;\n      this.b = b1 * a + d1 * b;\n      this.c = a1 * c + c1 * d;\n      this.d = b1 * c + d1 * d;\n    }\n    this.tx = a1 * tx + c1 * ty + this.tx;\n    this.ty = b1 * tx + d1 * ty + this.ty;\n    return this;\n  };\n  Matrix2D.prototype.prepend = function prepend(a, b, c, d, tx, ty) {\n    var a1 = this.a;\n    var c1 = this.c;\n    var tx1 = this.tx;\n    this.a = a * a1 + c * this.b;\n    this.b = b * a1 + d * this.b;\n    this.c = a * c1 + c * this.d;\n    this.d = b * c1 + d * this.d;\n    this.tx = a * tx1 + c * this.ty + tx;\n    this.ty = b * tx1 + d * this.ty + ty;\n    return this;\n  };\n  Matrix2D.prototype.appendMatrix = function appendMatrix(matrix) {\n    return this.append(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n  };\n  Matrix2D.prototype.prependMatrix = function prependMatrix(matrix) {\n    return this.prepend(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n  };\n  Matrix2D.prototype.appendTransform = function appendTransform(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\n    var r = void 0, cos = void 0, sin = void 0;\n    if (rotation % 360) {\n      r = rotation * Matrix2D.DEG_TO_RAD;\n      cos = Math.cos(r);\n      sin = Math.sin(r);\n    } else {\n      cos = 1;\n      sin = 0;\n    }\n    if (skewX || skewY) {\n      skewX *= Matrix2D.DEG_TO_RAD;\n      skewY *= Matrix2D.DEG_TO_RAD;\n      this.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\n      this.append(cos * scaleX, sin * scaleX, -sin * scaleY, cos * scaleY, 0, 0);\n    } else {\n      this.append(cos * scaleX, sin * scaleX, -sin * scaleY, cos * scaleY, x, y);\n    }\n    if (regX || regY) {\n      this.tx -= regX * this.a + regY * this.c;\n      this.ty -= regX * this.b + regY * this.d;\n    }\n    return this;\n  };\n  Matrix2D.prototype.prependTransform = function prependTransform(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\n    var r = void 0, cos = void 0, sin = void 0;\n    if (rotation % 360) {\n      r = rotation * Matrix2D.DEG_TO_RAD;\n      cos = Math.cos(r);\n      sin = Math.sin(r);\n    } else {\n      cos = 1;\n      sin = 0;\n    }\n    if (regX || regY) {\n      this.tx -= regX;\n      this.ty -= regY;\n    }\n    if (skewX || skewY) {\n      skewX *= Matrix2D.DEG_TO_RAD;\n      skewY *= Matrix2D.DEG_TO_RAD;\n      this.prepend(cos * scaleX, sin * scaleX, -sin * scaleY, cos * scaleY, 0, 0);\n      this.prepend(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\n    } else {\n      this.prepend(cos * scaleX, sin * scaleX, -sin * scaleY, cos * scaleY, x, y);\n    }\n    return this;\n  };\n  Matrix2D.prototype.rotate = function rotate(angle) {\n    angle *= Matrix2D.DEG_TO_RAD;\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var a1 = this.a;\n    var b1 = this.b;\n    this.a = a1 * cos + this.c * sin;\n    this.b = b1 * cos + this.d * sin;\n    this.c = -a1 * sin + this.c * cos;\n    this.d = -b1 * sin + this.d * cos;\n    return this;\n  };\n  Matrix2D.prototype.skew = function skew(skewX, skewY) {\n    skewX *= Matrix2D.DEG_TO_RAD;\n    skewY *= Matrix2D.DEG_TO_RAD;\n    this.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), 0, 0);\n    return this;\n  };\n  Matrix2D.prototype.scale = function scale(x, y) {\n    this.a *= x;\n    this.b *= x;\n    this.c *= y;\n    this.d *= y;\n    return this;\n  };\n  Matrix2D.prototype.translate = function translate(x, y) {\n    this.tx += this.a * x + this.c * y;\n    this.ty += this.b * x + this.d * y;\n    return this;\n  };\n  Matrix2D.prototype.identity = function identity() {\n    this.a = this.d = 1;\n    this.b = this.c = this.tx = this.ty = 0;\n    return this;\n  };\n  Matrix2D.prototype.invert = function invert() {\n    var a1 = this.a;\n    var b1 = this.b;\n    var c1 = this.c;\n    var d1 = this.d;\n    var tx1 = this.tx;\n    var n = a1 * d1 - b1 * c1;\n    this.a = d1 / n;\n    this.b = -b1 / n;\n    this.c = -c1 / n;\n    this.d = a1 / n;\n    this.tx = (c1 * this.ty - d1 * tx1) / n;\n    this.ty = -(a1 * this.ty - b1 * tx1) / n;\n    return this;\n  };\n  Matrix2D.prototype.isIdentity = function isIdentity() {\n    return this.tx === 0 && this.ty === 0 && this.a === 1 && this.b === 0 && this.c === 0 && this.d === 1;\n  };\n  Matrix2D.prototype.equals = function equals(matrix) {\n    return this.tx === matrix.tx && this.ty === matrix.ty && this.a === matrix.a && this.b === matrix.b && this.c === matrix.c && this.d === matrix.d;\n  };\n  Matrix2D.prototype.transformPoint = function transformPoint(x, y) {\n    var pt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Point();\n    pt.x = x * this.a + y * this.c + this.tx;\n    pt.y = x * this.b + y * this.d + this.ty;\n    return pt;\n  };\n  Matrix2D.prototype.decompose = function decompose() {\n    var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    target.x = this.tx;\n    target.y = this.ty;\n    target.scaleX = Math.sqrt(this.a * this.a + this.b * this.b);\n    target.scaleY = Math.sqrt(this.c * this.c + this.d * this.d);\n    var skewX = Math.atan2(-this.c, this.d);\n    var skewY = Math.atan2(this.b, this.a);\n    var delta = Math.abs(1 - skewX / skewY);\n    if (delta < 1e-5) {\n      target.rotation = skewY / Matrix2D.DEG_TO_RAD;\n      if (this.a < 0 && this.d >= 0) {\n        target.rotation += target.rotation <= 0 ? 180 : -180;\n      }\n      target.skewX = target.skewY = 0;\n    } else {\n      target.skewX = skewX / Matrix2D.DEG_TO_RAD;\n      target.skewY = skewY / Matrix2D.DEG_TO_RAD;\n    }\n    return target;\n  };\n  Matrix2D.prototype.copy = function copy(matrix) {\n    return this.setValues(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n  };\n  Matrix2D.prototype.clone = function clone() {\n    return new Matrix2D(this.a, this.b, this.c, this.d, this.tx, this.ty);\n  };\n  Matrix2D.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \" (a=\" + this.a + \" b=\" + this.b + \" c=\" + this.c + \" d=\" + this.d + \" tx=\" + this.tx + \" ty=\" + this.ty + \")]\";\n  };\n  return Matrix2D;\n}();\n\n{\n  Matrix2D.DEG_TO_RAD = Math.PI / 180;\n  Matrix2D.identity = new Matrix2D();\n}\n\nvar DisplayProps = function() {\n  function DisplayProps() {\n    var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var alpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var shadow = arguments[2];\n    var compositeOperation = arguments[3];\n    var matrix = arguments[4];\n    classCallCheck(this, DisplayProps);\n    this.setValues(visible, alpha, shadow, compositeOperation, matrix);\n  }\n  DisplayProps.prototype.setValues = function setValues() {\n    var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var alpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var shadow = arguments[2];\n    var compositeOperation = arguments[3];\n    var matrix = arguments[4];\n    this.visible = visible;\n    this.alpha = alpha;\n    this.shadow = shadow;\n    this.compositeOperation = compositeOperation;\n    this.matrix = matrix || this.matrix && this.matrix.identity() || new Matrix2D();\n    return this;\n  };\n  DisplayProps.prototype.append = function append(visible, alpha, shadow, compositeOperation, matrix) {\n    this.alpha *= alpha;\n    this.shadow = shadow || this.shadow;\n    this.compositeOperation = compositeOperation || this.compositeOperation;\n    this.visible = this.visible && visible;\n    matrix && this.matrix.appendMatrix(matrix);\n    return this;\n  };\n  DisplayProps.prototype.prepend = function prepend(visible, alpha, shadow, compositeOperation, matrix) {\n    this.alpha *= alpha;\n    this.shadow = this.shadow || shadow;\n    this.compositeOperation = this.compositeOperation || compositeOperation;\n    this.visible = this.visible && visible;\n    matrix && this.matrix.prependMatrix(matrix);\n    return this;\n  };\n  DisplayProps.prototype.identity = function identity() {\n    this.visible = true;\n    this.alpha = 1;\n    this.shadow = this.compositeOperation = null;\n    this.matrix.identity();\n    return this;\n  };\n  DisplayProps.prototype.clone = function clone() {\n    return new DisplayProps(this.alpha, this.shadow, this.compositeOperation, this.visible, this.matrix.clone());\n  };\n  return DisplayProps;\n}();\n\nvar Rectangle = function() {\n  function Rectangle() {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var height = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    classCallCheck(this, Rectangle);\n    this.setValues(x, y, width, height);\n  }\n  Rectangle.prototype.setValues = function setValues() {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var height = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    return this;\n  };\n  Rectangle.prototype.extend = function extend(x, y) {\n    var width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var height = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    if (x + width > this.x + this.width) {\n      this.width = x + width - this.x;\n    }\n    if (y + height > this.y + this.height) {\n      this.height = y + height - this.y;\n    }\n    if (x < this.x) {\n      this.width += this.x - x;\n      this.x = x;\n    }\n    if (y < this.y) {\n      this.height += this.y - y;\n      this.y = y;\n    }\n    return this;\n  };\n  Rectangle.prototype.pad = function pad(top, left, bottom, right) {\n    this.x -= left;\n    this.y -= top;\n    this.width += left + right;\n    this.height += top + bottom;\n    return this;\n  };\n  Rectangle.prototype.copy = function copy(rectangle) {\n    return this.setValues(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n  };\n  Rectangle.prototype.contains = function contains(x, y) {\n    var width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var height = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    return x >= this.x && x + width <= this.x + this.width && y >= this.y && y + height <= this.y + this.height;\n  };\n  Rectangle.prototype.union = function union(rect) {\n    return this.clone().extend(rect.x, rect.y, rect.width, rect.height);\n  };\n  Rectangle.prototype.intersection = function intersection(rect) {\n    var x1 = rect.x, y1 = rect.y, x2 = x1 + rect.width, y2 = y1 + rect.height;\n    if (this.x > x1) {\n      x1 = this.x;\n    }\n    if (this.y > y1) {\n      y1 = this.y;\n    }\n    if (this.x + this.width < x2) {\n      x2 = this.x + this.width;\n    }\n    if (this.y + this.height < y2) {\n      y2 = this.y + this.height;\n    }\n    return x2 <= x1 || y2 <= y1 ? null : new Rectangle(x1, y1, x2 - x1, y2 - y1);\n  };\n  Rectangle.prototype.intersects = function intersects(rect) {\n    return rect.x <= this.x + this.width && this.x <= rect.x + rect.width && rect.y <= this.y + this.height && this.y <= rect.y + rect.height;\n  };\n  Rectangle.prototype.isEmpty = function isEmpty() {\n    return this.width <= 0 || this.height <= 0;\n  };\n  Rectangle.prototype.clone = function clone() {\n    return new Rectangle(this.x, this.y, this.width, this.height);\n  };\n  Rectangle.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \" (x=\" + this.x + \" y=\" + this.y + \" width=\" + this.width + \" height=\" + this.height + \")]\";\n  };\n  return Rectangle;\n}();\n\nvar Filter = function() {\n  function Filter() {\n    classCallCheck(this, Filter);\n    this.usesContext = false;\n    this._multiPass = null;\n    this.VTX_SHADER_BODY = null;\n    this.FRAG_SHADER_BODY = null;\n  }\n  Filter.prototype.getBounds = function getBounds(rect) {\n    return rect;\n  };\n  Filter.prototype.shaderParamSetup = function shaderParamSetup(gl, stage, shaderProgram) {};\n  Filter.prototype.applyFilter = function applyFilter(ctx, x, y, width, height, targetCtx, targetX, targetY) {\n    targetCtx = targetCtx || ctx;\n    if (targetX == null) {\n      targetX = x;\n    }\n    if (targetY == null) {\n      targetY = y;\n    }\n    try {\n      var imageData = ctx.getImageData(x, y, width, height);\n      if (this._applyFilter(imageData)) {\n        targetCtx.putImageData(imageData, targetX, targetY);\n        return true;\n      }\n    } catch (e) {}\n    return false;\n  };\n  Filter.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \"]\";\n  };\n  Filter.prototype.clone = function clone() {\n    return new Filter();\n  };\n  Filter.prototype._applyFilter = function _applyFilter(imageData) {\n    return true;\n  };\n  return Filter;\n}();\n\nvar BitmapCache = function(_Filter) {\n  inherits(BitmapCache, _Filter);\n  function BitmapCache() {\n    classCallCheck(this, BitmapCache);\n    var _this = possibleConstructorReturn(this, _Filter.call(this));\n    _this.width = undefined;\n    _this.height = undefined;\n    _this.x = undefined;\n    _this.y = undefined;\n    _this.scale = 1;\n    _this.offX = 0;\n    _this.offY = 0;\n    _this.cacheID = 0;\n    _this._filterOffX = 0;\n    _this._filterOffY = 0;\n    _this._cacheDataURLID = 0;\n    _this._cacheDataURL = null;\n    _this._drawWidth = 0;\n    _this._drawHeight = 0;\n    _this._boundRect = new Rectangle();\n    return _this;\n  }\n  BitmapCache.getFilterBounds = function getFilterBounds(target) {\n    var output = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Rectangle();\n    var filters = target.filters;\n    var filterCount = filters && filters.length;\n    if (!!filterCount <= 0) {\n      return output;\n    }\n    for (var i = 0; i < filterCount; i++) {\n      var f = filters[i];\n      if (!f || !f.getBounds) {\n        continue;\n      }\n      var test = f.getBounds();\n      if (!test) {\n        continue;\n      }\n      if (i == 0) {\n        output.setValues(test.x, test.y, test.width, test.height);\n      } else {\n        output.extend(test.x, test.y, test.width, test.height);\n      }\n    }\n    return output;\n  };\n  BitmapCache.prototype.define = function define(target) {\n    var x = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var y = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var width = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    var height = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n    var scale = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n    var options = arguments[6];\n    if (!target) {\n      throw \"No symbol to cache\";\n    }\n    this._options = options;\n    this._useWebGL = options !== undefined;\n    this.target = target;\n    this.width = width >= 1 ? width : 1;\n    this.height = height >= 1 ? height : 1;\n    this.x = x;\n    this.y = y;\n    this.scale = scale;\n    this.update();\n  };\n  BitmapCache.prototype.update = function update(compositeOperation) {\n    if (!this.target) {\n      throw \"define() must be called before update()\";\n    }\n    var filterBounds = BitmapCache.getFilterBounds(this.target);\n    var surface = this.target.cacheCanvas;\n    this._drawWidth = Math.ceil(this.width * this.scale) + filterBounds.width;\n    this._drawHeight = Math.ceil(this.height * this.scale) + filterBounds.height;\n    if (!surface || this._drawWidth != surface.width || this._drawHeight != surface.height) {\n      this._updateSurface();\n    }\n    this._filterOffX = filterBounds.x;\n    this._filterOffY = filterBounds.y;\n    this.offX = this.x * this.scale + this._filterOffX;\n    this.offY = this.y * this.scale + this._filterOffY;\n    this._drawToCache(compositeOperation);\n    this.cacheID = this.cacheID ? this.cacheID + 1 : 1;\n  };\n  BitmapCache.prototype.release = function release() {\n    var stage = this.target.stage;\n    if (this._useWebGL && this._webGLCache) {\n      if (!this._webGLCache.isCacheControlled) {\n        if (this.__lastRT) {\n          this.__lastRT = undefined;\n        }\n        if (this.__rtA) {\n          this._webGLCache._killTextureObject(this.__rtA);\n        }\n        if (this.__rtB) {\n          this._webGLCache._killTextureObject(this.__rtB);\n        }\n        if (this.target && this.target.cacheCanvas) {\n          this._webGLCache._killTextureObject(this.target.cacheCanvas);\n        }\n      }\n      this._webGLCache = false;\n    } else if (stage instanceof StageGL) {\n      stage.releaseTexture(this.target.cacheCanvas);\n    }\n    this.target = this.target.cacheCanvas = null;\n    this.cacheID = this._cacheDataURLID = this._cacheDataURL = undefined;\n    this.width = this.height = this.x = this.y = this.offX = this.offY = 0;\n    this.scale = 1;\n  };\n  BitmapCache.prototype.getCacheDataURL = function getCacheDataURL() {\n    var cacheCanvas = this.target && this.target.cacheCanvas;\n    if (!cacheCanvas) {\n      return null;\n    }\n    if (this.cacheID != this._cacheDataURLID) {\n      this._cacheDataURLID = this.cacheID;\n      this._cacheDataURL = cacheCanvas.toDataURL ? cacheCanvas.toDataURL() : null;\n    }\n    return this._cacheDataURL;\n  };\n  BitmapCache.prototype.draw = function draw(ctx) {\n    if (!this.target) {\n      return false;\n    }\n    ctx.drawImage(this.target.cacheCanvas, this.x + this._filterOffX / this.scale, this.y + this._filterOffY / this.scale, this._drawWidth / this.scale, this._drawHeight / this.scale);\n    return true;\n  };\n  BitmapCache.prototype.getBounds = function getBounds() {\n    var scale = this.scale;\n    return this._boundRect.setValue(this._filterOffX / scale, this._filterOffY / scale, this.width / scale, this.height / scale);\n  };\n  BitmapCache.prototype._updateSurface = function _updateSurface() {\n    var surface = void 0;\n    if (!this._useWebGL) {\n      surface = this.target.cacheCanvas;\n      if (!surface) {\n        surface = this.target.cacheCanvas = window.createjs && createjs.createCanvas ? createjs.createCanvas() : document.createElement(\"canvas\");\n      }\n      surface.width = this._drawWidth;\n      surface.height = this._drawHeight;\n      return;\n    }\n    if (!this._webGLCache) {\n      if (this._options.useGL === \"stage\") {\n        if (!(this.target.stage != null && this.target.stage.isWebGL)) {\n          throw \"Cannot use 'stage' for cache because the object's parent stage is \" + (this.target.stage != null ? \"non WebGL.\" : \"not set, please addChild to the correct stage.\");\n        }\n        this.target.cacheCanvas = true;\n        this._webGLCache = this.target.stage;\n      } else if (this._options.useGL === \"new\") {\n        this.target.cacheCanvas = document.createElement(\"canvas\");\n        this._webGLCache = new StageGL(this.target.cacheCanvas, {\n          antialias: true,\n          transparent: true,\n          autoPurge: -1\n        });\n        this._webGLCache.isCacheControlled = true;\n      } else {\n        throw \"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got \" + this._options.useGL;\n      }\n    }\n    var stageGL = this._webGLCache;\n    surface = this.target.cacheCanvas;\n    if (stageGL.isCacheControlled) {\n      surface.width = this._drawWidth;\n      surface.height = this._drawHeight;\n      stageGL.updateViewport(this._drawWidth, this._drawHeight);\n    }\n    if (this.target.filters) {\n      stageGL.getTargetRenderTexture(this.target, this._drawWidth, this._drawHeight);\n      stageGL.getTargetRenderTexture(this.target, this._drawWidth, this._drawHeight);\n    } else if (!stageGL.isCacheControlled) {\n      stageGL.getTargetRenderTexture(this.target, this._drawWidth, this._drawHeight);\n    }\n  };\n  BitmapCache.prototype._drawToCache = function _drawToCache(compositeOperation) {\n    var target = this.target;\n    var surface = target.cacheCanvas;\n    var webGL = this._webGLCache;\n    if (!this._useWebGL || !webGL) {\n      var ctx = surface.getContext(\"2d\");\n      if (!compositeOperation) {\n        ctx.clearRect(0, 0, this._drawWidth + 1, this._drawHeight + 1);\n      }\n      ctx.save();\n      ctx.globalCompositeOperation = compositeOperation;\n      ctx.setTransform(this.scale, 0, 0, this.scale, -this._filterOffX, -this._filterOffY);\n      ctx.translate(-this.x, -this.y);\n      target.draw(ctx, true);\n      ctx.restore();\n      if (target.filters && target.filters.length) {\n        this._applyFilters(target);\n      }\n      surface._invalid = true;\n      return;\n    }\n    this._webGLCache.cacheDraw(target, target.filters, this);\n    surface = this.target.cacheCanvas;\n    surface.width = this._drawWidth;\n    surface.height = this._drawHeight;\n    surface._invalid = true;\n  };\n  BitmapCache.prototype._applyFilters = function _applyFilters() {\n    var surface = this.target.cacheCanvas;\n    var filters = this.target.filters;\n    var w = this._drawWidth;\n    var h = this._drawHeight;\n    var data = surface.getContext(\"2d\").getImageData(0, 0, w, h);\n    var l = filters.length;\n    for (var i = 0; i < l; i++) {\n      filters[i]._applyFilter(data);\n    }\n    surface.getContext(\"2d\").putImageData(data, 0, 0);\n  };\n  return BitmapCache;\n}(Filter);\n\nvar DisplayObject = function(_EventDispatcher) {\n  inherits(DisplayObject, _EventDispatcher);\n  function DisplayObject() {\n    classCallCheck(this, DisplayObject);\n    var _this = possibleConstructorReturn(this, _EventDispatcher.call(this));\n    _this.alpha = 1;\n    _this.cacheCanvas = null;\n    _this.bitmapCache = null;\n    _this.id = UID.get();\n    _this.mouseEnabled = true;\n    _this.tickEnabled = true;\n    _this.name = null;\n    _this.parent = null;\n    _this.regX = 0;\n    _this.regY = 0;\n    _this.rotation = 0;\n    _this.scaleX = 1;\n    _this.scaleY = 1;\n    _this.skewX = 0;\n    _this.skewY = 0;\n    _this.shadow = null;\n    _this.visible = true;\n    _this.x = 0;\n    _this.y = 0;\n    _this.transformMatrix = null;\n    _this.compositeOperation = null;\n    _this.snapToPixel = true;\n    _this.filters = null;\n    _this.mask = null;\n    _this.hitArea = null;\n    _this.cursor = null;\n    _this._props = new DisplayProps();\n    _this._rectangle = new Rectangle();\n    _this._bounds = null;\n    _this._webGLRenderStyle = DisplayObject._StageGL_NONE;\n    return _this;\n  }\n  DisplayObject.prototype.isVisible = function isVisible() {\n    return !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0);\n  };\n  DisplayObject.prototype.draw = function draw(ctx) {\n    var ignoreCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return this.drawCache(ctx, ignoreCache);\n  };\n  DisplayObject.prototype.drawCache = function drawCache(ctx) {\n    var ignoreCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var cache = this.bitmapCache;\n    if (cache && !ignoreCache) {\n      return cache.draw(ctx);\n    }\n    return false;\n  };\n  DisplayObject.prototype.updateContext = function updateContext(ctx) {\n    var o = this, mask = o.mask, mtx = o._props.matrix;\n    if (mask && mask.graphics && !mask.graphics.isEmpty()) {\n      mask.getMatrix(mtx);\n      ctx.transform(mtx.a, mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty);\n      mask.graphics.drawAsPath(ctx);\n      ctx.clip();\n      mtx.invert();\n      ctx.transform(mtx.a, mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty);\n    }\n    this.getMatrix(mtx);\n    var tx = mtx.tx, ty = mtx.ty;\n    if (DisplayObject._snapToPixelEnabled && o.snapToPixel) {\n      tx = tx + (tx < 0 ? -.5 : .5) | 0;\n      ty = ty + (ty < 0 ? -.5 : .5) | 0;\n    }\n    ctx.transform(mtx.a, mtx.b, mtx.c, mtx.d, tx, ty);\n    ctx.globalAlpha *= o.alpha;\n    if (o.compositeOperation) {\n      ctx.globalCompositeOperation = o.compositeOperation;\n    }\n    if (o.shadow) {\n      this._applyShadow(ctx, o.shadow);\n    }\n  };\n  DisplayObject.prototype.cache = function cache(x, y, width, height) {\n    var scale = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n    var options = arguments[5];\n    if (!this.bitmapCache) {\n      this.bitmapCache = new BitmapCache();\n    }\n    this.bitmapCache.define(this, x, y, width, height, scale, options);\n  };\n  DisplayObject.prototype.updateCache = function updateCache(compositeOperation) {\n    if (!this.bitmapCache) {\n      throw \"cache() must be called before updateCache()\";\n    }\n    this.bitmapCache.update(compositeOperation);\n  };\n  DisplayObject.prototype.uncache = function uncache() {\n    if (this.bitmapCache) {\n      this.bitmapCache.release();\n      this.bitmapCache = undefined;\n    }\n  };\n  DisplayObject.prototype.getCacheDataURL = function getCacheDataURL() {\n    return this.bitmapCache ? this.bitmapCache.getDataURL() : null;\n  };\n  DisplayObject.prototype.localToGlobal = function localToGlobal(x, y) {\n    var pt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Point();\n    return this.getConcatenatedMatrix(this._props.matrix).transformPoint(x, y, pt);\n  };\n  DisplayObject.prototype.globalToLocal = function globalToLocal(x, y) {\n    var pt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Point();\n    return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(x, y, pt);\n  };\n  DisplayObject.prototype.localToLocal = function localToLocal(x, y, target, pt) {\n    pt = this.localToGlobal(x, y, pt);\n    return target.globalToLocal(pt.x, pt.y, pt);\n  };\n  DisplayObject.prototype.setTransform = function setTransform() {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var scaleX = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var scaleY = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    var rotation = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    var skewX = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n    var skewY = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;\n    var regX = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 0;\n    var regY = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : 0;\n    this.x = x;\n    this.y = y;\n    this.scaleX = scaleX;\n    this.scaleY = scaleY;\n    this.rotation = rotation;\n    this.skewX = skewX;\n    this.skewY = skewY;\n    this.regX = regX;\n    this.regY = regY;\n    return this;\n  };\n  DisplayObject.prototype.getMatrix = function getMatrix(matrix) {\n    var o = this, mtx = matrix && matrix.identity() || new Matrix2D();\n    return o.transformMatrix ? mtx.copy(o.transformMatrix) : mtx.appendTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation, o.skewX, o.skewY, o.regX, o.regY);\n  };\n  DisplayObject.prototype.getConcatenatedMatrix = function getConcatenatedMatrix(matrix) {\n    var o = this, mtx = this.getMatrix(matrix);\n    while (o = o.parent) {\n      mtx.prependMatrix(o.getMatrix(o._props.matrix));\n    }\n    return mtx;\n  };\n  DisplayObject.prototype.getConcatenatedDisplayProps = function getConcatenatedDisplayProps(props) {\n    props = props ? props.identity() : new DisplayProps();\n    var o = this, mtx = o.getMatrix(props.matrix);\n    do {\n      props.prepend(o.visible, o.alpha, o.shadow, o.compositeOperation);\n      if (o != this) {\n        mtx.prependMatrix(o.getMatrix(o._props.matrix));\n      }\n    } while (o = o.parent);\n    return props;\n  };\n  DisplayObject.prototype.hitTest = function hitTest(x, y) {\n    var ctx = DisplayObject._hitTestContext;\n    ctx.setTransform(1, 0, 0, 1, -x, -y);\n    this.draw(ctx);\n    var hit = this._testHit(ctx);\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.clearRect(0, 0, 2, 2);\n    return hit;\n  };\n  DisplayObject.prototype.set = function set(props) {\n    for (var n in props) {\n      this[n] = props[n];\n    }\n    return this;\n  };\n  DisplayObject.prototype.getBounds = function getBounds() {\n    if (this._bounds) {\n      return this._rectangle.copy(this._bounds);\n    }\n    var cacheCanvas = this.cacheCanvas;\n    if (cacheCanvas) {\n      var scale = this._cacheScale;\n      return this._rectangle.setValues(this._cacheOffsetX, this._cacheOffsetY, cacheCanvas.width / scale, cacheCanvas.height / scale);\n    }\n    return null;\n  };\n  DisplayObject.prototype.getTransformedBounds = function getTransformedBounds() {\n    return this._getBounds();\n  };\n  DisplayObject.prototype.setBounds = function setBounds(x, y, width, height) {\n    if (x == null) {\n      this._bounds = x;\n    }\n    this._bounds = (this._bounds || new Rectangle()).setValues(x, y, width, height);\n  };\n  DisplayObject.prototype.clone = function clone() {\n    return this._cloneProps(new DisplayObject());\n  };\n  DisplayObject.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + (this.name ? \" (name=\" + this.name + \")\" : \"\") + \"]\";\n  };\n  DisplayObject.prototype._cloneProps = function _cloneProps(o) {\n    o.alpha = this.alpha;\n    o.mouseEnabled = this.mouseEnabled;\n    o.tickEnabled = this.tickEnabled;\n    o.name = this.name;\n    o.regX = this.regX;\n    o.regY = this.regY;\n    o.rotation = this.rotation;\n    o.scaleX = this.scaleX;\n    o.scaleY = this.scaleY;\n    o.shadow = this.shadow;\n    o.skewX = this.skewX;\n    o.skewY = this.skewY;\n    o.visible = this.visible;\n    o.x = this.x;\n    o.y = this.y;\n    o.compositeOperation = this.compositeOperation;\n    o.snapToPixel = this.snapToPixel;\n    o.filters = this.filters == null ? null : this.filters.slice(0);\n    o.mask = this.mask;\n    o.hitArea = this.hitArea;\n    o.cursor = this.cursor;\n    o._bounds = this._bounds;\n    return o;\n  };\n  DisplayObject.prototype._applyShadow = function _applyShadow(ctx) {\n    var shadow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Shadow.identity;\n    shadow = shadow;\n    ctx.shadowColor = shadow.color;\n    ctx.shadowOffsetX = shadow.offsetX;\n    ctx.shadowOffsetY = shadow.offsetY;\n    ctx.shadowBlur = shadow.blur;\n  };\n  DisplayObject.prototype._tick = function _tick(evtObj) {\n    var ls = this._listeners;\n    if (ls && ls[\"tick\"]) {\n      evtObj.target = null;\n      evtObj.propagationStopped = evtObj.immediatePropagationStopped = false;\n      this.dispatchEvent(evtObj);\n    }\n  };\n  DisplayObject.prototype._testHit = function _testHit(ctx) {\n    try {\n      return ctx.getImageData(0, 0, 1, 1).data[3] > 1;\n    } catch (e) {\n      if (!DisplayObject.suppressCrossDomainErrors) {\n        throw \"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.\";\n      }\n      return false;\n    }\n  };\n  DisplayObject.prototype._getBounds = function _getBounds(matrix, ignoreTransform) {\n    return this._transformBounds(this.getBounds(), matrix, ignoreTransform);\n  };\n  DisplayObject.prototype._transformBounds = function _transformBounds(bounds, matrix, ignoreTransform) {\n    if (!bounds) {\n      return bounds;\n    }\n    var x = bounds.x, y = bounds.y, width = bounds.width, height = bounds.height;\n    var mtx = this._props.matrix;\n    mtx = ignoreTransform ? mtx.identity() : this.getMatrix(mtx);\n    if (x || y) {\n      mtx.appendTransform(0, 0, 1, 1, 0, 0, 0, -x, -y);\n    }\n    if (matrix) {\n      mtx.prependMatrix(matrix);\n    }\n    var x_a = width * mtx.a, x_b = width * mtx.b;\n    var y_c = height * mtx.c, y_d = height * mtx.d;\n    var tx = mtx.tx, ty = mtx.ty;\n    var minX = tx, maxX = tx, minY = ty, maxY = ty;\n    if ((x = x_a + tx) < minX) {\n      minX = x;\n    } else if (x > maxX) {\n      maxX = x;\n    }\n    if ((x = x_a + y_c + tx) < minX) {\n      minX = x;\n    } else if (x > maxX) {\n      maxX = x;\n    }\n    if ((x = y_c + tx) < minX) {\n      minX = x;\n    } else if (x > maxX) {\n      maxX = x;\n    }\n    if ((y = x_b + ty) < minY) {\n      minY = y;\n    } else if (y > maxY) {\n      maxY = y;\n    }\n    if ((y = x_b + y_d + ty) < minY) {\n      minY = y;\n    } else if (y > maxY) {\n      maxY = y;\n    }\n    if ((y = y_d + ty) < minY) {\n      minY = y;\n    } else if (y > maxY) {\n      maxY = y;\n    }\n    return bounds.setValues(minX, minY, maxX - minX, maxY - minY);\n  };\n  DisplayObject.prototype._hasMouseEventListener = function _hasMouseEventListener() {\n    var evts = DisplayObject._MOUSE_EVENTS;\n    for (var i = 0, l = evts.length; i < l; i++) {\n      if (this.hasEventListener(evts[i])) {\n        return true;\n      }\n    }\n    return !!this.cursor;\n  };\n  createClass(DisplayObject, [ {\n    key: \"stage\",\n    get: function get() {\n      var o = this;\n      while (o.parent) {\n        o = o.parent;\n      }\n      if (/^\\[Stage(GL)?(\\s\\(name=\\w+\\))?\\]$/.test(o.toString())) {\n        return o;\n      }\n      return null;\n    }\n  }, {\n    key: \"scale\",\n    get: function get() {\n      return this.scaleX;\n    },\n    set: function set(value) {\n      this.scaleX = this.scaleY = value;\n    }\n  } ]);\n  return DisplayObject;\n}(EventDispatcher);\n\n{\n  var canvas = window.createjs && createjs.createCanvas ? createjs.createCanvas() : document.createElement(\"canvas\");\n  if (canvas.getContext) {\n    DisplayObject._hitTestCanvas = canvas;\n    DisplayObject._hitTestContext = canvas.getContext(\"2d\");\n    canvas.width = canvas.height = 1;\n  }\n  DisplayObject._MOUSE_EVENTS = [ \"click\", \"dblclick\", \"mousedown\", \"mouseout\", \"mouseover\", \"pressmove\", \"pressup\", \"rollout\", \"rollover\" ];\n  DisplayObject.suppressCrossDomainErrors = false;\n  DisplayObject.snapToPixelEnabled = false;\n  DisplayObject._StageGL_NONE = 0;\n  DisplayObject._StageGL_SPRITE = 1;\n  DisplayObject._StageGL_BITMAP = 2;\n}\n\nvar Container = function(_DisplayObject) {\n  inherits(Container, _DisplayObject);\n  function Container() {\n    classCallCheck(this, Container);\n    var _this = possibleConstructorReturn(this, _DisplayObject.call(this));\n    _this.children = [];\n    _this.mouseChildren = true;\n    _this.tickChildren = true;\n    return _this;\n  }\n  Container.prototype.isVisible = function isVisible() {\n    var hasContent = this.cacheCanvas || this.children.length;\n    return !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\n  };\n  Container.prototype.draw = function draw(ctx) {\n    var ignoreCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (_DisplayObject.prototype.draw.call(this, ctx, ignoreCache)) {\n      return true;\n    }\n    var list = this.children.slice();\n    for (var i = 0, l = list.length; i < l; i++) {\n      var child = list[i];\n      if (!child.isVisible()) {\n        continue;\n      }\n      ctx.save();\n      child.updateContext(ctx);\n      child.draw(ctx);\n      ctx.restore();\n    }\n    return true;\n  };\n  Container.prototype.addChild = function addChild() {\n    for (var _len = arguments.length, children = Array(_len), _key = 0; _key < _len; _key++) {\n      children[_key] = arguments[_key];\n    }\n    var l = children.length;\n    if (l === 0) {\n      return null;\n    }\n    var child = children[0];\n    if (l > 1) {\n      for (var i = 0; i < l; i++) {\n        child = this.addChild(children[i]);\n      }\n      return child;\n    }\n    var parent = child.parent, silent = parent === this;\n    parent && parent._removeChildAt(parent.children.indexOf(child), silent);\n    child.parent = this;\n    this.children.push(child);\n    if (!silent) {\n      child.dispatchEvent(\"added\");\n    }\n    return child;\n  };\n  Container.prototype.addChildAt = function addChildAt() {\n    for (var _len2 = arguments.length, children = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      children[_key2] = arguments[_key2];\n    }\n    var l = children.length;\n    if (l === 0) {\n      return null;\n    }\n    var index = children.pop();\n    if (index < 0 || index > this.children.length) {\n      return children[l - 2];\n    }\n    if (l > 2) {\n      for (var i = 0; i < l - 1; i++) {\n        this.addChildAt(children[i], index++);\n      }\n      return children[l - 2];\n    }\n    var child = children[0];\n    var parent = child.parent, silent = parent === this;\n    parent && parent._removeChildAt(parent.children.indexOf(child), silent);\n    child.parent = this;\n    this.children.splice(index++, 0, child);\n    if (!silent) {\n      child.dispatchEvent(\"added\");\n    }\n    return child;\n  };\n  Container.prototype.removeChild = function removeChild() {\n    for (var _len3 = arguments.length, children = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      children[_key3] = arguments[_key3];\n    }\n    var l = children.length;\n    if (l === 0) {\n      return true;\n    }\n    if (l > 1) {\n      var good = true;\n      for (var i = 0; i < l; i++) {\n        good = good && this.removeChild(children[i]);\n      }\n      return good;\n    }\n    return this._removeChildAt(this.children.indexOf(children[0]));\n  };\n  Container.prototype.removeChildAt = function removeChildAt() {\n    for (var _len4 = arguments.length, indexes = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      indexes[_key4] = arguments[_key4];\n    }\n    var l = indexes.length;\n    if (l === 0) {\n      return true;\n    }\n    if (l > 1) {\n      indexes.sort(function(a, b) {\n        return b - a;\n      });\n      var good = true;\n      for (var i = 0; i < l; i++) {\n        good = good && this._removeChildAt(indexes[i]);\n      }\n      return good;\n    }\n    return this._removeChildAt(indexes[0]);\n  };\n  Container.prototype.removeAllChildren = function removeAllChildren() {\n    var kids = this.children;\n    while (kids.length) {\n      this._removeChildAt(0);\n    }\n  };\n  Container.prototype.getChildAt = function getChildAt(index) {\n    return this.children[index];\n  };\n  Container.prototype.getChildByName = function getChildByName(name) {\n    var kids = this.children;\n    var l = kids.length;\n    for (var i = 0; i < l; i++) {\n      if (kids[i].name === name) {\n        return kids[i];\n      }\n    }\n    return null;\n  };\n  Container.prototype.sortChildren = function sortChildren(sortFunction) {\n    this.children.sort(sortFunction);\n  };\n  Container.prototype.getChildIndex = function getChildIndex(child) {\n    return this.children.indexOf(child);\n  };\n  Container.prototype.swapChildrenAt = function swapChildrenAt(index1, index2) {\n    var kids = this.children;\n    var o1 = kids[index1];\n    var o2 = kids[index2];\n    if (!o1 || !o2) {\n      return;\n    }\n    kids[index1] = o2;\n    kids[index2] = o1;\n  };\n  Container.prototype.swapChildren = function swapChildren(child1, child2) {\n    var kids = this.children;\n    var l = kids.length;\n    var index1 = void 0, index2 = void 0;\n    for (var i = 0; i < l; i++) {\n      if (kids[i] === child1) {\n        index1 = i;\n      }\n      if (kids[i] === child2) {\n        index2 = i;\n      }\n      if (index1 != null && index2 != null) {\n        break;\n      }\n    }\n    if (i === l) {\n      return;\n    }\n    kids[index1] = child2;\n    kids[index2] = child1;\n  };\n  Container.prototype.setChildIndex = function setChildIndex(child, index) {\n    var kids = this.children;\n    var l = kids.length;\n    if (child.parent != this || index < 0 || index >= l) {\n      return;\n    }\n    for (var i = 0; i < l; i++) {\n      if (kids[i] === child) {\n        break;\n      }\n    }\n    if (i === l || i === index) {\n      return;\n    }\n    kids.splice(i, 1);\n    kids.splice(index, 0, child);\n  };\n  Container.prototype.contains = function contains(child) {\n    while (child) {\n      if (child === this) {\n        return true;\n      }\n      child = child.parent;\n    }\n    return false;\n  };\n  Container.prototype.hitTest = function hitTest(x, y) {\n    return this.getObjectUnderPoint(x, y) != null;\n  };\n  Container.prototype.getObjectsUnderPoint = function getObjectsUnderPoint(x, y) {\n    var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var arr = [];\n    var pt = this.localToGlobal(x, y);\n    this._getObjectsUnderPoint(pt.x, pt.y, arr, mode > 0, mode === 1);\n    return arr;\n  };\n  Container.prototype.getObjectUnderPoint = function getObjectUnderPoint(x, y) {\n    var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var pt = this.localToGlobal(x, y);\n    return this._getObjectsUnderPoint(pt.x, pt.y, null, mode > 0, mode === 1);\n  };\n  Container.prototype.getBounds = function getBounds() {\n    return this._getBounds(null, true);\n  };\n  Container.prototype.getTransformedBounds = function getTransformedBounds() {\n    return this._getBounds();\n  };\n  Container.prototype.clone = function clone() {\n    var recursive = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var o = this._cloneProps(new Container());\n    if (recursive) {\n      this._cloneChildren(o);\n    }\n    return o;\n  };\n  Container.prototype._tick = function _tick(evtObj) {\n    if (this.tickChildren) {\n      for (var i = this.children.length - 1; i >= 0; i--) {\n        var child = this.children[i];\n        if (child.tickEnabled && child._tick) {\n          child._tick(evtObj);\n        }\n      }\n    }\n    _DisplayObject.prototype._tick.call(this, evtObj);\n  };\n  Container.prototype._cloneChildren = function _cloneChildren(o) {\n    if (o.children.length) {\n      o.removeAllChildren();\n    }\n    var arr = o.children;\n    var l = this.children.length;\n    for (var i = 0; i < l; i++) {\n      var clone = this.children[i].clone(true);\n      clone.parent = o;\n      arr.push(clone);\n    }\n  };\n  Container.prototype._removeChildAt = function _removeChildAt(index) {\n    var silent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (index < 0 || index > this.children.length - 1) {\n      return false;\n    }\n    var child = this.children[index];\n    if (child) {\n      child.parent = null;\n    }\n    this.children.splice(index, 1);\n    if (!silent) {\n      child.dispatchEvent(\"removed\");\n    }\n    return true;\n  };\n  Container.prototype._getObjectsUnderPoint = function _getObjectsUnderPoint(x, y, arr, mouse, activeListener) {\n    var currentDepth = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n    if (!currentDepth && !this._testMask(this, x, y)) {\n      return null;\n    }\n    var mtx = void 0, ctx = DisplayObject._hitTestContext;\n    activeListener = activeListener || mouse && this._hasMouseEventListener();\n    var children = this.children;\n    var l = children.length;\n    for (var i = l - 1; i >= 0; i--) {\n      var child = children[i];\n      var hitArea = child.hitArea;\n      if (!child.visible || !hitArea && !child.isVisible() || mouse && !child.mouseEnabled) {\n        continue;\n      }\n      if (!hitArea && !this._testMask(child, x, y)) {\n        continue;\n      }\n      if (!hitArea && child instanceof Container) {\n        var result = child._getObjectsUnderPoint(x, y, arr, mouse, activeListener, currentDepth + 1);\n        if (!arr && result) {\n          return mouse && !this.mouseChildren ? this : result;\n        }\n      } else {\n        if (mouse && !activeListener && !child._hasMouseEventListener()) {\n          continue;\n        }\n        var props = child.getConcatenatedDisplayProps(child._props);\n        mtx = props.matrix;\n        if (hitArea) {\n          mtx.appendMatrix(hitArea.getMatrix(hitArea._props.matrix));\n          props.alpha = hitArea.alpha;\n        }\n        ctx.globalAlpha = props.alpha;\n        ctx.setTransform(mtx.a, mtx.b, mtx.c, mtx.d, mtx.tx - x, mtx.ty - y);\n        (hitArea || child).draw(ctx);\n        if (!this._testHit(ctx)) {\n          continue;\n        }\n        ctx.setTransform(1, 0, 0, 1, 0, 0);\n        ctx.clearRect(0, 0, 2, 2);\n        if (arr) {\n          arr.push(child);\n        } else {\n          return mouse && !this.mouseChildren ? this : child;\n        }\n      }\n    }\n    return null;\n  };\n  Container.prototype._testMask = function _testMask(target, x, y) {\n    var mask = target.mask;\n    if (!mask || !mask.graphics || mask.graphics.isEmpty()) {\n      return true;\n    }\n    var mtx = this._props.matrix, parent = target.parent;\n    mtx = parent ? parent.getConcatenatedMatrix(mtx) : mtx.identity();\n    mtx = mask.getMatrix(mask._props.matrix).prependMatrix(mtx);\n    var ctx = DisplayObject._hitTestContext;\n    ctx.setTransform(mtx.a, mtx.b, mtx.c, mtx.d, mtx.tx - x, mtx.ty - y);\n    mask.graphics.drawAsPath(ctx);\n    ctx.fillStyle = \"#000\";\n    ctx.fill();\n    if (!this._testHit(ctx)) {\n      return false;\n    }\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.clearRect(0, 0, 2, 2);\n    return true;\n  };\n  Container.prototype._getBounds = function _getBounds(matrix, ignoreTransform) {\n    var bounds = _DisplayObject.prototype.getBounds.call(this);\n    if (bounds) {\n      return this._transformBounds(bounds, matrix, ignoreTransform);\n    }\n    var mtx = this._props.matrix;\n    mtx = ignoreTransform ? mtx.identity() : this.getMatrix(mtx);\n    if (matrix) {\n      mtx.prependMatrix(matrix);\n    }\n    var l = this.children.length;\n    var rect = null;\n    for (var i = 0; i < l; i++) {\n      var child = this.children[i];\n      if (!child.visible || !(bounds = child._getBounds(mtx))) {\n        continue;\n      }\n      if (rect) {\n        rect.extend(bounds.x, bounds.y, bounds.width, bounds.height);\n      } else {\n        rect = bounds.clone();\n      }\n    }\n    return rect;\n  };\n  createClass(Container, [ {\n    key: \"numChildren\",\n    get: function get() {\n      return this.children.length;\n    }\n  } ]);\n  return Container;\n}(DisplayObject);\n\nvar MouseEvent = function(_Event) {\n  inherits(MouseEvent, _Event);\n  function MouseEvent(type, bubbles, cancelable, stageX, stageY, nativeEvent, pointerID, primary, rawX, rawY, relatedTarget) {\n    classCallCheck(this, MouseEvent);\n    var _this = possibleConstructorReturn(this, _Event.call(this, type, bubbles, cancelable));\n    _this.stageX = stageX;\n    _this.stageY = stageY;\n    _this.rawX = rawX == null ? stageX : rawX;\n    _this.rawY = rawY == null ? stageY : rawY;\n    _this.nativeEvent = nativeEvent;\n    _this.pointerID = pointerID;\n    _this.primary = !!primary;\n    _this.relatedTarget = relatedTarget;\n    return _this;\n  }\n  MouseEvent.prototype.clone = function clone() {\n    return new MouseEvent(this.type, this.bubbles, this.cancelable, this.stageX, this.stageY, this.nativeEvent, this.pointerID, this.primary, this.rawX, this.rawY);\n  };\n  MouseEvent.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \" (type=\" + this.type + \" stageX=\" + this.stageX + \" stageY=\" + this.stageY + \")]\";\n  };\n  createClass(MouseEvent, [ {\n    key: \"localX\",\n    get: function get() {\n      return this.currentTarget.globalToLocal(this.rawX, this.rawY).x;\n    }\n  }, {\n    key: \"localY\",\n    get: function get() {\n      return this.currentTarget.globalToLocal(this.rawX, this.rawY).y;\n    }\n  }, {\n    key: \"isTouch\",\n    get: function get() {\n      return this.pointerID !== -1;\n    }\n  } ]);\n  return MouseEvent;\n}(Event);\n\nvar Stage = function(_Container) {\n  inherits(Stage, _Container);\n  function Stage(canvas) {\n    classCallCheck(this, Stage);\n    var _this = possibleConstructorReturn(this, _Container.call(this));\n    _this.autoClear = true;\n    _this.canvas = typeof canvas === \"string\" ? document.getElementById(canvas) : canvas;\n    _this.mouseX = 0;\n    _this.mouseY = 0;\n    _this.drawRect = null;\n    _this.snapToPixelEnabled = false;\n    _this.mouseInBounds = false;\n    _this.tickOnUpdate = true;\n    _this.mouseMoveOutside = false;\n    _this.preventSelection = true;\n    _this._pointerData = {};\n    _this._pointerCount = 0;\n    _this._primaryPointerID = null;\n    _this._mouseOverIntervalID = null;\n    _this._nextStage = null;\n    _this._prevStage = null;\n    _this.enableDOMEvents(true);\n    return _this;\n  }\n  Stage.prototype.update = function update(props) {\n    if (!this.canvas) {\n      return;\n    }\n    if (this.tickOnUpdate) {\n      this.tick(props);\n    }\n    if (this.dispatchEvent(\"drawstart\", false, true) === false) {\n      return;\n    }\n    DisplayObject._snapToPixelEnabled = this.snapToPixelEnabled;\n    var r = this.drawRect, ctx = this.canvas.getContext(\"2d\");\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    if (this.autoClear) {\n      if (r) {\n        ctx.clearRect(r.x, r.y, r.width, r.height);\n      } else {\n        ctx.clearRect(0, 0, this.canvas.width + 1, this.canvas.height + 1);\n      }\n    }\n    ctx.save();\n    if (this.drawRect) {\n      ctx.beginPath();\n      ctx.rect(r.x, r.y, r.width, r.height);\n      ctx.clip();\n    }\n    this.updateContext(ctx);\n    this.draw(ctx, false);\n    ctx.restore();\n    this.dispatchEvent(\"drawend\");\n  };\n  Stage.prototype.tick = function tick(props) {\n    if (!this.tickEnabled || this.dispatchEvent(\"tickstart\", false, true) === false) {\n      return;\n    }\n    var evtObj = new Event(\"tick\");\n    if (props) {\n      for (var n in props) {\n        if (props.hasOwnProperty(n)) {\n          evtObj[n] = props[n];\n        }\n      }\n    }\n    this._tick(evtObj);\n    this.dispatchEvent(\"tickend\");\n  };\n  Stage.prototype.handleEvent = function handleEvent(evt) {\n    if (evt.type === \"tick\") {\n      this.update(evt);\n    }\n  };\n  Stage.prototype.clear = function clear() {\n    if (!this.canvas) {\n      return;\n    }\n    var ctx = this.canvas.getContext(\"2d\");\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.clearRect(0, 0, this.canvas.width + 1, this.canvas.height + 1);\n  };\n  Stage.prototype.toDataURL = function toDataURL(backgroundColor) {\n    var mimeType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"image/png\";\n    var data = void 0, ctx = this.canvas.getContext(\"2d\"), w = this.canvas.width, h = this.canvas.height;\n    if (backgroundColor) {\n      data = ctx.getImageData(0, 0, w, h);\n      var compositeOperation = ctx.globalCompositeOperation;\n      ctx.globalCompositeOperation = \"destination-over\";\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(0, 0, w, h);\n    }\n    var dataURL = this.canvas.toDataURL(mimeType);\n    if (backgroundColor) {\n      ctx.putImageData(data, 0, 0);\n      ctx.globalCompositeOperation = compositeOperation;\n    }\n    return dataURL;\n  };\n  Stage.prototype.enableMouseOver = function enableMouseOver() {\n    var _this2 = this;\n    var frequency = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n    if (this._mouseOverIntervalID) {\n      clearInterval(this._mouseOverIntervalID);\n      this._mouseOverIntervalID = null;\n      if (frequency === 0) {\n        this._testMouseOver(true);\n      }\n    }\n    if (frequency <= 0) {\n      return;\n    }\n    this._mouseOverIntervalID = setInterval(function() {\n      return _this2._testMouseOver();\n    }, 1e3 / Math.min(50, frequency));\n  };\n  Stage.prototype.enableDOMEvents = function enableDOMEvents() {\n    var _this3 = this;\n    var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var ls = this._eventListeners;\n    if (!enable && ls) {\n      for (var n in ls) {\n        var o = ls[n];\n        o.t.removeEventListener(n, o.f, false);\n      }\n      this._eventListeners = null;\n    } else if (enable && !ls && this.canvas) {\n      var t = window.addEventListener ? window : document;\n      ls = this._eventListeners = {\n        mouseup: {\n          t: t,\n          f: function f(e) {\n            return _this3._handleMouseUp(e);\n          }\n        },\n        mousemove: {\n          t: t,\n          f: function f(e) {\n            return _this3._handleMouseMove(e);\n          }\n        },\n        dblclick: {\n          t: this.canvas,\n          f: function f(e) {\n            return _this3._handleDoubleClick(e);\n          }\n        },\n        mousedown: {\n          t: this.canvas,\n          f: function f(e) {\n            return _this3._handleMouseDown(e);\n          }\n        }\n      };\n      for (var _n in ls) {\n        var _o = ls[_n];\n        _o.t.addEventListener && _o.t.addEventListener(_n, _o.f, false);\n      }\n    }\n  };\n  Stage.prototype.clone = function clone() {\n    throw \"Stage cannot be cloned.\";\n  };\n  Stage.prototype._getElementRect = function _getElementRect(e) {\n    var bounds = void 0;\n    try {\n      bounds = e.getBoundingClientRect();\n    } catch (err) {\n      bounds = {\n        top: e.offsetTop,\n        left: e.offsetLeft,\n        width: e.offsetWidth,\n        height: e.offsetHeight\n      };\n    }\n    var offX = (window.pageXOffset || document.scrollLeft || 0) - (document.clientLeft || document.body.clientLeft || 0);\n    var offY = (window.pageYOffset || document.scrollTop || 0) - (document.clientTop || document.body.clientTop || 0);\n    var styles = window.getComputedStyle ? getComputedStyle(e, null) : e.currentStyle;\n    var padL = parseInt(styles.paddingLeft) + parseInt(styles.borderLeftWidth);\n    var padT = parseInt(styles.paddingTop) + parseInt(styles.borderTopWidth);\n    var padR = parseInt(styles.paddingRight) + parseInt(styles.borderRightWidth);\n    var padB = parseInt(styles.paddingBottom) + parseInt(styles.borderBottomWidth);\n    return {\n      left: bounds.left + offX + padL,\n      right: bounds.right + offX - padR,\n      top: bounds.top + offY + padT,\n      bottom: bounds.bottom + offY - padB\n    };\n  };\n  Stage.prototype._getPointerData = function _getPointerData(id) {\n    var data = this._pointerData[id];\n    if (!data) {\n      data = this._pointerData[id] = {\n        x: 0,\n        y: 0\n      };\n    }\n    return data;\n  };\n  Stage.prototype._handleMouseMove = function _handleMouseMove() {\n    var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.event;\n    this._handlePointerMove(-1, e, e.pageX, e.pageY);\n  };\n  Stage.prototype._handlePointerMove = function _handlePointerMove(id, e, pageX, pageY, owner) {\n    if (this._prevStage && owner === undefined) {\n      return;\n    }\n    if (!this.canvas) {\n      return;\n    }\n    var nextStage = this._nextStage, o = this._getPointerData(id);\n    var inBounds = o.inBounds;\n    this._updatePointerPosition(id, e, pageX, pageY);\n    if (inBounds || o.inBounds || this.mouseMoveOutside) {\n      if (id === -1 && o.inBounds === !inBounds) {\n        this._dispatchMouseEvent(this, inBounds ? \"mouseleave\" : \"mouseenter\", false, id, o, e);\n      }\n      this._dispatchMouseEvent(this, \"stagemousemove\", false, id, o, e);\n      this._dispatchMouseEvent(o.target, \"pressmove\", true, id, o, e);\n    }\n    nextStage && nextStage._handlePointerMove(id, e, pageX, pageY, null);\n  };\n  Stage.prototype._updatePointerPosition = function _updatePointerPosition(id, e, pageX, pageY) {\n    var rect = this._getElementRect(this.canvas);\n    pageX -= rect.left;\n    pageY -= rect.top;\n    var w = this.canvas.width;\n    var h = this.canvas.height;\n    pageX /= (rect.right - rect.left) / w;\n    pageY /= (rect.bottom - rect.top) / h;\n    var o = this._getPointerData(id);\n    if (o.inBounds = pageX >= 0 && pageY >= 0 && pageX <= w - 1 && pageY <= h - 1) {\n      o.x = pageX;\n      o.y = pageY;\n    } else if (this.mouseMoveOutside) {\n      o.x = pageX < 0 ? 0 : pageX > w - 1 ? w - 1 : pageX;\n      o.y = pageY < 0 ? 0 : pageY > h - 1 ? h - 1 : pageY;\n    }\n    o.posEvtObj = e;\n    o.rawX = pageX;\n    o.rawY = pageY;\n    if (id === this._primaryPointerID || id === -1) {\n      this.mouseX = o.x;\n      this.mouseY = o.y;\n      this.mouseInBounds = o.inBounds;\n    }\n  };\n  Stage.prototype._handleMouseUp = function _handleMouseUp(e) {\n    this._handlePointerUp(-1, e, false);\n  };\n  Stage.prototype._handlePointerUp = function _handlePointerUp(id, e, clear, owner) {\n    var nextStage = this._nextStage, o = this._getPointerData(id);\n    if (this._prevStage && owner === undefined) {\n      return;\n    }\n    var target = null, oTarget = o.target;\n    if (!owner && (oTarget || nextStage)) {\n      target = this._getObjectsUnderPoint(o.x, o.y, null, true);\n    }\n    if (o.down) {\n      this._dispatchMouseEvent(this, \"stagemouseup\", false, id, o, e, target);\n      o.down = false;\n    }\n    if (target === oTarget) {\n      this._dispatchMouseEvent(oTarget, \"click\", true, id, o, e);\n    }\n    this._dispatchMouseEvent(oTarget, \"pressup\", true, id, o, e);\n    if (clear) {\n      if (id == this._primaryPointerID) {\n        this._primaryPointerID = null;\n      }\n      delete this._pointerData[id];\n    } else {\n      o.target = null;\n    }\n    nextStage && nextStage._handlePointerUp(id, e, clear, owner || target && this);\n  };\n  Stage.prototype._handleMouseDown = function _handleMouseDown(e) {\n    this._handlePointerDown(-1, e, e.pageX, e.pageY);\n  };\n  Stage.prototype._handlePointerDown = function _handlePointerDown(id, e, pageX, pageY, owner) {\n    if (this.preventSelection) {\n      e.preventDefault();\n    }\n    if (this._primaryPointerID == null || id === -1) {\n      this._primaryPointerID = id;\n    }\n    if (pageY != null) {\n      this._updatePointerPosition(id, e, pageX, pageY);\n    }\n    var target = null, nextStage = this._nextStage, o = this._getPointerData(id);\n    if (!owner) {\n      target = o.target = this._getObjectsUnderPoint(o.x, o.y, null, true);\n    }\n    if (o.inBounds) {\n      this._dispatchMouseEvent(this, \"stagemousedown\", false, id, o, e, target);\n      o.down = true;\n    }\n    this._dispatchMouseEvent(target, \"mousedown\", true, id, o, e);\n    nextStage && nextStage._handlePointerDown(id, e, pageX, pageY, owner || target && this);\n  };\n  Stage.prototype._testMouseOver = function _testMouseOver(clear, owner, eventTarget) {\n    if (this._prevStage && owner === undefined) {\n      return;\n    }\n    var nextStage = this._nextStage;\n    if (!this._mouseOverIntervalID) {\n      nextStage && nextStage._testMouseOver(clear, owner, eventTarget);\n      return;\n    }\n    var o = this._getPointerData(-1);\n    if (!o || !clear && this.mouseX === this._mouseOverX && this.mouseY === this._mouseOverY && this.mouseInBounds) {\n      return;\n    }\n    var e = o.posEvtObj;\n    var isEventTarget = eventTarget || e && e.target === this.canvas;\n    var target = null, common = -1, cursor = \"\";\n    if (!owner && (clear || this.mouseInBounds && isEventTarget)) {\n      target = this._getObjectsUnderPoint(this.mouseX, this.mouseY, null, true);\n      this._mouseOverX = this.mouseX;\n      this._mouseOverY = this.mouseY;\n    }\n    var oldList = this._mouseOverTarget || [];\n    var oldTarget = oldList[oldList.length - 1];\n    var list = this._mouseOverTarget = [];\n    var t = target;\n    while (t) {\n      list.unshift(t);\n      if (!cursor) {\n        cursor = t.cursor;\n      }\n      t = t.parent;\n    }\n    this.canvas.style.cursor = cursor;\n    if (!owner && eventTarget) {\n      eventTarget.canvas.style.cursor = cursor;\n    }\n    for (var i = 0, l = list.length; i < l; i++) {\n      if (list[i] != oldList[i]) {\n        break;\n      }\n      common = i;\n    }\n    if (oldTarget != target) {\n      this._dispatchMouseEvent(oldTarget, \"mouseout\", true, -1, o, e, target);\n    }\n    for (var _i = oldList.length - 1; _i > common; _i--) {\n      this._dispatchMouseEvent(oldList[_i], \"rollout\", false, -1, o, e, target);\n    }\n    for (var _i2 = list.length - 1; _i2 > common; _i2--) {\n      this._dispatchMouseEvent(list[_i2], \"rollover\", false, -1, o, e, oldTarget);\n    }\n    if (oldTarget != target) {\n      this._dispatchMouseEvent(target, \"mouseover\", true, -1, o, e, oldTarget);\n    }\n    nextStage && nextStage._testMouseOver(clear, owner || target && this, eventTarget || isEventTarget && this);\n  };\n  Stage.prototype._handleDoubleClick = function _handleDoubleClick(e, owner) {\n    var target = null, nextStage = this._nextStage, o = this._getPointerData(-1);\n    if (!owner) {\n      target = this._getObjectsUnderPoint(o.x, o.y, null, true);\n      this._dispatchMouseEvent(target, \"dblclick\", true, -1, o, e);\n    }\n    nextStage && nextStage._handleDoubleClick(e, owner || target && this);\n  };\n  Stage.prototype._dispatchMouseEvent = function _dispatchMouseEvent(target, type, bubbles, pointerId, o, nativeEvent, relatedTarget) {\n    if (!target || !bubbles && !target.hasEventListener(type)) {\n      return;\n    }\n    var evt = new MouseEvent(type, bubbles, false, o.x, o.y, nativeEvent, pointerId, pointerId === this._primaryPointerID || pointerId === -1, o.rawX, o.rawY, relatedTarget);\n    target.dispatchEvent(evt);\n  };\n  createClass(Stage, [ {\n    key: \"nextStage\",\n    get: function get() {\n      return this._nextStage;\n    },\n    set: function set(stage) {\n      if (this._nextStage) {\n        this._nextStage._prevStage = null;\n      }\n      if (stage) {\n        stage._prevStage = this;\n      }\n      this._nextStage = stage;\n    }\n  } ]);\n  return Stage;\n}(Container);\n\nvar VideoBuffer = function() {\n  function VideoBuffer(video) {\n    classCallCheck(this, VideoBuffer);\n    this.readyState = video.readyState;\n    this._video = video;\n    this._canvas = null;\n    this._lastTime = -1;\n    if (this.readyState < 2) {\n      video.addEventListener(\"canplaythrough\", this._videoReady.bind(this));\n    }\n  }\n  VideoBuffer.prototype.getImage = function getImage() {\n    if (this.readyState < 2) {\n      return;\n    }\n    var canvas = this._canvas, video = this._video;\n    if (!canvas) {\n      canvas = this._canvas = document.createElement(\"canvas\");\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n    }\n    if (video.readyState >= 2 && video.currentTime !== this._lastTime) {\n      var ctx = canvas.getContext(\"2d\");\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n      this._lastTime = video.currentTime;\n    }\n    return canvas;\n  };\n  VideoBuffer.prototype._videoReady = function _videoReady() {\n    this.readyState = 2;\n  };\n  return VideoBuffer;\n}();\n\nvar Bitmap = function(_DisplayObject) {\n  inherits(Bitmap, _DisplayObject);\n  function Bitmap(imageOrUri) {\n    classCallCheck(this, Bitmap);\n    var _this = possibleConstructorReturn(this, _DisplayObject.call(this));\n    if (typeof imageOrUri === \"string\") {\n      _this.image = document.createElement(\"img\");\n      _this.image.src = imageOrUri;\n    } else {\n      _this.image = imageOrUri;\n    }\n    _this.sourceRect = null;\n    _this._webGLRenderStyle = DisplayObject._StageGL_BITMAP;\n    return _this;\n  }\n  Bitmap.prototype.isVisible = function isVisible() {\n    var image = this.image;\n    var hasContent = this.cacheCanvas || image && (image.naturalWidth || image.getContext || image.readyState >= 2);\n    return !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\n  };\n  Bitmap.prototype.draw = function draw(ctx) {\n    var ignoreCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (_DisplayObject.prototype.draw.call(this, ctx, ignoreCache)) {\n      return true;\n    }\n    var img = this.image, rect = this.sourceRect;\n    if (img instanceof VideoBuffer) {\n      img = img.getImage();\n    }\n    if (img == null) {\n      return true;\n    }\n    if (rect) {\n      var x1 = rect.x, y1 = rect.y, x2 = x1 + rect.width, y2 = y1 + rect.height, x = 0, y = 0, w = img.width, h = img.height;\n      if (x1 < 0) {\n        x -= x1;\n        x1 = 0;\n      }\n      if (x2 > w) {\n        x2 = w;\n      }\n      if (y1 < 0) {\n        y -= y1;\n        y1 = 0;\n      }\n      if (y2 > h) {\n        y2 = h;\n      }\n      ctx.drawImage(img, x1, y1, x2 - x1, y2 - y1, x, y, x2 - x1, y2 - y1);\n    } else {\n      ctx.drawImage(img, 0, 0);\n    }\n    return true;\n  };\n  Bitmap.prototype.getBounds = function getBounds() {\n    var rect = _DisplayObject.prototype.getBounds.call(this);\n    if (rect) {\n      return rect;\n    }\n    var image = this.image, o = this.sourceRect || image;\n    var hasContent = image && (image.naturalWidth || image.getContext || image.readyState >= 2);\n    return hasContent ? this._rectangle.setValues(0, 0, o.width, o.height) : null;\n  };\n  Bitmap.prototype.clone = function clone(node) {\n    var img = this.image;\n    if (img != null && node != null) {\n      img = img.cloneNode();\n    }\n    var bmp = new Bitmap(img);\n    if (this.sourceRect) {\n      bmp.sourceRect = this.sourceRect.clone();\n    }\n    this._cloneProps(bmp);\n    return bmp;\n  };\n  return Bitmap;\n}(DisplayObject);\n\nvar Sprite = function(_DisplayObject) {\n  inherits(Sprite, _DisplayObject);\n  function Sprite(spriteSheet, frameOrAnimation) {\n    classCallCheck(this, Sprite);\n    var _this = possibleConstructorReturn(this, _DisplayObject.call(this));\n    _this.currentFrame = 0;\n    _this.currentAnimation = null;\n    _this.paused = true;\n    _this.spriteSheet = spriteSheet;\n    _this.currentAnimationFrame = 0;\n    _this.framerate = 0;\n    _this._animation = null;\n    _this._currentFrame = null;\n    _this._skipAdvance = false;\n    _this._webGLRenderStyle = DisplayObject._StageGL_SPRITE;\n    if (frameOrAnimation != null) {\n      _this.gotoAndPlay(frameOrAnimation);\n    }\n    return _this;\n  }\n  Sprite.prototype.isVisible = function isVisible() {\n    var hasContent = this.cacheCanvas || this.spriteSheet.complete;\n    return !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\n  };\n  Sprite.prototype.draw = function draw(ctx, ignoreCache) {\n    if (_DisplayObject.prototype.draw.call(this, ctx, ignoreCache)) {\n      return true;\n    }\n    this._normalizeFrame();\n    var o = this.spriteSheet.getFrame(this._currentFrame | 0);\n    if (!o) {\n      return false;\n    }\n    var rect = o.rect;\n    if (rect.width && rect.height) {\n      ctx.drawImage(o.image, rect.x, rect.y, rect.width, rect.height, -o.regX, -o.regY, rect.width, rect.height);\n    }\n    return true;\n  };\n  Sprite.prototype.play = function play() {\n    this.paused = false;\n  };\n  Sprite.prototype.stop = function stop() {\n    this.paused = true;\n  };\n  Sprite.prototype.gotoAndPlay = function gotoAndPlay(frameOrAnimation) {\n    this.paused = false;\n    this._skipAdvance = true;\n    this._goto(frameOrAnimation);\n  };\n  Sprite.prototype.gotoAndStop = function gotoAndStop(frameOrAnimation) {\n    this.paused = true;\n    this._goto(frameOrAnimation);\n  };\n  Sprite.prototype.advance = function advance(time) {\n    var fps = this.framerate || this.spriteSheet.framerate;\n    var t = fps && time != null ? time / (1e3 / fps) : 1;\n    this._normalizeFrame(t);\n  };\n  Sprite.prototype.getBounds = function getBounds() {\n    return _DisplayObject.prototype.getBounds.call(this) || this.spriteSheet.getFrameBounds(this.currentFrame, this._rectangle);\n  };\n  Sprite.prototype.clone = function clone() {\n    return this._cloneProps(new Sprite(this.spriteSheet));\n  };\n  Sprite.prototype._cloneProps = function _cloneProps(o) {\n    _DisplayObject.prototype._cloneProps.call(this, o);\n    o.currentFrame = this.currentFrame;\n    o.currentAnimation = this.currentAnimation;\n    o.paused = this.paused;\n    o.currentAnimationFrame = this.currentAnimationFrame;\n    o.framerate = this.framerate;\n    o._animation = this._animation;\n    o._currentFrame = this._currentFrame;\n    o._skipAdvance = this._skipAdvance;\n    return o;\n  };\n  Sprite.prototype._tick = function _tick(evtObj) {\n    if (!this.paused) {\n      if (!this._skipAdvance) {\n        this.advance(evtObj && evtObj.delta);\n      }\n      this._skipAdvance = false;\n    }\n    _DisplayObject.prototype._tick.call(this, evtObj);\n  };\n  Sprite.prototype._normalizeFrame = function _normalizeFrame() {\n    var frameDelta = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var animation = this._animation;\n    var paused = this.paused;\n    var frame = this._currentFrame;\n    if (animation) {\n      var speed = animation.speed || 1;\n      var animFrame = this.currentAnimationFrame;\n      var l = animation.frames.length;\n      if (animFrame + frameDelta * speed >= l) {\n        var next = animation.next;\n        if (this._dispatchAnimationEnd(animation, frame, paused, next, l - 1)) {\n          return;\n        } else if (next) {\n          return this._goto(next, frameDelta - (l - animFrame) / speed);\n        } else {\n          this.paused = true;\n          animFrame = animation.frames.length - 1;\n        }\n      } else {\n        animFrame += frameDelta * speed;\n      }\n      this.currentAnimationFrame = animFrame;\n      this._currentFrame = animation.frames[animFrame | 0];\n    } else {\n      frame = this._currentFrame += frameDelta;\n      var _l = this.spriteSheet.getNumFrames();\n      if (frame >= _l && _l > 0) {\n        if (!this._dispatchAnimationEnd(animation, frame, paused, _l - 1)) {\n          if ((this._currentFrame -= _l) >= _l) {\n            return this._normalizeFrame();\n          }\n        }\n      }\n    }\n    frame = this._currentFrame | 0;\n    if (this.currentFrame != frame) {\n      this.currentFrame = frame;\n      this.dispatchEvent(\"change\");\n    }\n  };\n  Sprite.prototype._dispatchAnimationEnd = function _dispatchAnimationEnd(animation, frame, paused, next, end) {\n    var name = animation ? animation.name : null;\n    if (this.hasEventListener(\"animationend\")) {\n      var evt = new Event(\"animationend\");\n      evt.name = name;\n      evt.next = next;\n      this.dispatchEvent(evt);\n    }\n    var changed = this._animation != animation || this._currentFrame != frame;\n    if (!changed && !paused && this.paused) {\n      this.currentAnimationFrame = end;\n      changed = true;\n    }\n    return changed;\n  };\n  Sprite.prototype._goto = function _goto(frameOrAnimation, frame) {\n    this.currentAnimationFrame = 0;\n    if (isNaN(frameOrAnimation)) {\n      var data = this.spriteSheet.getAnimation(frameOrAnimation);\n      if (data) {\n        this._animation = data;\n        this.currentAnimation = frameOrAnimation;\n        this._normalizeFrame(frame);\n      }\n    } else {\n      this.currentAnimation = this._animation = null;\n      this._currentFrame = frameOrAnimation;\n      this._normalizeFrame();\n    }\n  };\n  return Sprite;\n}(DisplayObject);\n\nvar _maxPoolSize = 100;\n\nvar _spritePool = [];\n\nvar BitmapText = function(_Container) {\n  inherits(BitmapText, _Container);\n  function BitmapText() {\n    var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    var spriteSheet = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    classCallCheck(this, BitmapText);\n    var _this = possibleConstructorReturn(this, _Container.call(this));\n    _this.text = text;\n    _this.spriteSheet = spriteSheet;\n    _this.lineHeight = 0;\n    _this.letterSpacing = 0;\n    _this.spaceWidth = 0;\n    _this._oldProps = {\n      text: 0,\n      spriteSheet: 0,\n      lineHeight: 0,\n      letterSpacing: 0,\n      spaceWidth: 0\n    };\n    _this._oldStage = null;\n    _this._drawAction = null;\n    return _this;\n  }\n  BitmapText.prototype.draw = function draw(ctx, ignoreCache) {\n    if (this.drawCache(ctx, ignoreCache)) {\n      return;\n    }\n    this._updateState();\n    _Container.prototype.draw.call(this, ctx, ignoreCache);\n  };\n  BitmapText.prototype.getBounds = function getBounds() {\n    this._updateText();\n    return _Container.prototype.getBounds.call(this);\n  };\n  BitmapText.prototype.isVisible = function isVisible() {\n    var hasContent = this.cacheCanvas || this.spriteSheet && this.spriteSheet.complete && this.text;\n    return !!(this.visible && this.alpha > 0 && this.scaleX !== 0 && this.scaleY !== 0 && hasContent);\n  };\n  BitmapText.prototype.clone = function clone() {\n    return this._cloneProps(new BitmapText(this.text, this.spriteSheet));\n  };\n  BitmapText.prototype.addChild = function addChild() {};\n  BitmapText.prototype.addChildAt = function addChildAt() {};\n  BitmapText.prototype.removeChild = function removeChild() {};\n  BitmapText.prototype.removeChildAt = function removeChildAt() {};\n  BitmapText.prototype.removeAllChildren = function removeAllChildren() {};\n  BitmapText.prototype._updateState = function _updateState() {\n    this._updateText();\n  };\n  BitmapText.prototype._cloneProps = function _cloneProps(o) {\n    _Container.prototype._cloneProps.call(this, o);\n    o.lineHeight = this.lineHeight;\n    o.letterSpacing = this.letterSpacing;\n    o.spaceWidth = this.spaceWidth;\n    return o;\n  };\n  BitmapText.prototype._getFrameIndex = function _getFrameIndex(character, spriteSheet) {\n    var c = void 0, o = spriteSheet.getAnimation(character);\n    if (!o) {\n      character != (c = character.toUpperCase()) || character != (c = character.toLowerCase()) || (c = null);\n      if (c) {\n        o = spriteSheet.getAnimation(c);\n      }\n    }\n    return o && o.frames[0];\n  };\n  BitmapText.prototype._getFrame = function _getFrame(character, spriteSheet) {\n    var index = this._getFrameIndex(character, spriteSheet);\n    return index == null ? index : spriteSheet.getFrame(index);\n  };\n  BitmapText.prototype._getLineHeight = function _getLineHeight(ss) {\n    var frame = this._getFrame(\"1\", ss) || this._getFrame(\"T\", ss) || this._getFrame(\"L\", ss) || ss.getFrame(0);\n    return frame ? frame.rect.height : 1;\n  };\n  BitmapText.prototype._getSpaceWidth = function _getSpaceWidth(ss) {\n    var frame = this._getFrame(\"1\", ss) || this._getFrame(\"l\", ss) || this._getFrame(\"e\", ss) || this._getFrame(\"a\", ss) || ss.getFrame(0);\n    return frame ? frame.rect.width : 1;\n  };\n  BitmapText.prototype._tick = function _tick(evtObj) {\n    var stage = this.stage;\n    stage && stage.on(\"drawstart\", this._updateText, this, true);\n    _Container.prototype._tick.call(this, evtObj);\n  };\n  BitmapText.prototype._updateText = function _updateText() {\n    var x = 0, y = 0, o = this._oldProps, change = false, spaceW = this.spaceWidth, lineH = this.lineHeight, ss = this.spriteSheet;\n    var pool = BitmapText._spritePool, kids = this.children, childIndex = 0, numKids = kids.length, sprite = void 0;\n    for (var n in o) {\n      if (o[n] != this[n]) {\n        o[n] = this[n];\n        change = true;\n      }\n    }\n    if (!change) {\n      return;\n    }\n    var hasSpace = !!this._getFrame(\" \", ss);\n    if (!hasSpace && !spaceW) {\n      spaceW = this._getSpaceWidth(ss);\n    }\n    if (!lineH) {\n      lineH = this._getLineHeight(ss);\n    }\n    for (var i = 0, l = this.text.length; i < l; i++) {\n      var character = this.text.charAt(i);\n      if (character === \" \" && !hasSpace) {\n        x += spaceW;\n        continue;\n      } else if (character === \"\\n\" || character === \"\\r\") {\n        if (character === \"\\r\" && this.text.charAt(i + 1) === \"\\n\") {\n          i++;\n        }\n        x = 0;\n        y += lineH;\n        continue;\n      }\n      var index = this._getFrameIndex(character, ss);\n      if (index == null) {\n        continue;\n      }\n      if (childIndex < numKids) {\n        sprite = kids[childIndex];\n      } else {\n        kids.push(sprite = pool.length ? pool.pop() : new Sprite());\n        sprite.parent = this;\n        numKids++;\n      }\n      sprite.spriteSheet = ss;\n      sprite.gotoAndStop(index);\n      sprite.x = x;\n      sprite.y = y;\n      childIndex++;\n      x += sprite.getBounds().width + this.letterSpacing;\n    }\n    while (numKids > childIndex) {\n      pool.push(sprite = kids.pop());\n      sprite.parent = null;\n      numKids--;\n    }\n    if (pool.length > BitmapText.maxPoolSize) {\n      pool.length = BitmapText.maxPoolSize;\n    }\n  };\n  createClass(BitmapText, null, [ {\n    key: \"maxPoolSize\",\n    get: function get() {\n      return _maxPoolSize;\n    },\n    set: function set(maxPoolSize) {\n      _maxPoolSize = maxPoolSize;\n    }\n  }, {\n    key: \"_spritePool\",\n    get: function get() {\n      return _spritePool;\n    }\n  } ]);\n  return BitmapText;\n}(Container);\n\nvar DOMElement = function(_DisplayObject) {\n  inherits(DOMElement, _DisplayObject);\n  function DOMElement(htmlElement) {\n    classCallCheck(this, DOMElement);\n    var _this = possibleConstructorReturn(this, _DisplayObject.call(this));\n    if (typeof htmlElement === \"string\") {\n      htmlElement = document.getElementById(htmlElement);\n    }\n    _this.mouseEnabled = false;\n    var style = htmlElement.style;\n    style.position = \"absolute\";\n    style.transformOrigin = style.WebkitTransformOrigin = style.msTransformOrigin = style.MozTransformOrigin = style.OTransformOrigin = \"0% 0%\";\n    _this.htmlElement = htmlElement;\n    _this._oldProps = null;\n    _this._oldStage = null;\n    _this._drawAction = null;\n    return _this;\n  }\n  DOMElement.prototype.isVisible = function isVisible() {\n    return this.htmlElement != null;\n  };\n  DOMElement.prototype.draw = function draw(ctx, ignoreCache) {\n    return true;\n  };\n  DOMElement.prototype.cache = function cache() {};\n  DOMElement.prototype.uncache = function uncache() {};\n  DOMElement.prototype.updateCache = function updateCache() {};\n  DOMElement.prototype.hitTest = function hitTest() {};\n  DOMElement.prototype.localToGlobal = function localToGlobal() {};\n  DOMElement.prototype.globalToLocal = function globalToLocal() {};\n  DOMElement.prototype.localToLocal = function localToLocal() {};\n  DOMElement.prototype.clone = function clone() {\n    throw \"DOMElement cannot be cloned.\";\n  };\n  DOMElement.prototype._tick = function _tick(evtObj) {\n    var stage = this.stage;\n    if (stage != null && stage !== this._oldStage) {\n      this._drawAction && stage.off(\"drawend\", this._drawAction);\n      this._drawAction = stage.on(\"drawend\", this._handleDrawEnd, this);\n      this._oldStage = stage;\n    }\n    _DisplayObject.prototype._tick.call(this, evtObj);\n  };\n  DOMElement.prototype._handleDrawEnd = function _handleDrawEnd(evt) {\n    var o = this.htmlElement;\n    if (!o) {\n      return;\n    }\n    var style = o.style;\n    var props = this.getConcatenatedDisplayProps(this._props), mtx = props.matrix;\n    var visibility = props.visible ? \"visible\" : \"hidden\";\n    if (visibility != style.visibility) {\n      style.visibility = visibility;\n    }\n    if (!props.visible) {\n      return;\n    }\n    var oldProps = this._oldProps, oldMtx = oldProps && oldProps.matrix;\n    var n = 1e4;\n    if (!oldMtx || !oldMtx.equals(mtx)) {\n      var str = \"matrix(\" + (mtx.a * n | 0) / n + \",\" + (mtx.b * n | 0) / n + \",\" + (mtx.c * n | 0) / n + \",\" + (mtx.d * n | 0) / n + \",\" + (mtx.tx + .5 | 0);\n      style.transform = style.WebkitTransform = style.OTransform = style.msTransform = str + \",\" + (mtx.ty + .5 | 0) + \")\";\n      style.MozTransform = str + \"px,\" + (mtx.ty + .5 | 0) + \"px)\";\n      if (!oldProps) {\n        oldProps = this._oldProps = new DisplayProps(true, null);\n      }\n      oldProps.matrix.copy(mtx);\n    }\n    if (oldProps.alpha != props.alpha) {\n      style.opacity = \"\" + (props.alpha * n | 0) / n;\n      oldProps.alpha = props.alpha;\n    }\n  };\n  return DOMElement;\n}(DisplayObject);\n\nvar Graphics = function() {\n  function Graphics() {\n    classCallCheck(this, Graphics);\n    this.command = null;\n    this._stroke = null;\n    this._strokeStyle = null;\n    this._oldStrokeStyle = null;\n    this._strokeDash = null;\n    this._oldStrokeDash = null;\n    this._strokeIgnoreScale = false;\n    this._fill = null;\n    this._instructions = [];\n    this._commitIndex = 0;\n    this._activeInstructions = [];\n    this._dirty = false;\n    this._storeIndex = 0;\n    this.curveTo = this.quadraticCurveTo;\n    this.drawRect = this.rect;\n    this.mt = this.moveTo;\n    this.lt = this.lineTo;\n    this.at = this.arcTo;\n    this.bt = this.bezierCurveTo;\n    this.qt = this.quadraticCurveTo;\n    this.a = this.arc;\n    this.r = this.rect;\n    this.cp = this.closePath;\n    this.c = this.clear;\n    this.f = this.beginFill;\n    this.lf = this.beginLinearGradientFill;\n    this.rf = this.beginRadialGradientFill;\n    this.bf = this.beginBitmapFill;\n    this.ef = this.endFill;\n    this.ss = this.setStrokeStyle;\n    this.sd = this.setStrokeDash;\n    this.s = this.beginStroke;\n    this.ls = this.beginLinearGradientStroke;\n    this.rs = this.beginRadialGradientStroke;\n    this.bs = this.beginBitmapStroke;\n    this.es = this.endStroke;\n    this.dr = this.drawRect;\n    this.rr = this.drawRoundRect;\n    this.rc = this.drawRoundRectComplex;\n    this.dc = this.drawCircle;\n    this.de = this.drawEllipse;\n    this.dp = this.drawPolyStar;\n    this.p = this.decodePath;\n    this.clear();\n  }\n  Graphics.getRGB = function getRGB(r, g, b, alpha) {\n    if (r != null && b == null) {\n      alpha = g;\n      b = r & 255;\n      g = r >> 8 & 255;\n      r = r >> 16 & 255;\n    }\n    if (alpha == null) {\n      return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n    } else {\n      return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + alpha + \")\";\n    }\n  };\n  Graphics.getHSL = function getHSL(hue, saturation, lightness, alpha) {\n    if (alpha == null) {\n      return \"hsl(\" + hue % 360 + \",\" + saturation + \"%,\" + lightness + \"%)\";\n    } else {\n      return \"hsl(\" + hue % 360 + \",\" + saturation + \"%,\" + lightness + \"%,\" + alpha + \")\";\n    }\n  };\n  Graphics.prototype.isEmpty = function isEmpty() {\n    return !(this._instructions.length || this._activeInstructions.length);\n  };\n  Graphics.prototype.draw = function draw(ctx, data) {\n    this._updateInstructions();\n    var instr = this._instructions;\n    var l = instr.length;\n    for (var i = this._storeIndex; i < l; i++) {\n      instr[i].exec(ctx, data);\n    }\n  };\n  Graphics.prototype.drawAsPath = function drawAsPath(ctx) {\n    this._updateInstructions();\n    var instr = void 0, instrs = this._instructions;\n    var l = instrs.length;\n    for (var i = this._storeIndex; i < l; i++) {\n      if ((instr = instrs[i]).path !== false) {\n        instr.exec(ctx);\n      }\n    }\n  };\n  Graphics.prototype.moveTo = function moveTo(x, y) {\n    return this.append(new MoveTo(x, y), true);\n  };\n  Graphics.prototype.lineTo = function lineTo(x, y) {\n    return this.append(new LineTo(x, y));\n  };\n  Graphics.prototype.arcTo = function arcTo(x1, y1, x2, y2, radius) {\n    return this.append(new ArcTo(x1, y1, x2, y2, radius));\n  };\n  Graphics.prototype.arc = function arc(x, y, radius, startAngle, endAngle, anticlockwise) {\n    return this.append(new Arc(x, y, radius, startAngle, endAngle, anticlockwise));\n  };\n  Graphics.prototype.quadraticCurveTo = function quadraticCurveTo(cpx, cpy, x, y) {\n    return this.append(new QuadraticCurveTo(cpx, cpy, x, y));\n  };\n  Graphics.prototype.bezierCurveTo = function bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\n    return this.append(new BezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y));\n  };\n  Graphics.prototype.rect = function rect(x, y, w, h) {\n    return this.append(new Rect(x, y, w, h));\n  };\n  Graphics.prototype.closePath = function closePath() {\n    return this._activeInstructions.length ? this.append(new ClosePath()) : this;\n  };\n  Graphics.prototype.clear = function clear() {\n    this._instructions.length = this._activeInstructions.length = this._commitIndex = 0;\n    this._strokeStyle = this._oldStrokeStyle = this._stroke = this._fill = this._strokeDash = this._oldStrokeDash = null;\n    this._dirty = this._strokeIgnoreScale = false;\n    return this;\n  };\n  Graphics.prototype.beginFill = function beginFill(color) {\n    return this._setFill(color ? new Fill(color) : null);\n  };\n  Graphics.prototype.beginLinearGradientFill = function beginLinearGradientFill(colors, ratios, x0, y0, x1, y1) {\n    return this._setFill(new Fill().linearGradient(colors, ratios, x0, y0, x1, y1));\n  };\n  Graphics.prototype.beginRadialGradientFill = function beginRadialGradientFill(colors, ratios, x0, y0, r0, x1, y1, r1) {\n    return this._setFill(new Fill().radialGradient(colors, ratios, x0, y0, r0, x1, y1, r1));\n  };\n  Graphics.prototype.beginBitmapFill = function beginBitmapFill(image, repetition, matrix) {\n    return this._setFill(new Fill(null, matrix).bitmap(image, repetition));\n  };\n  Graphics.prototype.endFill = function endFill() {\n    return this.beginFill();\n  };\n  Graphics.prototype.setStrokeStyle = function setStrokeStyle(thickness) {\n    var caps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var joints = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var miterLimit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 10;\n    var ignoreScale = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    this._updateInstructions(true);\n    this._strokeStyle = this.command = new StrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\n    if (this._stroke) {\n      this._stroke.ignoreScale = ignoreScale;\n    }\n    this._strokeIgnoreScale = ignoreScale;\n    return this;\n  };\n  Graphics.prototype.setStrokeDash = function setStrokeDash(segments) {\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    this._updateInstructions(true);\n    this._strokeDash = this.command = new StrokeDash(segments, offset);\n    return this;\n  };\n  Graphics.prototype.beginStroke = function beginStroke(color) {\n    return this._setStroke(color ? new Stroke(color) : null);\n  };\n  Graphics.prototype.beginLinearGradientStroke = function beginLinearGradientStroke(colors, ratios, x0, y0, x1, y1) {\n    return this._setStroke(new Stroke().linearGradient(colors, ratios, x0, y0, x1, y1));\n  };\n  Graphics.prototype.beginRadialGradientStroke = function beginRadialGradientStroke(colors, ratios, x0, y0, r0, x1, y1, r1) {\n    return this._setStroke(new Stroke().radialGradient(colors, ratios, x0, y0, r0, x1, y1, r1));\n  };\n  Graphics.prototype.beginBitmapStroke = function beginBitmapStroke(image) {\n    var repetition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"repeat\";\n    return this._setStroke(new Stroke().bitmap(image, repetition));\n  };\n  Graphics.prototype.endStroke = function endStroke() {\n    return this.beginStroke();\n  };\n  Graphics.prototype.drawRoundRect = function drawRoundRect(x, y, w, h, radius) {\n    return this.drawRoundRectComplex(x, y, w, h, radius, radius, radius, radius);\n  };\n  Graphics.prototype.drawRoundRectComplex = function drawRoundRectComplex(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL) {\n    return this.append(new RoundRect(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL));\n  };\n  Graphics.prototype.drawCircle = function drawCircle(x, y, radius) {\n    return this.append(new Circle(x, y, radius));\n  };\n  Graphics.prototype.drawEllipse = function drawEllipse(x, y, w, h) {\n    return this.append(new Ellipse(x, y, w, h));\n  };\n  Graphics.prototype.drawPolyStar = function drawPolyStar(x, y, radius, sides, pointSize, angle) {\n    return this.append(new PolyStar(x, y, radius, sides, pointSize, angle));\n  };\n  Graphics.prototype.append = function append(command, clean) {\n    this._activeInstructions.push(command);\n    this.command = command;\n    if (!clean) {\n      this._dirty = true;\n    }\n    return this;\n  };\n  Graphics.prototype.decodePath = function decodePath(str) {\n    var instructions = [ this.moveTo, this.lineTo, this.quadraticCurveTo, this.bezierCurveTo, this.closePath ];\n    var paramCount = [ 2, 2, 4, 6, 0 ];\n    var i = 0;\n    var l = str.length;\n    var params = [];\n    var x = 0, y = 0;\n    var base64 = Graphics.BASE_64;\n    while (i < l) {\n      var c = str.charAt(i);\n      var n = base64[c];\n      var fi = n >> 3;\n      var f = instructions[fi];\n      if (!f || n & 3) {\n        throw \"bad path data (@\" + i + \"):c\";\n      }\n      var pl = paramCount[fi];\n      if (!fi) {\n        x = y = 0;\n      }\n      params.length = 0;\n      i++;\n      var charCount = (n >> 2 & 1) + 2;\n      for (var p = 0; p < pl; p++) {\n        var num = base64[str.charAt(i)];\n        var sign = num >> 5 ? -1 : 1;\n        num = (num & 31) << 6 | base64[str.charAt(i + 1)];\n        if (charCount === 3) {\n          num = num << 6 | base64[str.charAt(i + 2)];\n        }\n        num = sign * num / 10;\n        if (p % 2) {\n          x = num += x;\n        } else {\n          y = num += y;\n        }\n        params[p] = num;\n        i += charCount;\n      }\n      f.apply(this, params);\n    }\n    return this;\n  };\n  Graphics.prototype.store = function store() {\n    this._updateInstructions(true);\n    this._storeIndex = this._instructions.length;\n    return this;\n  };\n  Graphics.prototype.unstore = function unstore() {\n    this._storeIndex = 0;\n    return this;\n  };\n  Graphics.prototype.clone = function clone() {\n    var o = new Graphics();\n    o.command = this.command;\n    o._stroke = this._stroke;\n    o._strokeStyle = this._strokeStyle;\n    o._strokeDash = this._strokeDash;\n    o._strokeIgnoreScale = this._strokeIgnoreScale;\n    o._fill = this._fill;\n    o._instructions = this._instructions.slice();\n    o._commitIndex = this._commitIndex;\n    o._activeInstructions = this._activeInstructions.slice();\n    o._dirty = this._dirty;\n    o._storeIndex = this._storeIndex;\n    return o;\n  };\n  Graphics.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \"]\";\n  };\n  Graphics.prototype._updateInstructions = function _updateInstructions(commit) {\n    var instr = this._instructions, active = this._activeInstructions, commitIndex = this._commitIndex;\n    if (this._dirty && active.length) {\n      instr.length = commitIndex;\n      instr.push(Graphics.beginCmd);\n      var l = active.length, ll = instr.length;\n      instr.length = ll + l;\n      for (var i = 0; i < l; i++) {\n        instr[i + ll] = active[i];\n      }\n      if (this._fill) {\n        instr.push(this._fill);\n      }\n      if (this._stroke) {\n        if (this._strokeDash !== this._oldStrokeDash) {\n          instr.push(this._strokeDash);\n        }\n        if (this._strokeStyle !== this._oldStrokeStyle) {\n          instr.push(this._strokeStyle);\n        }\n        if (commit) {\n          this._oldStrokeDash = this._strokeDash;\n          this._oldStrokeStyle = this._strokeStyle;\n        }\n        instr.push(this._stroke);\n      }\n      this._dirty = false;\n    }\n    if (commit) {\n      active.length = 0;\n      this._commitIndex = instr.length;\n    }\n  };\n  Graphics.prototype._setFill = function _setFill(fill) {\n    this._updateInstructions(true);\n    this.command = this._fill = fill;\n    return this;\n  };\n  Graphics.prototype._setStroke = function _setStroke(stroke) {\n    this._updateInstructions(true);\n    if (this.command = this._stroke = stroke) {\n      stroke.ignoreScale = this._strokeIgnoreScale;\n    }\n    return this;\n  };\n  createClass(Graphics, [ {\n    key: \"instructions\",\n    get: function get() {\n      this._updateInstructions();\n      return this._instructions;\n    }\n  } ], [ {\n    key: \"LineTo\",\n    get: function get() {\n      return LineTo;\n    }\n  }, {\n    key: \"MoveTo\",\n    get: function get() {\n      return MoveTo;\n    }\n  }, {\n    key: \"ArcTo\",\n    get: function get() {\n      return ArcTo;\n    }\n  }, {\n    key: \"Arc\",\n    get: function get() {\n      return Arc;\n    }\n  }, {\n    key: \"QuadraticCurveTo\",\n    get: function get() {\n      return QuadraticCurveTo;\n    }\n  }, {\n    key: \"BezierCurveTo\",\n    get: function get() {\n      return BezierCurveTo;\n    }\n  }, {\n    key: \"Rect\",\n    get: function get() {\n      return Rect;\n    }\n  }, {\n    key: \"ClosePath\",\n    get: function get() {\n      return ClosePath;\n    }\n  }, {\n    key: \"BeginPath\",\n    get: function get() {\n      return BeginPath;\n    }\n  }, {\n    key: \"Fill\",\n    get: function get() {\n      return Fill;\n    }\n  }, {\n    key: \"Stroke\",\n    get: function get() {\n      return Stroke;\n    }\n  }, {\n    key: \"StrokeStyle\",\n    get: function get() {\n      return StrokeStyle;\n    }\n  }, {\n    key: \"StrokeDash\",\n    get: function get() {\n      return StrokeDash;\n    }\n  }, {\n    key: \"RoundRect\",\n    get: function get() {\n      return RoundRect;\n    }\n  }, {\n    key: \"Circle\",\n    get: function get() {\n      return Circle;\n    }\n  }, {\n    key: \"Ellipse\",\n    get: function get() {\n      return Ellipse;\n    }\n  }, {\n    key: \"PolyStar\",\n    get: function get() {\n      return PolyStar;\n    }\n  } ]);\n  return Graphics;\n}();\n\nvar LineTo = function() {\n  function LineTo(x, y) {\n    classCallCheck(this, LineTo);\n    this.x = x;\n    this.y = y;\n  }\n  LineTo.prototype.exec = function exec(ctx) {\n    ctx.lineTo(this.x, this.y);\n  };\n  return LineTo;\n}();\n\nvar MoveTo = function() {\n  function MoveTo(x, y) {\n    classCallCheck(this, MoveTo);\n    this.x = x;\n    this.y = y;\n  }\n  MoveTo.prototype.exec = function exec(ctx) {\n    ctx.moveTo(this.x, this.y);\n  };\n  return MoveTo;\n}();\n\nvar ArcTo = function() {\n  function ArcTo(x1, y1, x2, y2, radius) {\n    classCallCheck(this, ArcTo);\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n    this.radius = radius;\n  }\n  ArcTo.prototype.exec = function exec(ctx) {\n    ctx.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius);\n  };\n  return ArcTo;\n}();\n\nvar Arc = function() {\n  function Arc(x, y, radius, startAngle, endAngle, anticlockwise) {\n    classCallCheck(this, Arc);\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n    this.startAngle = startAngle;\n    this.endAngle = endAngle;\n    this.anticlockwise = !!anticlockwise;\n  }\n  Arc.prototype.exec = function exec(ctx) {\n    ctx.arc(this.x, this.y, this.radius, this.startAngle, this.endAngle, this.anticlockwise);\n  };\n  return Arc;\n}();\n\nvar QuadraticCurveTo = function() {\n  function QuadraticCurveTo(cpx, cpy, x, y) {\n    classCallCheck(this, QuadraticCurveTo);\n    this.cpx = cpx;\n    this.cpy = cpy;\n    this.x = x;\n    this.y = y;\n  }\n  QuadraticCurveTo.prototype.exec = function exec(ctx) {\n    ctx.quadraticCurveTo(this.cpx, this.cpy, this.x, this.y);\n  };\n  return QuadraticCurveTo;\n}();\n\nvar BezierCurveTo = function() {\n  function BezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\n    classCallCheck(this, BezierCurveTo);\n    this.cp1x = cp1x;\n    this.cp1y = cp1y;\n    this.cp2x = cp2x;\n    this.cp2y = cp2y;\n    this.x = x;\n    this.y = y;\n  }\n  BezierCurveTo.prototype.exec = function exec(ctx) {\n    ctx.bezierCurveTo(this.cp1x, this.cp1y, this.cp2x, this.cp2y, this.x, this.y);\n  };\n  return BezierCurveTo;\n}();\n\nvar Rect = function() {\n  function Rect(x, y, w, h) {\n    classCallCheck(this, Rect);\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n  }\n  Rect.prototype.exec = function exec(ctx) {\n    ctx.rect(this.x, this.y, this.w, this.h);\n  };\n  return Rect;\n}();\n\nvar ClosePath = function() {\n  function ClosePath() {\n    classCallCheck(this, ClosePath);\n  }\n  ClosePath.prototype.exec = function exec(ctx) {\n    ctx.closePath();\n  };\n  return ClosePath;\n}();\n\nvar BeginPath = function() {\n  function BeginPath() {\n    classCallCheck(this, BeginPath);\n  }\n  BeginPath.prototype.exec = function exec(ctx) {\n    ctx.beginPath();\n  };\n  return BeginPath;\n}();\n\nvar Fill = function() {\n  function Fill(style, matrix) {\n    classCallCheck(this, Fill);\n    this.style = style;\n    this.matrix = matrix;\n    this.path = false;\n  }\n  Fill.prototype.exec = function exec(ctx) {\n    if (!this.style) {\n      return;\n    }\n    ctx.fillStyle = this.style;\n    var mtx = this.matrix;\n    if (mtx) {\n      ctx.save();\n      ctx.transform(mtx.a, mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty);\n    }\n    ctx.fill();\n    if (mtx) {\n      ctx.restore();\n    }\n  };\n  Fill.prototype.linearGradient = function linearGradient(colors, ratios, x0, y0, x1, y1) {\n    var o = this.style = Graphics._ctx.createLinearGradient(x0, y0, x1, y1);\n    var l = colors.length;\n    for (var i = 0; i < l; i++) {\n      o.addColorStop(ratios[i], colors[i]);\n    }\n    o.props = {\n      colors: colors,\n      ratios: ratios,\n      x0: x0,\n      y0: y0,\n      x1: x1,\n      y1: y1,\n      type: \"linear\"\n    };\n    return this;\n  };\n  Fill.prototype.radialGradient = function radialGradient(colors, ratios, x0, y0, r0, x1, y1, r1) {\n    var o = this.style = Graphics._ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n    var l = colors.length;\n    for (var i = 0; i < l; i++) {\n      o.addColorStop(ratios[i], colors[i]);\n    }\n    o.props = {\n      colors: colors,\n      ratios: ratios,\n      x0: x0,\n      y0: y0,\n      r0: r0,\n      x1: x1,\n      y1: y1,\n      r1: r1,\n      type: \"radial\"\n    };\n    return this;\n  };\n  Fill.prototype.bitmap = function bitmap(image) {\n    var repetition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    if (image.naturalWidth || image.getContext || image.readyState >= 2) {\n      var o = this.style = Graphics._ctx.createPattern(image, repetition);\n      o.props = {\n        image: image,\n        repetition: repetition,\n        type: \"bitmap\"\n      };\n    }\n    return this;\n  };\n  return Fill;\n}();\n\nvar Stroke = function() {\n  function Stroke(style, ignoreScale) {\n    classCallCheck(this, Stroke);\n    this.style = style;\n    this.ignoreScale = ignoreScale;\n    this.path = false;\n  }\n  Stroke.prototype.exec = function exec(ctx) {\n    if (!this.style) {\n      return;\n    }\n    ctx.strokeStyle = this.style;\n    if (this.ignoreScale) {\n      ctx.save();\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n    }\n    ctx.stroke();\n    if (this.ignoreScale) {\n      ctx.restore();\n    }\n  };\n  Stroke.prototype.linearGradient = function linearGradient() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    Fill.prototype.linearGradient.apply(this, args);\n  };\n  Stroke.prototype.radialGradient = function radialGradient() {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    Fill.prototype.radialGradient.apply(this, args);\n  };\n  Stroke.prototype.bitmap = function bitmap() {\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    Fill.prototype.bitmap.apply(this, args);\n  };\n  return Stroke;\n}();\n\nvar StrokeStyle = function() {\n  function StrokeStyle(width) {\n    var caps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"butt\";\n    var joints = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"miter\";\n    var miterLimit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 10;\n    var ignoreScale = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    classCallCheck(this, StrokeStyle);\n    this.width = width;\n    this.caps = caps;\n    this.joints = joints;\n    this.miterLimit = miterLimit;\n    this.ignoreScale = ignoreScale;\n    this.path = false;\n  }\n  StrokeStyle.prototype.exec = function exec(ctx) {\n    ctx.lineWidth = this.width;\n    ctx.lineCap = isNaN(this.caps) ? this.caps : Graphics.STROKE_CAPS_MAP[this.caps];\n    ctx.lineJoin = isNaN(this.joints) ? this.joints : Graphics.STROKE_JOINTS_MAP[this.joints];\n    ctx.miterLimit = this.miterLimit;\n    ctx.ignoreScale = this.ignoreScale;\n  };\n  return StrokeStyle;\n}();\n\nvar StrokeDash = function() {\n  function StrokeDash() {\n    var segments = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : StrokeDash.EMPTY_SEGMENTS;\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    classCallCheck(this, StrokeDash);\n    this.segments = segments;\n    this.offset = offset;\n  }\n  StrokeDash.prototype.exec = function exec(ctx) {\n    if (ctx.setLineDash) {\n      ctx.setLineDash(this.segments);\n      ctx.lineDashOffset = this.offset;\n    }\n  };\n  createClass(StrokeDash, null, [ {\n    key: \"EMPTY_SEGMENTS\",\n    get: function get() {\n      return _EMPTY_SEGMENTS;\n    }\n  } ]);\n  return StrokeDash;\n}();\n\nvar RoundRect = function() {\n  function RoundRect(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL) {\n    classCallCheck(this, RoundRect);\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.radiusTL = radiusTL;\n    this.radiusTR = radiusTR;\n    this.radiusBR = radiusBR;\n    this.radiusBL = radiusBL;\n  }\n  RoundRect.prototype.exec = function exec(ctx) {\n    var max = (w < h ? w : h) / 2;\n    var mTL = 0, mTR = 0, mBR = 0, mBL = 0;\n    var x = this.x, y = this.y, w = this.w, h = this.h;\n    var rTL = this.radiusTL, rTR = this.radiusTR, rBR = this.radiusBR, rBL = this.radiusBL;\n    if (rTL < 0) {\n      rTL *= mTL = -1;\n    }\n    if (rTL > max) {\n      rTL = max;\n    }\n    if (rTR < 0) {\n      rTR *= mTR = -1;\n    }\n    if (rTR > max) {\n      rTR = max;\n    }\n    if (rBR < 0) {\n      rBR *= mBR = -1;\n    }\n    if (rBR > max) {\n      rBR = max;\n    }\n    if (rBL < 0) {\n      rBL *= mBL = -1;\n    }\n    if (rBL > max) {\n      rBL = max;\n    }\n    ctx.moveTo(x + w - rTR, y);\n    ctx.arcTo(x + w + rTR * mTR, y - rTR * mTR, x + w, y + rTR, rTR);\n    ctx.lineTo(x + w, y + h - rBR);\n    ctx.arcTo(x + w + rBR * mBR, y + h + rBR * mBR, x + w - rBR, y + h, rBR);\n    ctx.lineTo(x + rBL, y + h);\n    ctx.arcTo(x - rBL * mBL, y + h + rBL * mBL, x, y + h - rBL, rBL);\n    ctx.lineTo(x, y + rTL);\n    ctx.arcTo(x - rTL * mTL, y - rTL * mTL, x + rTL, y, rTL);\n    ctx.closePath();\n  };\n  return RoundRect;\n}();\n\nvar Circle = function() {\n  function Circle(x, y, radius) {\n    classCallCheck(this, Circle);\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n  }\n  Circle.prototype.exec = function exec(ctx) {\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);\n  };\n  return Circle;\n}();\n\nvar Ellipse = function() {\n  function Ellipse(x, y, w, h) {\n    classCallCheck(this, Ellipse);\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n  }\n  Ellipse.prototype.exec = function exec(ctx) {\n    var x = this.x, y = this.y;\n    var w = this.w, h = this.h;\n    var k = .5522848;\n    var ox = w / 2 * k;\n    var oy = h / 2 * k;\n    var xe = x + w;\n    var ye = y + h;\n    var xm = x + w / 2;\n    var ym = y + h / 2;\n    ctx.moveTo(x, ym);\n    ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n    ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n    ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n    ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n  };\n  return Ellipse;\n}();\n\nvar PolyStar = function() {\n  function PolyStar(x, y, radius, sides) {\n    var pointSize = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    var angle = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n    classCallCheck(this, PolyStar);\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n    this.sides = sides;\n    this.pointSize = pointSize;\n    this.angle = angle;\n  }\n  PolyStar.prototype.exec = function exec(ctx) {\n    var x = this.x, y = this.y;\n    var radius = this.radius;\n    var angle = this.angle / 180 * Math.PI;\n    var sides = this.sides;\n    var ps = 1 - this.pointSize;\n    var a = Math.PI / sides;\n    ctx.moveTo(x + Math.cos(angle) * radius, y + Math.sin(angle) * radius);\n    for (var i = 0; i < sides; i++) {\n      angle += a;\n      if (ps != 1) {\n        ctx.lineTo(x + Math.cos(angle) * radius * ps, y + Math.sin(angle) * radius * ps);\n      }\n      angle += a;\n      ctx.lineTo(x + Math.cos(angle) * radius, y + Math.sin(angle) * radius);\n    }\n    ctx.closePath();\n  };\n  return PolyStar;\n}();\n\n{\n  var canvas$1 = window.createjs && createjs.createCanvas ? createjs.createCanvas() : document.createElement(\"canvas\");\n  if (canvas$1.getContext) {\n    Graphics._ctx = canvas$1.getContext(\"2d\");\n    canvas$1.width = canvas$1.height = 1;\n  }\n  Graphics.beginCmd = new BeginPath();\n  Graphics.BASE_64 = {\n    A: 0,\n    B: 1,\n    C: 2,\n    D: 3,\n    E: 4,\n    F: 5,\n    G: 6,\n    H: 7,\n    I: 8,\n    J: 9,\n    K: 10,\n    L: 11,\n    M: 12,\n    N: 13,\n    O: 14,\n    P: 15,\n    Q: 16,\n    R: 17,\n    S: 18,\n    T: 19,\n    U: 20,\n    V: 21,\n    W: 22,\n    X: 23,\n    Y: 24,\n    Z: 25,\n    a: 26,\n    b: 27,\n    c: 28,\n    d: 29,\n    e: 30,\n    f: 31,\n    g: 32,\n    h: 33,\n    i: 34,\n    j: 35,\n    k: 36,\n    l: 37,\n    m: 38,\n    n: 39,\n    o: 40,\n    p: 41,\n    q: 42,\n    r: 43,\n    s: 44,\n    t: 45,\n    u: 46,\n    v: 47,\n    w: 48,\n    x: 49,\n    y: 50,\n    z: 51,\n    0: 52,\n    1: 53,\n    2: 54,\n    3: 55,\n    4: 56,\n    5: 57,\n    6: 58,\n    7: 59,\n    8: 60,\n    9: 61,\n    \"+\": 62,\n    \"/\": 63\n  };\n  Graphics.STROKE_CAPS_MAP = [ \"butt\", \"round\", \"square\" ];\n  Graphics.STROKE_JOINTS_MAP = [ \"miter\", \"round\", \"bevel\" ];\n  Graphics.EMPTY_SEGMENTS = [];\n}\n\nvar MovieClip = function(_Container) {\n  inherits(MovieClip, _Container);\n  function MovieClip(_ref) {\n    var _ref$mode = _ref.mode, mode = _ref$mode === undefined ? MovieClip.INDEPENDENT : _ref$mode, _ref$startPosition = _ref.startPosition, startPosition = _ref$startPosition === undefined ? 0 : _ref$startPosition, _ref$loop = _ref.loop, loop = _ref$loop === undefined ? -1 : _ref$loop, _ref$paused = _ref.paused, paused = _ref$paused === undefined ? false : _ref$paused, _ref$frameBounds = _ref.frameBounds, frameBounds = _ref$frameBounds === undefined ? null : _ref$frameBounds, _ref$labels = _ref.labels, labels = _ref$labels === undefined ? null : _ref$labels;\n    classCallCheck(this, MovieClip);\n    var _this = possibleConstructorReturn(this, _Container.call(this));\n    !MovieClip.inited && MovieClip.init();\n    _this.mode = mode;\n    _this.startPosition = startPosition;\n    _this.loop = loop === true ? -1 : loop || 0;\n    _this.currentFrame = 0;\n    _this.timeline = new Timeline({\n      useTicks: true,\n      paused: true,\n      mode: mode,\n      startPosition: startPosition,\n      loop: loop,\n      frameBounds: frameBounds,\n      labels: labels\n    });\n    _this.paused = paused;\n    _this.actionsEnabled = true;\n    _this.autoReset = true;\n    _this.frameBounds = _this.frameBounds || props.frameBounds;\n    _this.framerate = null;\n    _this._synchOffset = 0;\n    _this._rawPosition = -1;\n    _this._t = 0;\n    _this._managed = {};\n    _this._bound_resolveState = _this._resolveState.bind(_this);\n    return _this;\n  }\n  MovieClip.init = function init() {\n    if (MovieClip.inited) {\n      return;\n    }\n    MovieClipPlugin.install();\n    MovieClip.inited = true;\n  };\n  MovieClip.prototype.isVisible = function isVisible() {\n    return !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0);\n  };\n  MovieClip.prototype.draw = function draw(ctx, ignoreCache) {\n    if (this.drawCache(ctx, ignoreCache)) {\n      return true;\n    }\n    this._updateState();\n    _Container.prototype.draw.call(this, ctx, ignoreCache);\n    return true;\n  };\n  MovieClip.prototype.play = function play() {\n    this.paused = false;\n  };\n  MovieClip.prototype.stop = function stop() {\n    this.paused = true;\n  };\n  MovieClip.prototype.gotoAndPlay = function gotoAndPlay(positionOrLabel) {\n    this.paused = false;\n    this._goto(positionOrLabel);\n  };\n  MovieClip.prototype.gotoAndStop = function gotoAndStop(positionOrLabel) {\n    this.paused = true;\n    this._goto(positionOrLabel);\n  };\n  MovieClip.prototype.advance = function advance(time) {\n    var INDEPENDENT = MovieClip.INDEPENDENT;\n    if (this.mode !== INDEPENDENT) {\n      return;\n    }\n    var o = this, fps = o.framerate;\n    while ((o = o.parent) && fps === null) {\n      if (o.mode === INDEPENDENT) {\n        fps = o._framerate;\n      }\n    }\n    this._framerate = fps;\n    if (this.paused) {\n      return;\n    }\n    var t = fps !== null && fps !== -1 && time !== null ? time / (1e3 / fps) + this._t : 1;\n    var frames = t | 0;\n    this._t = t - frames;\n    while (frames--) {\n      this._updateTimeline(this._rawPosition + 1, false);\n    }\n  };\n  MovieClip.prototype.clone = function clone() {\n    throw \"MovieClip cannot be cloned.\";\n  };\n  MovieClip.prototype._updateState = function _updateState() {\n    if (this._rawPosition === -1 || this.mode !== MovieClip.INDEPENDENT) {\n      this._updateTimeline(-1);\n    }\n  };\n  MovieClip.prototype._tick = function _tick(evtObj) {\n    this.advance(evtObj && evtObj.delta);\n    _Container.prototype._tick.call(this, evtObj);\n  };\n  MovieClip.prototype._goto = function _goto(positionOrLabel) {\n    var pos = this.timeline.resolve(positionOrLabel);\n    if (pos == null) {\n      return;\n    }\n    this._t = 0;\n    this._updateTimeline(pos, true);\n  };\n  MovieClip.prototype._reset = function _reset() {\n    this._rawPosition = -1;\n    this._t = this.currentFrame = 0;\n    this.paused = false;\n  };\n  MovieClip.prototype._updateTimeline = function _updateTimeline(rawPosition, jump) {\n    var synced = this.mode !== MovieClip.INDEPENDENT, tl = this.timeline;\n    if (synced) {\n      rawPosition = this.startPosition + (this.mode === MovieClip.SINGLE_FRAME ? 0 : this._synchOffset);\n    }\n    if (rawPosition < 1) {\n      rawPosition = 0;\n    }\n    if (this._rawPosition === rawPosition && !synced) {\n      return;\n    }\n    this._rawPosition = rawPosition;\n    tl.loop = this.loop;\n    tl.setPosition(rawPosition, synced || !this.actionsEnabled, jump, this._bound_resolveState);\n  };\n  MovieClip.prototype._renderFirstFrame = function _renderFirstFrame() {\n    var tl = this.timeline, pos = tl.rawPosition;\n    tl.setPosition(0, true, true, this._bound_resolveState);\n    tl.rawPosition = pos;\n  };\n  MovieClip.prototype._resolveState = function _resolveState() {\n    var tl = this.timeline;\n    this.currentFrame = tl.position;\n    for (var n in this._managed) {\n      this._managed[n] = 1;\n    }\n    var tweens = tl.tweens;\n    for (var _iterator = tweens, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator](); ;) {\n      var _ref2;\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref2 = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref2 = _i.value;\n      }\n      var tween = _ref2;\n      var target = tween.target;\n      if (target === this || tween.passive) {\n        continue;\n      }\n      var offset = tween._stepPosition;\n      if (target instanceof DisplayObject) {\n        this._addManagedChild(target, offset);\n      } else {\n        this._setState(target.state, offset);\n      }\n    }\n    var kids = this.children;\n    for (var i = kids.length - 1; i >= 0; i--) {\n      var id = kids[i].id;\n      if (this._managed[id] === 1) {\n        this.removeChildAt(i);\n        delete this._managed[id];\n      }\n    }\n  };\n  MovieClip.prototype._setState = function _setState(state, offset) {\n    if (!state) {\n      return;\n    }\n    for (var i = state.length - 1; i >= 0; i--) {\n      var o = state[i];\n      var target = o.t;\n      var _props = o.p;\n      for (var n in _props) {\n        target[n] = _props[n];\n      }\n      this._addManagedChild(target, offset);\n    }\n  };\n  MovieClip.prototype._addManagedChild = function _addManagedChild(child, offset) {\n    if (child._off) {\n      return;\n    }\n    this.addChildAt(child, 0);\n    if (child instanceof MovieClip) {\n      child._synchOffset = offset;\n      if (child.mode === MovieClip.INDEPENDENT && child.autoReset && !this._managed[child.id]) {\n        child._reset();\n      }\n    }\n    this._managed[child.id] = 2;\n  };\n  MovieClip.prototype._getBounds = function _getBounds(matrix, ignoreTransform) {\n    var bounds = this.getBounds();\n    if (!bounds && this.frameBounds) {\n      bounds = this._rectangle.copy(this.frameBounds[this.currentFrame]);\n    }\n    if (bounds) {\n      return this._transformBounds(bounds, matrix, ignoreTransform);\n    }\n    return _Container.prototype._getBounds.call(this, matrix, ignoreTransform);\n  };\n  createClass(MovieClip, [ {\n    key: \"labels\",\n    get: function get() {\n      return this.timeline.labels;\n    }\n  }, {\n    key: \"currentLabel\",\n    get: function get() {\n      return this.timeline.getCurrentLabel();\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this.timeline.duration;\n    }\n  }, {\n    key: \"totalFrames\",\n    get: function get() {\n      return this.duration;\n    }\n  } ]);\n  return MovieClip;\n}(Container);\n\n{\n  MovieClip.INDEPENDENT = \"independent\";\n  MovieClip.SINGLE_FRAME = \"single\";\n  MovieClip.SYNCHED = \"synched\";\n  MovieClip.inited = false;\n}\n\nvar MovieClipPlugin = function() {\n  function MovieClipPlugin() {\n    classCallCheck(this, MovieClipPlugin);\n    throw \"MovieClipPlugin cannot be instantiated.\";\n  }\n  MovieClipPlugin.install = function install() {\n    Tween.installPlugin(MovieClipPlugin);\n  };\n  MovieClipPlugin.init = function init(tween, prop, value) {\n    return value;\n  };\n  MovieClipPlugin.tween = function tween(_tween, prop, value, startValues, endValues, ratio, wait, end) {\n    if (!(_tween.target instanceof MovieClip)) {\n      return value;\n    }\n    return ratio === 1 ? endValues[prop] : startValues[prop];\n  };\n  return MovieClipPlugin;\n}();\n\n{\n  MovieClipPlugin.priority = 100;\n}\n\nvar Shadow$1 = function() {\n  function Shadow() {\n    var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"black\";\n    var offsetX = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var offsetY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var blur = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    classCallCheck(this, Shadow);\n    this.color = color;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    this.blur = blur;\n  }\n  Shadow.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \"]\";\n  };\n  Shadow.prototype.clone = function clone() {\n    return new Shadow(this.color, this.offsetX, this.offsetY, this.blur);\n  };\n  return Shadow;\n}();\n\n{\n  Shadow$1.identity = new Shadow$1(\"transparent\");\n}\n\nvar Shape = function(_DisplayObject) {\n  inherits(Shape, _DisplayObject);\n  function Shape() {\n    var graphics = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Graphics();\n    classCallCheck(this, Shape);\n    var _this = possibleConstructorReturn(this, _DisplayObject.call(this));\n    _this.graphics = graphics;\n    return _this;\n  }\n  Shape.prototype.isVisible = function isVisible() {\n    var hasContent = this.cacheCanvas || this.graphics && !this.graphics.isEmpty();\n    return !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\n  };\n  Shape.prototype.draw = function draw(ctx) {\n    var ignoreCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (_DisplayObject.prototype.draw.call(this, ctx, ignoreCache)) {\n      return true;\n    }\n    this.graphics.draw(ctx, this);\n    return true;\n  };\n  Shape.prototype.clone = function clone() {\n    var recursive = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var g = recursive && this.graphics ? this.graphics.clone() : this.graphics;\n    return this._cloneProps(new Shape(g));\n  };\n  return Shape;\n}(DisplayObject);\n\nvar SpriteSheet = function(_EventDispatcher) {\n  inherits(SpriteSheet, _EventDispatcher);\n  function SpriteSheet(data) {\n    classCallCheck(this, SpriteSheet);\n    var _this = possibleConstructorReturn(this, _EventDispatcher.call(this));\n    _this.complete = true;\n    _this.framerate = 0;\n    _this._animations = null;\n    _this._frames = null;\n    _this._images = null;\n    _this._data = null;\n    _this._loadCount = 0;\n    _this._frameHeight = 0;\n    _this._frameWidth = 0;\n    _this._numFrames = 0;\n    _this._regX = 0;\n    _this._regY = 0;\n    _this._spacing = 0;\n    _this._margin = 0;\n    _this._parseData(data);\n    return _this;\n  }\n  SpriteSheet.prototype.getNumFrames = function getNumFrames(animation) {\n    if (animation == null) {\n      return this._frames ? this._frames.length : this._numFrames || 0;\n    } else {\n      var data = this._data[animation];\n      if (data == null) {\n        return 0;\n      } else {\n        return data.frames.length;\n      }\n    }\n  };\n  SpriteSheet.prototype.getAnimation = function getAnimation(name) {\n    return this._data[name];\n  };\n  SpriteSheet.prototype.getFrame = function getFrame(frameIndex) {\n    var frame = void 0;\n    if (this._frames && (frame = this._frames[frameIndex])) {\n      return frame;\n    }\n    return null;\n  };\n  SpriteSheet.prototype.getFrameBounds = function getFrameBounds(frameIndex) {\n    var rectangle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Rectangle();\n    var frame = this.getFrame(frameIndex);\n    return frame ? rectangle.setValues(-frame.regX, -frame.regY, frame.rect.width, frame.rect.height) : null;\n  };\n  SpriteSheet.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \"]\";\n  };\n  SpriteSheet.prototype.clone = function clone() {\n    throw \"SpriteSheet cannot be cloned.\";\n  };\n  SpriteSheet.prototype._parseData = function _parseData(data) {\n    var _this2 = this;\n    if (data == null) {\n      return;\n    }\n    this.framerate = data.framerate || 0;\n    if (data.images) {\n      var _loop = function _loop(_img) {\n        var a = _this2._images = [];\n        var src = void 0;\n        if (typeof _img === \"string\") {\n          src = _img;\n          _img = document.createElement(\"img\");\n          _img.src = src;\n        }\n        a.push(_img);\n        if (!_img.getContext && !_img.naturalWidth) {\n          _this2._loadCount++;\n          _this2.complete = false;\n          _img.onload = function() {\n            return _this2._handleImageLoad(src);\n          };\n          _img.onerror = function() {\n            return _this2._handleImageError(src);\n          };\n        }\n        img = _img;\n      };\n      for (var _iterator = data.images, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator](); ;) {\n        var _ref;\n        if (_isArray) {\n          if (_i >= _iterator.length) break;\n          _ref = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) break;\n          _ref = _i.value;\n        }\n        var img = _ref;\n        _loop(img);\n      }\n    }\n    if (data.frames != null) {\n      if (Array.isArray(data.frames)) {\n        this._frames = [];\n        for (var _iterator2 = data.frames, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator](); ;) {\n          var _ref2;\n          if (_isArray2) {\n            if (_i2 >= _iterator2.length) break;\n            _ref2 = _iterator2[_i2++];\n          } else {\n            _i2 = _iterator2.next();\n            if (_i2.done) break;\n            _ref2 = _i2.value;\n          }\n          var arr = _ref2;\n          this._frames.push({\n            image: this._images[arr[4] ? arr[4] : 0],\n            rect: new Rectangle(arr[0], arr[1], arr[2], arr[3]),\n            regX: arr[5] || 0,\n            regY: arr[6] || 0\n          });\n        }\n      } else {\n        var o = data.frames;\n        this._frameWidth = o.width;\n        this._frameHeight = o.height;\n        this._regX = o.regX || 0;\n        this._regY = o.regY || 0;\n        this._spacing = o.spacing || 0;\n        this._margin = o.margin || 0;\n        this._numFrames = o.count;\n        if (this._loadCount === 0) {\n          this._calculateFrames();\n        }\n      }\n    }\n    this._animations = [];\n    if (data.animations != null) {\n      this._data = {};\n      var _o = data.animations;\n      for (var name in _o) {\n        var anim = {\n          name: name\n        };\n        var obj = _o[name];\n        var a = void 0;\n        if (typeof obj === \"number\") {\n          a = anim.frames = [ obj ];\n        } else if (Array.isArray(obj)) {\n          if (obj.length === 1) {\n            anim.frames = [ obj[0] ];\n          } else {\n            anim.speed = obj[3];\n            anim.next = obj[2];\n            a = anim.frames = [];\n            for (var i = obj[0]; i <= obj[1]; i++) {\n              a.push(i);\n            }\n          }\n        } else {\n          anim.speed = obj.speed;\n          anim.next = obj.next;\n          var frames = obj.frames;\n          a = anim.frames = typeof frames === \"number\" ? [ frames ] : frames.slice(0);\n        }\n        if (anim.next === true || anim.next === undefined) {\n          anim.next = name;\n        }\n        if (anim.next === false || a.length < 2 && anim.next === name) {\n          anim.next = null;\n        }\n        if (!anim.speed) {\n          anim.speed = 1;\n        }\n        this._animations.push(name);\n        this._data[name] = anim;\n      }\n    }\n  };\n  SpriteSheet.prototype._handleImageLoad = function _handleImageLoad(src) {\n    if (--this._loadCount === 0) {\n      this._calculateFrames();\n      this.complete = true;\n      this.dispatchEvent(\"complete\");\n    }\n  };\n  SpriteSheet.prototype._handleImageError = function _handleImageError(src) {\n    var errorEvent = new Event(\"error\");\n    errorEvent.src = src;\n    this.dispatchEvent(errorEvent);\n    if (--this._loadCount === 0) {\n      this.dispatchEvent(\"complete\");\n    }\n  };\n  SpriteSheet.prototype._calculateFrames = function _calculateFrames() {\n    if (this._frames || this._frameWidth === 0) {\n      return;\n    }\n    this._frames = [];\n    var maxFrames = this._numFrames || 1e5;\n    var frameCount = 0, frameWidth = this._frameWidth, frameHeight = this._frameHeight;\n    var spacing = this._spacing, margin = this._margin;\n    imgLoop: for (var i = 0, imgs = this._images, l = imgs.length; i < l; i++) {\n      var _img2 = imgs[i], imgW = _img2.width || _img2.naturalWidth, imgH = _img2.height || _img2.naturalHeight;\n      var y = margin;\n      while (y <= imgH - margin - frameHeight) {\n        var x = margin;\n        while (x <= imgW - margin - frameWidth) {\n          if (frameCount >= maxFrames) {\n            break imgLoop;\n          }\n          frameCount++;\n          this._frames.push({\n            image: _img2,\n            rect: new Rectangle(x, y, frameWidth, frameHeight),\n            regX: this._regX,\n            regY: this._regY\n          });\n          x += frameWidth + spacing;\n        }\n        y += frameHeight + spacing;\n      }\n    }\n    this._numFrames = frameCount;\n  };\n  createClass(SpriteSheet, [ {\n    key: \"animations\",\n    get: function get() {\n      return this._animations.slice();\n    }\n  } ]);\n  return SpriteSheet;\n}(EventDispatcher);\n\nvar _H_OFFSETS = {\n  start: 0,\n  left: 0,\n  center: -.5,\n  end: -1,\n  right: -1\n};\n\nvar _V_OFFSETS = {\n  top: 0,\n  hanging: -.01,\n  middle: -.4,\n  alphabetic: -.8,\n  ideographic: -.85,\n  bottom: -1\n};\n\nvar Text = function(_DisplayObject) {\n  inherits(Text, _DisplayObject);\n  function Text(text, font, color) {\n    classCallCheck(this, Text);\n    var _this = possibleConstructorReturn(this, _DisplayObject.call(this));\n    _this.text = text;\n    _this.font = font;\n    _this.color = color;\n    _this.textAlign = \"left\";\n    _this.textBaseline = \"top\";\n    _this.maxWidth = null;\n    _this.outline = 0;\n    _this.lineHeight = 0;\n    _this.lineWidth = null;\n    return _this;\n  }\n  Text.prototype.isVisible = function isVisible() {\n    var hasContent = this.cacheCanvas || this.text != null && this.text !== \"\";\n    return !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\n  };\n  Text.prototype.draw = function draw(ctx, ignoreCache) {\n    if (_DisplayObject.prototype.draw.call(this, ctx, ignoreCache)) {\n      return true;\n    }\n    var col = this.color || \"#000\";\n    if (this.outline) {\n      ctx.strokeStyle = col;\n      ctx.lineWidth = this.outline * 1;\n    } else {\n      ctx.fillStyle = col;\n    }\n    this._drawText(this._prepContext(ctx));\n    return true;\n  };\n  Text.prototype.getMeasuredWidth = function getMeasuredWidth() {\n    return this._getMeasuredWidth(this.text);\n  };\n  Text.prototype.getMeasuredLineHeight = function getMeasuredLineHeight() {\n    return this._getMeasuredWidth(\"M\") * 1.2;\n  };\n  Text.prototype.getMeasuredHeight = function getMeasuredHeight() {\n    return this._drawText(null, {}).height;\n  };\n  Text.prototype.getBounds = function getBounds() {\n    var rect = _DisplayObject.prototype.getBounds.call(this);\n    if (rect) {\n      return rect;\n    }\n    if (this.text == null || this.text === \"\") {\n      return null;\n    }\n    var o = this._drawText(null, {});\n    var w = this.maxWidth && this.maxWidth < o.width ? this.maxWidth : o.width;\n    var x = w * Text.H_OFFSETS[this.textAlign || \"left\"];\n    var lineHeight = this.lineHeight || this.getMeasuredLineHeight();\n    var y = lineHeight * Text.V_OFFSETS[this.textBaseline || \"top\"];\n    return this._rectangle.setValues(x, y, w, o.height);\n  };\n  Text.prototype.getMetrics = function getMetrics() {\n    var o = {\n      lines: []\n    };\n    o.lineHeight = this.lineHeight || this.getMeasuredLineHeight();\n    o.vOffset = o.lineHeight * Text.V_OFFSETS[this.textBaseline || \"top\"];\n    return this._drawText(null, o, o.lines);\n  };\n  Text.prototype.clone = function clone() {\n    return this._cloneProps(new Text(this.text, this.font, this.color));\n  };\n  Text.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \" (text=\" + (this.text.length > 20 ? this.text.substr(0, 17) + \"...\" : this.text) + \")]\";\n  };\n  Text.prototype._cloneProps = function _cloneProps(o) {\n    _DisplayObject.prototype._cloneProps.call(this, o);\n    o.textAlign = this.textAlign;\n    o.textBaseline = this.textBaseline;\n    o.maxWidth = this.maxWidth;\n    o.outline = this.outline;\n    o.lineHeight = this.lineHeight;\n    o.lineWidth = this.lineWidth;\n    return o;\n  };\n  Text.prototype._prepContext = function _prepContext(ctx) {\n    ctx.font = this.font || \"10px sans-serif\";\n    ctx.textAlign = this.textAlign || \"left\";\n    ctx.textBaseline = this.textBaseline || \"top\";\n    ctx.lineJoin = \"miter\";\n    ctx.miterLimit = 2.5;\n    return ctx;\n  };\n  Text.prototype._drawText = function _drawText(ctx, o, lines) {\n    var paint = !!ctx;\n    if (!paint) {\n      ctx = Text._workingContext;\n      ctx.save();\n      this._prepContext(ctx);\n    }\n    var lineHeight = this.lineHeight || this.getMeasuredLineHeight();\n    var maxW = 0, count = 0;\n    var hardLines = String(this.text).split(/(?:\\r\\n|\\r|\\n)/);\n    for (var _iterator = hardLines, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator](); ;) {\n      var _ref;\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n      var str = _ref;\n      var w = null;\n      if (this.lineWidth != null && (w = ctx.measureText(str).width) > this.lineWidth) {\n        var words = str.split(/(\\s)/);\n        str = words[0];\n        w = ctx.measureText(str).width;\n        var l = words.length;\n        for (var i = 1; i < l; i += 2) {\n          var wordW = ctx.measureText(words[i] + words[i + 1]).width;\n          if (w + wordW > this.lineWidth) {\n            if (paint) {\n              this._drawTextLine(ctx, str, count * lineHeight);\n            }\n            if (lines) {\n              lines.push(str);\n            }\n            if (w > maxW) {\n              maxW = w;\n            }\n            str = words[i + 1];\n            w = ctx.measureText(str).width;\n            count++;\n          } else {\n            str += words[i] + words[i + 1];\n            w += wordW;\n          }\n        }\n      }\n      if (paint) {\n        this._drawTextLine(ctx, str, count * lineHeight);\n      }\n      if (lines) {\n        lines.push(str);\n      }\n      if (o && w == null) {\n        w = ctx.measureText(str).width;\n      }\n      if (w > maxW) {\n        maxW = w;\n      }\n      count++;\n    }\n    if (o) {\n      o.width = maxW;\n      o.height = count * lineHeight;\n    }\n    if (!paint) {\n      ctx.restore();\n    }\n    return o;\n  };\n  Text.prototype._drawTextLine = function _drawTextLine(ctx, text, y) {\n    if (this.outline) {\n      ctx.strokeText(text, 0, y, this.maxWidth || 65535);\n    } else {\n      ctx.fillText(text, 0, y, this.maxWidth || 65535);\n    }\n  };\n  Text.prototype._getMeasuredWidth = function _getMeasuredWidth(text) {\n    var ctx = Text._workingContext;\n    ctx.save();\n    var w = this._prepContext(ctx).measureText(text).width;\n    ctx.restore();\n    return w;\n  };\n  createClass(Text, null, [ {\n    key: \"H_OFFSETS\",\n    get: function get() {\n      return _H_OFFSETS;\n    }\n  }, {\n    key: \"V_OFFSETS\",\n    get: function get() {\n      return _V_OFFSETS;\n    }\n  } ]);\n  return Text;\n}(DisplayObject);\n\n{\n  var canvas$2 = window.createjs && createjs.createCanvas ? createjs.createCanvas() : document.createElement(\"canvas\");\n  if (canvas$2.getContext) {\n    Text._workingContext = canvas$2.getContext(\"2d\");\n    canvas$2.width = canvas$2.height = 1;\n  }\n}\n\nvar AlphaMapFilter = function(_Filter) {\n  inherits(AlphaMapFilter, _Filter);\n  function AlphaMapFilter(alphaMap) {\n    classCallCheck(this, AlphaMapFilter);\n    var _this = possibleConstructorReturn(this, _Filter.call(this));\n    _this.alphaMap = alphaMap;\n    _this._alphaMap = null;\n    _this._mapData = null;\n    _this._mapTexture = null;\n    _this.FRAG_SHADER_BODY = \"\\n\\t\\t\\tuniform sampler2D uAlphaSampler;\\n\\n\\t\\t\\tvoid main (void) {\\n\\t\\t\\t\\tvec4 color = texture2D(uSampler, vRenderCoord);\\n\\t\\t\\t\\tvec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);\\n\\n\\t\\t\\t\\t// some image formats can have transparent white rgba(1,1,1, 0) when put on the GPU, this means we need a slight tweak\\n\\t\\t\\t\\t// using ceil ensure that the colour will be used so long as it exists but pure transparency will be treated black\\n\\t\\t\\t\\tgl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));\\n\\t\\t\\t}\\n\\t\\t\";\n    return _this;\n  }\n  AlphaMapFilter.prototype.shaderParamSetup = function shaderParamSetup(gl, stage, shaderProgram) {\n    if (!this._mapTexture) {\n      this._mapTexture = gl.createTexture();\n    }\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, this._mapTexture);\n    stage.setTextureParams(gl);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.alphaMap);\n    gl.uniform1i(gl.getUniformLocation(shaderProgram, \"uAlphaSampler\"), 1);\n  };\n  AlphaMapFilter.prototype.clone = function clone() {\n    var o = new AlphaMapFilter(this.alphaMap);\n    o._alphaMap = this._alphaMap;\n    o._mapData = this._mapData;\n    return o;\n  };\n  AlphaMapFilter.prototype._applyFilter = function _applyFilter(imageData) {\n    if (!this.alphaMap) {\n      return true;\n    }\n    if (!this._prepAlphaMap()) {\n      return false;\n    }\n    var data = imageData.data;\n    var map = this._mapData;\n    var l = data.length;\n    for (var i = 0; i < l; i += 4) {\n      data[i + 3] = map[i] || 0;\n    }\n    return true;\n  };\n  AlphaMapFilter.prototype._prepAlphaMap = function _prepAlphaMap() {\n    if (!this.alphaMap) {\n      return false;\n    }\n    if (this.alphaMap === this._alphaMap && this._mapData) {\n      return true;\n    }\n    this._mapData = null;\n    var map = this._alphaMap = this.alphaMap;\n    var canvas = map;\n    var ctx = void 0;\n    if (map instanceof HTMLCanvasElement) {\n      ctx = canvas.getContext(\"2d\");\n    } else {\n      canvas = window.createjs && createjs.createCanvas ? createjs.createCanvas() : document.createElement(\"canvas\");\n      canvas.width = map.width;\n      canvas.height = map.height;\n      ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(map, 0, 0);\n    }\n    try {\n      this._mapData = ctx.getImageData(0, 0, map.width, map.height).data;\n      return true;\n    } catch (e) {\n      return false;\n    }\n  };\n  return AlphaMapFilter;\n}(Filter);\n\nvar AlphaMaskFilter = function(_Filter) {\n  inherits(AlphaMaskFilter, _Filter);\n  function AlphaMaskFilter(mask) {\n    classCallCheck(this, AlphaMaskFilter);\n    var _this = possibleConstructorReturn(this, _Filter.call(this));\n    _this.mask = mask;\n    _this.usesContext = true;\n    _this.FRAG_SHADER_BODY = \"\\n\\t\\t\\tuniform sampler2D uAlphaSampler;\\n\\n\\t\\t\\tvoid main (void) {\\n\\t\\t\\t\\tvec4 color = texture2D(uSampler, vRenderCoord);\\n\\t\\t\\t\\tvec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);\\n\\n\\t\\t\\t\\tgl_FragColor = vec4(color.rgb, color.a * alphaMap.a);\\n\\t\\t\\t}\\n\\t\\t\";\n    return _this;\n  }\n  AlphaMaskFilter.prototype.applyFilter = function applyFilter(ctx, x, y, width, height, targetCtx, targetX, targetY) {\n    if (!this.mask) {\n      return true;\n    }\n    targetCtx = targetCtx || ctx;\n    if (targetX == null) {\n      targetX = x;\n    }\n    if (targetY == null) {\n      targetY = y;\n    }\n    targetCtx.save();\n    if (ctx != targetCtx) {\n      return false;\n    }\n    targetCtx.globalCompositeOperation = \"destination-in\";\n    targetCtx.drawImage(this.mask, targetX, targetY);\n    targetCtx.restore();\n    return true;\n  };\n  AlphaMaskFilter.prototype.clone = function clone() {\n    return new AlphaMaskFilter(this.mask);\n  };\n  AlphaMaskFilter.prototype.shaderParamSetup = function shaderParamSetup(gl, stage, shaderProgram) {\n    if (!this._mapTexture) {\n      this._mapTexture = gl.createTexture();\n    }\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, this._mapTexture);\n    stage.setTextureParams(gl);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.mask);\n    gl.uniform1i(gl.getUniformLocation(shaderProgram, \"uAlphaSampler\"), 1);\n  };\n  return AlphaMaskFilter;\n}(Filter);\n\nvar _MUL_TABLE = [ 1, 171, 205, 293, 57, 373, 79, 137, 241, 27, 391, 357, 41, 19, 283, 265, 497, 469, 443, 421, 25, 191, 365, 349, 335, 161, 155, 149, 9, 278, 269, 261, 505, 245, 475, 231, 449, 437, 213, 415, 405, 395, 193, 377, 369, 361, 353, 345, 169, 331, 325, 319, 313, 307, 301, 37, 145, 285, 281, 69, 271, 267, 263, 259, 509, 501, 493, 243, 479, 118, 465, 459, 113, 446, 55, 435, 429, 423, 209, 413, 51, 403, 199, 393, 97, 3, 379, 375, 371, 367, 363, 359, 355, 351, 347, 43, 85, 337, 333, 165, 327, 323, 5, 317, 157, 311, 77, 305, 303, 75, 297, 294, 73, 289, 287, 71, 141, 279, 277, 275, 68, 135, 67, 133, 33, 262, 260, 129, 511, 507, 503, 499, 495, 491, 61, 121, 481, 477, 237, 235, 467, 232, 115, 457, 227, 451, 7, 445, 221, 439, 218, 433, 215, 427, 425, 211, 419, 417, 207, 411, 409, 203, 202, 401, 399, 396, 197, 49, 389, 387, 385, 383, 95, 189, 47, 187, 93, 185, 23, 183, 91, 181, 45, 179, 89, 177, 11, 175, 87, 173, 345, 343, 341, 339, 337, 21, 167, 83, 331, 329, 327, 163, 81, 323, 321, 319, 159, 79, 315, 313, 39, 155, 309, 307, 153, 305, 303, 151, 75, 299, 149, 37, 295, 147, 73, 291, 145, 289, 287, 143, 285, 71, 141, 281, 35, 279, 139, 69, 275, 137, 273, 17, 271, 135, 269, 267, 133, 265, 33, 263, 131, 261, 130, 259, 129, 257, 1 ];\n\nvar _SHG_TABLE = [ 0, 9, 10, 11, 9, 12, 10, 11, 12, 9, 13, 13, 10, 9, 13, 13, 14, 14, 14, 14, 10, 13, 14, 14, 14, 13, 13, 13, 9, 14, 14, 14, 15, 14, 15, 14, 15, 15, 14, 15, 15, 15, 14, 15, 15, 15, 15, 15, 14, 15, 15, 15, 15, 15, 15, 12, 14, 15, 15, 13, 15, 15, 15, 15, 16, 16, 16, 15, 16, 14, 16, 16, 14, 16, 13, 16, 16, 16, 15, 16, 13, 16, 15, 16, 14, 9, 16, 16, 16, 16, 16, 16, 16, 16, 16, 13, 14, 16, 16, 15, 16, 16, 10, 16, 15, 16, 14, 16, 16, 14, 16, 16, 14, 16, 16, 14, 15, 16, 16, 16, 14, 15, 14, 15, 13, 16, 16, 15, 17, 17, 17, 17, 17, 17, 14, 15, 17, 17, 16, 16, 17, 16, 15, 17, 16, 17, 11, 17, 16, 17, 16, 17, 16, 17, 17, 16, 17, 17, 16, 17, 17, 16, 16, 17, 17, 17, 16, 14, 17, 17, 17, 17, 15, 16, 14, 16, 15, 16, 13, 16, 15, 16, 14, 16, 15, 16, 12, 16, 15, 16, 17, 17, 17, 17, 17, 13, 16, 15, 17, 17, 17, 16, 15, 17, 17, 17, 16, 15, 17, 17, 14, 16, 17, 17, 16, 17, 17, 16, 15, 17, 16, 14, 17, 16, 15, 17, 16, 17, 17, 16, 17, 15, 16, 17, 14, 17, 16, 15, 17, 16, 17, 13, 17, 16, 17, 17, 16, 17, 14, 17, 16, 17, 16, 17, 16, 17, 9 ];\n\nvar BlurFilter = function(_Filter) {\n  inherits(BlurFilter, _Filter);\n  function BlurFilter() {\n    var blurX = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var blurY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var quality = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    classCallCheck(this, BlurFilter);\n    var _this = possibleConstructorReturn(this, _Filter.call(this));\n    _this._blurX = blurX;\n    _this._blurXTable = [];\n    _this._lastBlurX = null;\n    _this._blurY = blurY;\n    _this._blurYTable = [];\n    _this._lastBlurY = null;\n    _this._quality = isNaN(quality) || quality < 1 ? 1 : quality;\n    _this._lastQuality = null;\n    _this.quality = _this._quality | 0;\n    _this.FRAG_SHADER_TEMPLATE = \"\\n\\t\\t\\tuniform float xWeight[{{blurX}}];\\n\\t\\t\\tuniform float yWeight[{{blurY}}];\\n\\t\\t\\tuniform vec2 textureOffset;\\n\\t\\t\\tvoid main (void) {\\n\\t\\t\\t\\tvec4 color = vec4(0.0);\\n\\n\\t\\t\\t\\tfloat xAdj = ({{blurX}}.0-1.0)/2.0;\\n\\t\\t\\t\\tfloat yAdj = ({{blurY}}.0-1.0)/2.0;\\n\\t\\t\\t\\tvec2 sampleOffset;\\n\\n\\t\\t\\t\\tfor(int i=0; i<{{blurX}}; i++) {\\n\\t\\t\\t\\t\\tfor(int j=0; j<{{blurY}}; j++) {\\n\\t\\t\\t\\t\\t\\tsampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));\\n\\t\\t\\t\\t\\t\\tcolor += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tgl_FragColor = color.rgba;\\n\\t\\t\\t}\\n\\t\\t\";\n    return _this;\n  }\n  BlurFilter.prototype.shaderParamSetup = function shaderParamSetup(gl, stage, shaderProgram) {\n    gl.uniform1fv(gl.getUniformLocation(shaderProgram, \"xWeight\"), this._blurXTable);\n    gl.uniform1fv(gl.getUniformLocation(shaderProgram, \"yWeight\"), this._blurYTable);\n    gl.uniform2f(gl.getUniformLocation(shaderProgram, \"textureOffset\"), 2 / (stage._viewportWidth * this._quality), 2 / (stage._viewportHeight * this._quality));\n  };\n  BlurFilter.prototype.getBounds = function getBounds(rect) {\n    var x = this.blurX | 0, y = this.blurY | 0;\n    if (x <= 0 && y <= 0) {\n      return rect;\n    }\n    var q = Math.pow(this.quality, .2);\n    return (rect || new Rectangle()).pad(y * q + 1, x * q + 1, y * q + 1, x * q + 1);\n  };\n  BlurFilter.prototype.clone = function clone() {\n    return new BlurFilter(this.blurX, this.blurY, this.quality);\n  };\n  BlurFilter.prototype._updateShader = function _updateShader() {\n    var result = this.FRAG_SHADER_TEMPLATE;\n    result = result.replace(/{{blurX}}/g, this._blurXTable.length.toFixed(0));\n    result = result.replace(/{{blurY}}/g, this._blurYTable.length.toFixed(0));\n    this.FRAG_SHADER_BODY = result;\n  };\n  BlurFilter.prototype._getTable = function _getTable(spread) {\n    var EDGE = 4.2;\n    if (spread <= 1) {\n      return [ 1 ];\n    }\n    var result = [];\n    var count = Math.ceil(spread * 2);\n    count += count % 2 ? 0 : 1;\n    var adjust = count / 2 | 0;\n    for (var i = -adjust; i <= adjust; i++) {\n      var x = i / adjust * EDGE;\n      result.push(1 / Math.sqrt(2 * Math.PI) * Math.pow(Math.E, -(Math.pow(x, 2) / 4)));\n    }\n    var factor = result.reduce(function(a, b) {\n      return a + b;\n    }, 0);\n    return result.map(function(currentValue) {\n      return currentValue / factor;\n    });\n  };\n  BlurFilter.prototype._applyFilter = function _applyFilter(imageData) {\n    var radiusX = this._blurX >> 1;\n    if (isNaN(radiusX) || radiusX < 0) return false;\n    var radiusY = this._blurY >> 1;\n    if (isNaN(radiusY) || radiusY < 0) return false;\n    if (radiusX === 0 && radiusY === 0) return false;\n    var iterations = this.quality;\n    if (isNaN(iterations) || iterations < 1) iterations = 1;\n    iterations |= 0;\n    if (iterations > 3) iterations = 3;\n    if (iterations < 1) iterations = 1;\n    var px = imageData.data;\n    var x = 0, y = 0, i = 0, p = 0, yp = 0, yi = 0, yw = 0, r = 0, g = 0, b = 0, a = 0, pr = 0, pg = 0, pb = 0, pa = 0;\n    var divx = radiusX + radiusX + 1 | 0;\n    var divy = radiusY + radiusY + 1 | 0;\n    var w = imageData.width | 0;\n    var h = imageData.height | 0;\n    var w1 = w - 1 | 0;\n    var h1 = h - 1 | 0;\n    var rxp1 = radiusX + 1 | 0;\n    var ryp1 = radiusY + 1 | 0;\n    var ssx = {\n      r: 0,\n      b: 0,\n      g: 0,\n      a: 0\n    };\n    var sx = ssx;\n    for (i = 1; i < divx; i++) {\n      sx = sx.n = {\n        r: 0,\n        b: 0,\n        g: 0,\n        a: 0\n      };\n    }\n    sx.n = ssx;\n    var ssy = {\n      r: 0,\n      b: 0,\n      g: 0,\n      a: 0\n    };\n    var sy = ssy;\n    for (i = 1; i < divy; i++) {\n      sy = sy.n = {\n        r: 0,\n        b: 0,\n        g: 0,\n        a: 0\n      };\n    }\n    sy.n = ssy;\n    var si = null;\n    var mtx = BlurFilter.MUL_TABLE[radiusX] | 0;\n    var stx = BlurFilter.SHG_TABLE[radiusX] | 0;\n    var mty = BlurFilter.MUL_TABLE[radiusY] | 0;\n    var sty = BlurFilter.SHG_TABLE[radiusY] | 0;\n    while (iterations-- > 0) {\n      yw = yi = 0;\n      var ms = mtx;\n      var ss = stx;\n      for (y = h; --y > -1; ) {\n        r = rxp1 * (pr = px[yi | 0]);\n        g = rxp1 * (pg = px[yi + 1 | 0]);\n        b = rxp1 * (pb = px[yi + 2 | 0]);\n        a = rxp1 * (pa = px[yi + 3 | 0]);\n        sx = ssx;\n        for (i = rxp1; --i > -1; ) {\n          sx.r = pr;\n          sx.g = pg;\n          sx.b = pb;\n          sx.a = pa;\n          sx = sx.n;\n        }\n        for (i = 1; i < rxp1; i++) {\n          p = yi + ((w1 < i ? w1 : i) << 2) | 0;\n          r += sx.r = px[p];\n          g += sx.g = px[p + 1];\n          b += sx.b = px[p + 2];\n          a += sx.a = px[p + 3];\n          sx = sx.n;\n        }\n        si = ssx;\n        for (x = 0; x < w; x++) {\n          px[yi++] = r * ms >>> ss;\n          px[yi++] = g * ms >>> ss;\n          px[yi++] = b * ms >>> ss;\n          px[yi++] = a * ms >>> ss;\n          p = yw + ((p = x + radiusX + 1) < w1 ? p : w1) << 2;\n          r -= si.r - (si.r = px[p]);\n          g -= si.g - (si.g = px[p + 1]);\n          b -= si.b - (si.b = px[p + 2]);\n          a -= si.a - (si.a = px[p + 3]);\n          si = si.n;\n        }\n        yw += w;\n      }\n      ms = mty;\n      ss = sty;\n      for (x = 0; x < w; x++) {\n        yi = x << 2 | 0;\n        r = ryp1 * (pr = px[yi]) | 0;\n        g = ryp1 * (pg = px[yi + 1 | 0]) | 0;\n        b = ryp1 * (pb = px[yi + 2 | 0]) | 0;\n        a = ryp1 * (pa = px[yi + 3 | 0]) | 0;\n        sy = ssy;\n        for (i = 0; i < ryp1; i++) {\n          sy.r = pr;\n          sy.g = pg;\n          sy.b = pb;\n          sy.a = pa;\n          sy = sy.n;\n        }\n        yp = w;\n        for (i = 1; i <= radiusY; i++) {\n          yi = yp + x << 2;\n          r += sy.r = px[yi];\n          g += sy.g = px[yi + 1];\n          b += sy.b = px[yi + 2];\n          a += sy.a = px[yi + 3];\n          sy = sy.n;\n          if (i < h1) {\n            yp += w;\n          }\n        }\n        yi = x;\n        si = ssy;\n        if (iterations > 0) {\n          for (y = 0; y < h; y++) {\n            p = yi << 2;\n            px[p + 3] = pa = a * ms >>> ss;\n            if (pa > 0) {\n              px[p] = r * ms >>> ss;\n              px[p + 1] = g * ms >>> ss;\n              px[p + 2] = b * ms >>> ss;\n            } else {\n              px[p] = px[p + 1] = px[p + 2] = 0;\n            }\n            p = x + ((p = y + ryp1) < h1 ? p : h1) * w << 2;\n            r -= si.r - (si.r = px[p]);\n            g -= si.g - (si.g = px[p + 1]);\n            b -= si.b - (si.b = px[p + 2]);\n            a -= si.a - (si.a = px[p + 3]);\n            si = si.n;\n            yi += w;\n          }\n        } else {\n          for (y = 0; y < h; y++) {\n            p = yi << 2;\n            px[p + 3] = pa = a * ms >>> ss;\n            if (pa > 0) {\n              pa = 255 / pa;\n              px[p] = (r * ms >>> ss) * pa;\n              px[p + 1] = (g * ms >>> ss) * pa;\n              px[p + 2] = (b * ms >>> ss) * pa;\n            } else {\n              px[p] = px[p + 1] = px[p + 2] = 0;\n            }\n            p = x + ((p = y + ryp1) < h1 ? p : h1) * w << 2;\n            r -= si.r - (si.r = px[p]);\n            g -= si.g - (si.g = px[p + 1]);\n            b -= si.b - (si.b = px[p + 2]);\n            a -= si.a - (si.a = px[p + 3]);\n            si = si.n;\n            yi += w;\n          }\n        }\n      }\n    }\n    return true;\n  };\n  createClass(BlurFilter, [ {\n    key: \"blurX\",\n    get: function get() {\n      return this._blurX;\n    },\n    set: function set(blurX) {\n      if (isNaN(blurX) || blurX < 0) {\n        blurX = 0;\n      }\n      this._blurX = blurX;\n    }\n  }, {\n    key: \"blurY\",\n    get: function get() {\n      return this._blurY;\n    },\n    set: function set(blurY) {\n      if (isNaN(blurY) || blurY < 0) {\n        blurY = 0;\n      }\n      this._blurY = blurY;\n    }\n  }, {\n    key: \"quality\",\n    get: function get() {\n      return this._quality;\n    },\n    set: function set(quality) {\n      if (isNaN(quality) || quality < 0) {\n        quality = 0;\n      }\n      this._quality = quality | 0;\n    }\n  }, {\n    key: \"_buildShader\",\n    get: function get() {\n      var xChange = this._lastBlurX !== this._blurX;\n      var yChange = this._lastBlurY !== this._blurY;\n      var qChange = this._lastQuality !== this._quality;\n      if (xChange || yChange || qChange) {\n        if (xChange || qChange) {\n          this._blurXTable = this._getTable(this._blurX * this._quality);\n        }\n        if (yChange || qChange) {\n          this._blurYTable = this._getTable(this._blurY * this._quality);\n        }\n        this._updateShader();\n        this._lastBlurX = this._blurX;\n        this._lastBlurY = this._blurY;\n        this._lastQuality = this._quality;\n        return undefined;\n      }\n      return this._compiledShader;\n    }\n  }, {\n    key: \"_builtShader\",\n    set: function set(value) {\n      this._compiledShader;\n    }\n  } ], [ {\n    key: \"MUL_TABLE\",\n    get: function get() {\n      return _MUL_TABLE;\n    }\n  }, {\n    key: \"SHG_TABLE\",\n    get: function get() {\n      return _SHG_TABLE;\n    }\n  } ]);\n  return BlurFilter;\n}(Filter);\n\nvar ColorFilter = function(_Filter) {\n  inherits(ColorFilter, _Filter);\n  function ColorFilter() {\n    var redMultiplier = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var greenMultiplier = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var blueMultiplier = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var alphaMultiplier = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    var redOffset = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    var greenOffset = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n    var blueOffset = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;\n    var alphaOffset = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 0;\n    classCallCheck(this, ColorFilter);\n    var _this = possibleConstructorReturn(this, _Filter.call(this));\n    _this.redMultiplier = redMultiplier;\n    _this.greenMultiplier = greenMultiplier;\n    _this.blueMultiplier = blueMultiplier;\n    _this.alphaMultiplier = alphaMultiplier;\n    _this.redOffset = redOffset;\n    _this.greenOffset = greenOffset;\n    _this.blueOffset = blueOffset;\n    _this.alphaOffset = alphaOffset;\n    _this.FRAG_SHADER_BODY = \"\\n\\t\\t\\tuniform vec4 uColorMultiplier;\\n\\t\\t\\tuniform vec4 uColorOffset;\\n\\n\\t\\t\\tvoid main (void) {\\n\\t\\t\\t\\tvec4 color = texture2D(uSampler, vRenderCoord);\\n\\n\\t\\t\\t\\tgl_FragColor = (color * uColorMultiplier) + uColorOffset;\\n\\t\\t\\t}\\n\\t\\t\";\n    return _this;\n  }\n  ColorFilter.prototype.shaderParamSetup = function shaderParamSetup(gl, stage, shaderProgram) {\n    gl.uniform4f(gl.getUniformLocation(shaderProgram, \"uColorMultiplier\"), this.redMultiplier, this.greenMultiplier, this.blueMultiplier, this.alphaMultiplier);\n    gl.uniform4f(gl.getUniformLocation(shaderProgram, \"uColorOffset\"), this.redOffset / 255, this.greenOffset / 255, this.blueOffset / 255, this.alphaOffset / 255);\n  };\n  ColorFilter.prototype.clone = function clone() {\n    return new ColorFilter(this.redMultiplier, this.greenMultiplier, this.blueMultiplier, this.alphaMultiplier, this.redOffset, this.greenOffset, this.blueOffset, this.alphaOffset);\n  };\n  ColorFilter.prototype._applyFilter = function _applyFilter(imageData) {\n    var data = imageData.data;\n    var l = data.length;\n    for (var i = 0; i < l; i += 4) {\n      data[i] = data[i] * this.redMultiplier + this.redOffset;\n      data[i + 1] = data[i + 1] * this.greenMultiplier + this.greenOffset;\n      data[i + 2] = data[i + 2] * this.blueMultiplier + this.blueOffset;\n      data[i + 3] = data[i + 3] * this.alphaMultiplier + this.alphaOffset;\n    }\n    return true;\n  };\n  return ColorFilter;\n}(Filter);\n\nvar _DELTA_INDEX = [ 0, .01, .02, .04, .05, .06, .07, .08, .1, .11, .12, .14, .15, .16, .17, .18, .2, .21, .22, .24, .25, .27, .28, .3, .32, .34, .36, .38, .4, .42, .44, .46, .48, .5, .53, .56, .59, .62, .65, .68, .71, .74, .77, .8, .83, .86, .89, .92, .95, .98, 1, 1.06, 1.12, 1.18, 1.24, 1.3, 1.36, 1.42, 1.48, 1.54, 1.6, 1.66, 1.72, 1.78, 1.84, 1.9, 1.96, 2, 2.12, 2.25, 2.37, 2.5, 2.62, 2.75, 2.87, 3, 3.2, 3.4, 3.6, 3.8, 4, 4.3, 4.7, 4.9, 5, 5.5, 6, 6.5, 6.8, 7, 7.3, 7.5, 7.8, 8, 8.4, 8.7, 9, 9.4, 9.6, 9.8, 10 ];\n\nvar _IDENTITY_MATRIX = [ 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1 ];\n\nvar _LENGTH = 25;\n\nvar ColorMatrix = function() {\n  function ColorMatrix(brightness, contrast, saturation, hue) {\n    classCallCheck(this, ColorMatrix);\n    this.setColor(brightness, contrast, saturation, hue);\n  }\n  ColorMatrix.prototype.setColor = function setColor(brightness, contrast, saturation, hue) {\n    return this.reset().adjustColor(brightness, contrast, saturation, hue);\n  };\n  ColorMatrix.prototype.reset = function reset() {\n    return this.copy(ColorMatrix.IDENTITY_MATRIX);\n  };\n  ColorMatrix.prototype.adjustColor = function adjustColor(brightness, contrast, saturation, hue) {\n    this.adjustHue(hue);\n    this.adjustContrast(contrast);\n    this.adjustBrightness(brightness);\n    return this.adjustSaturation(saturation);\n  };\n  ColorMatrix.prototype.adjustBrightness = function adjustBrightness(value) {\n    if (value === 0 || isNaN(value)) {\n      return this;\n    }\n    value = this._cleanValue(value, 255);\n    this._multiplyMatrix([ 1, 0, 0, 0, value, 0, 1, 0, 0, value, 0, 0, 1, 0, value, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1 ]);\n    return this;\n  };\n  ColorMatrix.prototype.adjustContrast = function adjustContrast(value) {\n    if (value === 0 || isNaN(value)) {\n      return this;\n    }\n    value = this._cleanValue(value, 100);\n    var x = void 0;\n    if (value < 0) {\n      x = 127 + value / 100 * 127;\n    } else {\n      x = value % 1;\n      if (x === 0) {\n        x = ColorMatrix.DELTA_INDEX[value];\n      } else {\n        x = ColorMatrix.DELTA_INDEX[value << 0] * (1 - x) + ColorMatrix.DELTA_INDEX[(value << 0) + 1] * x;\n      }\n      x = x * 127 + 127;\n    }\n    this._multiplyMatrix([ x / 127, 0, 0, 0, .5 * (127 - x), 0, x / 127, 0, 0, .5 * (127 - x), 0, 0, x / 127, 0, .5 * (127 - x), 0, 0, 0, 1, 0, 0, 0, 0, 0, 1 ]);\n    return this;\n  };\n  ColorMatrix.prototype.adjustSaturation = function adjustSaturation(value) {\n    if (value === 0 || isNaN(value)) {\n      return this;\n    }\n    value = this._cleanValue(value, 100);\n    var x = 1 + (value > 0 ? 3 * value / 100 : value / 100);\n    var lumR = .3086;\n    var lumG = .6094;\n    var lumB = .082;\n    this._multiplyMatrix([ lumR * (1 - x) + x, lumG * (1 - x), lumB * (1 - x), 0, 0, lumR * (1 - x), lumG * (1 - x) + x, lumB * (1 - x), 0, 0, lumR * (1 - x), lumG * (1 - x), lumB * (1 - x) + x, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1 ]);\n    return this;\n  };\n  ColorMatrix.prototype.adjustHue = function adjustHue(value) {\n    if (value === 0 || isNaN(value)) {\n      return this;\n    }\n    value = this._cleanValue(value, 180) / 180 * Math.PI;\n    var cosVal = Math.cos(value);\n    var sinVal = Math.sin(value);\n    var lumR = .213;\n    var lumG = .715;\n    var lumB = .072;\n    this._multiplyMatrix([ lumR + cosVal * (1 - lumR) + sinVal * -lumR, lumG + cosVal * -lumG + sinVal * -lumG, lumB + cosVal * -lumB + sinVal * (1 - lumB), 0, 0, lumR + cosVal * -lumR + sinVal * .143, lumG + cosVal * (1 - lumG) + sinVal * .14, lumB + cosVal * -lumB + sinVal * -.283, 0, 0, lumR + cosVal * -lumR + sinVal * -(1 - lumR), lumG + cosVal * -lumG + sinVal * lumG, lumB + cosVal * (1 - lumB) + sinVal * lumB, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1 ]);\n    return this;\n  };\n  ColorMatrix.prototype.concat = function concat(matrix) {\n    matrix = this._fixMatrix(matrix);\n    if (matrix.length != ColorMatrix.LENGTH) {\n      return this;\n    }\n    this._multiplyMatrix(matrix);\n    return this;\n  };\n  ColorMatrix.prototype.clone = function clone() {\n    return new ColorMatrix().copy(this);\n  };\n  ColorMatrix.prototype.toArray = function toArray() {\n    var arr = [];\n    var l = ColorMatrix.LENGTH;\n    for (var i = 0; i < l; i++) {\n      arr[i] = this[i];\n    }\n    return arr;\n  };\n  ColorMatrix.prototype.copy = function copy(matrix) {\n    var l = ColorMatrix.LENGTH;\n    for (var i = 0; i < l; i++) {\n      this[i] = matrix[i];\n    }\n    return this;\n  };\n  ColorMatrix.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \"]\";\n  };\n  ColorMatrix.prototype._multiplyMatrix = function _multiplyMatrix(matrix) {\n    var col = [];\n    for (var i = 0; i < 5; i++) {\n      for (var j = 0; j < 5; j++) {\n        col[j] = this[j + i * 5];\n      }\n      for (var _j = 0; _j < 5; _j++) {\n        var val = 0;\n        for (var k = 0; k < 5; k++) {\n          val += matrix[_j + k * 5] * col[k];\n        }\n        this[_j + i * 5] = val;\n      }\n    }\n  };\n  ColorMatrix.prototype._cleanValue = function _cleanValue(value, limit) {\n    return Math.min(limit, Math.max(-limit, value));\n  };\n  ColorMatrix.prototype._fixMatrix = function _fixMatrix(matrix) {\n    if (matrix instanceof ColorMatrix) {\n      matrix = matrix.toArray();\n    }\n    if (matrix.length < ColorMatrix.LENGTH) {\n      matrix = matrix.slice(0, matrix.length).concat(ColorMatrix.IDENTITY_MATRIX.slice(matrix.length, ColorMatrix.LENGTH));\n    } else if (matrix.length > ColorMatrix.LENGTH) {\n      matrix = matrix.slice(0, ColorMatrix.LENGTH);\n    }\n    return matrix;\n  };\n  createClass(ColorMatrix, null, [ {\n    key: \"DELTA_INDEX\",\n    get: function get() {\n      return _DELTA_INDEX;\n    }\n  }, {\n    key: \"IDENTITY_MATRIX\",\n    get: function get() {\n      return _IDENTITY_MATRIX;\n    }\n  }, {\n    key: \"LENGTH\",\n    get: function get() {\n      return _LENGTH;\n    }\n  } ]);\n  return ColorMatrix;\n}();\n\nvar ColorMatrixFilter = function(_Filter) {\n  inherits(ColorMatrixFilter, _Filter);\n  function ColorMatrixFilter(matrix) {\n    classCallCheck(this, ColorMatrixFilter);\n    var _this = possibleConstructorReturn(this, _Filter.call(this));\n    _this.matrix = matrix;\n    _this.FRAG_SHADER_BODY = \"\\n\\t\\t\\tuniform mat4 uColorMatrix;\\n\\t\\t\\tuniform vec4 uColorMatrixOffset;\\n\\n\\t\\t\\tvoid main (void) {\\n\\t\\t\\t\\tvec4 color = texture2D(uSampler, vRenderCoord);\\n\\n\\t\\t\\t\\tmat4 m = uColorMatrix;\\n\\t\\t\\t\\tvec4 newColor = vec4(0,0,0,0);\\n\\t\\t\\t\\tnewColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];\\n\\t\\t\\t\\tnewColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];\\n\\t\\t\\t\\tnewColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];\\n\\t\\t\\t\\tnewColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];\\n\\n\\t\\t\\t\\tgl_FragColor = newColor + uColorMatrixOffset;\\n\\t\\t\\t}\\n\\t\\t\";\n    return _this;\n  }\n  ColorMatrixFilter.prototype.shaderParamSetup = function shaderParamSetup(gl, stage, shaderProgram) {\n    var mat = this.matrix;\n    var colorMatrix = new Float32Array([ mat[0], mat[1], mat[2], mat[3], mat[5], mat[6], mat[7], mat[8], mat[10], mat[11], mat[12], mat[13], mat[15], mat[16], mat[17], mat[18] ]);\n    gl.uniformMatrix4fv(gl.getUniformLocation(shaderProgram, \"uColorMatrix\"), false, colorMatrix);\n    gl.uniform4f(gl.getUniformLocation(shaderProgram, \"uColorMatrixOffset\"), mat[4] / 255, mat[9] / 255, mat[14] / 255, mat[19] / 255);\n  };\n  ColorMatrixFilter.prototype.clone = function clone() {\n    return new ColorMatrixFilter(this.matrix);\n  };\n  ColorMatrixFilter.prototype._applyFilter = function _applyFilter(imageData) {\n    var data = imageData.data;\n    var l = data.length;\n    var r = void 0, g = void 0, b = void 0, a = void 0;\n    var mtx = this.matrix;\n    var m0 = mtx[0], m1 = mtx[1], m2 = mtx[2], m3 = mtx[3], m4 = mtx[4];\n    var m5 = mtx[5], m6 = mtx[6], m7 = mtx[7], m8 = mtx[8], m9 = mtx[9];\n    var m10 = mtx[10], m11 = mtx[11], m12 = mtx[12], m13 = mtx[13], m14 = mtx[14];\n    var m15 = mtx[15], m16 = mtx[16], m17 = mtx[17], m18 = mtx[18], m19 = mtx[19];\n    for (var i = 0; i < l; i += 4) {\n      r = data[i];\n      g = data[i + 1];\n      b = data[i + 2];\n      a = data[i + 3];\n      data[i] = r * m0 + g * m1 + b * m2 + a * m3 + m4;\n      data[i + 1] = r * m5 + g * m6 + b * m7 + a * m8 + m9;\n      data[i + 2] = r * m10 + g * m11 + b * m12 + a * m13 + m14;\n      data[i + 3] = r * m15 + g * m16 + b * m17 + a * m18 + m19;\n    }\n    return true;\n  };\n  return ColorMatrixFilter;\n}(Filter);\n\nvar ButtonHelper = function() {\n  function ButtonHelper(target) {\n    var outLabel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"out\";\n    var overLabel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"over\";\n    var downLabel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"down\";\n    var play = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    var hitArea = arguments[5];\n    var hitLabel = arguments[6];\n    classCallCheck(this, ButtonHelper);\n    if (!target.addEventListener) {\n      return;\n    }\n    this.target = target;\n    this.overLabel = overLabel;\n    this.outLabel = outLabel;\n    this.downLabel = downLabel == null;\n    this.play = play;\n    this._isPressed = false;\n    this._isOver = false;\n    this._enabled = false;\n    target.mouseChildren = false;\n    this.enabled = true;\n    this.handleEvent({});\n    if (hitArea) {\n      if (hitLabel) {\n        hitArea.actionsEnabled = false;\n        hitArea.gotoAndStop && hitArea.gotoAndStop(hitLabel);\n      }\n      target.hitArea = hitArea;\n    }\n  }\n  ButtonHelper.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \"]\";\n  };\n  ButtonHelper.prototype.handleEvent = function handleEvent(evt) {\n    var label = void 0, t = this.target, type = evt.type;\n    if (type === \"mousedown\") {\n      this._isPressed = true;\n      label = this.downLabel;\n    } else if (type === \"pressup\") {\n      this._isPressed = false;\n      label = this._isOver ? this.overLabel : this.outLabel;\n    } else if (type === \"rollover\") {\n      this._isOver = true;\n      label = this._isPressed ? this.downLabel : this.overLabel;\n    } else {\n      this._isOver = false;\n      label = this._isPressed ? this.overLabel : this.outLabel;\n    }\n    if (this.play) {\n      t.gotoAndPlay && t.gotoAndPlay(label);\n    } else {\n      t.gotoAndStop && t.gotoAndStop(label);\n    }\n  };\n  ButtonHelper.prototype._reset = function _reset() {\n    var p = this.paused;\n    this.__reset();\n    this.paused = p;\n  };\n  createClass(ButtonHelper, [ {\n    key: \"enabled\",\n    get: function get() {\n      return this._enabled;\n    },\n    set: function set(enabled) {\n      if (enabled === this._enabled) {\n        return;\n      }\n      var o = this.target;\n      this._enabled = enabled;\n      if (enabled) {\n        o.cursor = \"pointer\";\n        o.addEventListener(\"rollover\", this);\n        o.addEventListener(\"rollout\", this);\n        o.addEventListener(\"mousedown\", this);\n        o.addEventListener(\"pressup\", this);\n        if (o._reset) {\n          o.__reset = o._reset;\n          o._reset = this._reset;\n        }\n      } else {\n        o.cursor = null;\n        o.removeEventListener(\"rollover\", this);\n        o.removeEventListener(\"rollout\", this);\n        o.removeEventListener(\"mousedown\", this);\n        o.removeEventListener(\"pressup\", this);\n        if (o.__reset) {\n          o._reset = o.__reset;\n          delete o.__reset;\n        }\n      }\n    }\n  } ]);\n  return ButtonHelper;\n}();\n\nvar Touch = function() {\n  function Touch() {\n    classCallCheck(this, Touch);\n    throw \"Touch cannot be instantiated\";\n  }\n  Touch.isSupported = function isSupported() {\n    return !!(\"ontouchstart\" in window || window.navigator[\"msPointerEnabled\"] && window.navigator[\"msMaxTouchPoints\"] > 0 || window.navigator[\"pointerEnabled\"] && window.navigator[\"maxTouchPoints\"] > 0);\n  };\n  Touch.enable = function enable(stage) {\n    var singleTouch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var allowDefault = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (!stage || !stage.canvas || !Touch.isSupported()) {\n      return false;\n    }\n    if (stage.__touch) {\n      return true;\n    }\n    stage.__touch = {\n      pointers: {},\n      multitouch: !singleTouch,\n      preventDefault: !allowDefault,\n      count: 0\n    };\n    if (\"ontouchstart\" in window) {\n      Touch._IOS_enable(stage);\n    } else if (window.navigator[\"msPointerEnabled\"] || window.navigator[\"pointerEnabled\"]) {\n      Touch._IE_enable(stage);\n    }\n    return true;\n  };\n  Touch.disable = function disable(stage) {\n    if (!stage) {\n      return;\n    }\n    if (\"ontouchstart\" in window) {\n      Touch._IOS_disable(stage);\n    } else if (window.navigator[\"msPointerEnabled\"] || window.navigator[\"pointerEnabled\"]) {\n      Touch._IE_disable(stage);\n    }\n    delete stage.__touch;\n  };\n  Touch._IOS_enable = function _IOS_enable(stage) {\n    var canvas = stage.canvas;\n    var f = stage.__touch.f = function(e) {\n      return Touch._IOS_handleEvent(stage, e);\n    };\n    canvas.addEventListener(\"touchstart\", f, false);\n    canvas.addEventListener(\"touchmove\", f, false);\n    canvas.addEventListener(\"touchend\", f, false);\n    canvas.addEventListener(\"touchcancel\", f, false);\n  };\n  Touch._IOS_disable = function _IOS_disable(stage) {\n    var canvas = stage.canvas;\n    if (!canvas) {\n      return;\n    }\n    var f = stage.__touch.f;\n    canvas.removeEventListener(\"touchstart\", f, false);\n    canvas.removeEventListener(\"touchmove\", f, false);\n    canvas.removeEventListener(\"touchend\", f, false);\n    canvas.removeEventListener(\"touchcancel\", f, false);\n  };\n  Touch._IOS_handleEvent = function _IOS_handleEvent(stage, e) {\n    if (!stage) {\n      return;\n    }\n    if (stage.__touch.preventDefault) {\n      e.preventDefault && e.preventDefault();\n    }\n    var touches = e.changedTouches;\n    var type = e.type;\n    var l = touches.length;\n    for (var _iterator = touches, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator](); ;) {\n      var _ref;\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n      var touch = _ref;\n      var id = touch.identifier;\n      if (touch.target != stage.canvas) {\n        continue;\n      }\n      if (type === \"touchstart\") {\n        this._handleStart(stage, id, e, touch.pageX, touch.pageY);\n      } else if (type === \"touchmove\") {\n        this._handleMove(stage, id, e, touch.pageX, touch.pageY);\n      } else if (type === \"touchend\" || type === \"touchcancel\") {\n        this._handleEnd(stage, id, e);\n      }\n    }\n  };\n  Touch._IE_enable = function _IE_enable(stage) {\n    var canvas = stage.canvas;\n    var f = stage.__touch.f = function(e) {\n      return Touch._IE_handleEvent(stage, e);\n    };\n    if (window.navigator[\"pointerEnabled\"] === undefined) {\n      canvas.addEventListener(\"MSPointerDown\", f, false);\n      window.addEventListener(\"MSPointerMove\", f, false);\n      window.addEventListener(\"MSPointerUp\", f, false);\n      window.addEventListener(\"MSPointerCancel\", f, false);\n      if (stage.__touch.preventDefault) {\n        canvas.style.msTouchAction = \"none\";\n      }\n    } else {\n      canvas.addEventListener(\"pointerdown\", f, false);\n      window.addEventListener(\"pointermove\", f, false);\n      window.addEventListener(\"pointerup\", f, false);\n      window.addEventListener(\"pointercancel\", f, false);\n      if (stage.__touch.preventDefault) {\n        canvas.style.touchAction = \"none\";\n      }\n    }\n    stage.__touch.activeIDs = {};\n  };\n  Touch._IE_disable = function _IE_disable(stage) {\n    var f = stage.__touch.f;\n    if (window.navigator[\"pointerEnabled\"] === undefined) {\n      window.removeEventListener(\"MSPointerMove\", f, false);\n      window.removeEventListener(\"MSPointerUp\", f, false);\n      window.removeEventListener(\"MSPointerCancel\", f, false);\n      if (stage.canvas) {\n        stage.canvas.removeEventListener(\"MSPointerDown\", f, false);\n      }\n    } else {\n      window.removeEventListener(\"pointermove\", f, false);\n      window.removeEventListener(\"pointerup\", f, false);\n      window.removeEventListener(\"pointercancel\", f, false);\n      if (stage.canvas) {\n        stage.canvas.removeEventListener(\"pointerdown\", f, false);\n      }\n    }\n  };\n  Touch._IE_handleEvent = function _IE_handleEvent(stage, e) {\n    if (!stage) {\n      return;\n    }\n    if (stage.__touch.preventDefault) {\n      e.preventDefault && e.preventDefault();\n    }\n    var type = e.type;\n    var id = e.pointerId;\n    var ids = stage.__touch.activeIDs;\n    if (type === \"MSPointerDown\" || type === \"pointerdown\") {\n      if (e.srcElement != stage.canvas) {\n        return;\n      }\n      ids[id] = true;\n      this._handleStart(stage, id, e, e.pageX, e.pageY);\n    } else if (ids[id]) {\n      if (type === \"MSPointerMove\" || type === \"pointermove\") {\n        this._handleMove(stage, id, e, e.pageX, e.pageY);\n      } else if (type === \"MSPointerUp\" || type === \"MSPointerCancel\" || type === \"pointerup\" || type === \"pointercancel\") {\n        delete ids[id];\n        this._handleEnd(stage, id, e);\n      }\n    }\n  };\n  Touch._handleStart = function _handleStart(stage, id, e, x, y) {\n    var props = stage.__touch;\n    if (!props.multitouch && props.count) {\n      return;\n    }\n    var ids = props.pointers;\n    if (ids[id]) {\n      return;\n    }\n    ids[id] = true;\n    props.count++;\n    stage._handlePointerDown(id, e, x, y);\n  };\n  Touch._handleMove = function _handleMove(stage, id, e, x, y) {\n    if (!stage.__touch.pointers[id]) {\n      return;\n    }\n    stage._handlePointerMove(id, e, x, y);\n  };\n  Touch._handleEnd = function _handleEnd(stage, id, e) {\n    var props = stage.__touch;\n    var ids = props.pointers;\n    if (!ids[id]) {\n      return;\n    }\n    props.count--;\n    stage._handlePointerUp(id, e, true);\n    delete ids[id];\n  };\n  return Touch;\n}();\n\nvar _ERR_DIMENSIONS = \"frame dimensions exceed max spritesheet dimensions\";\n\nvar _ERR_RUNNING = \"a build is already running\";\n\nvar SpriteSheetBuilder = function(_EventDispatcher) {\n  inherits(SpriteSheetBuilder, _EventDispatcher);\n  function SpriteSheetBuilder() {\n    var framerate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    classCallCheck(this, SpriteSheetBuilder);\n    var _this = possibleConstructorReturn(this, _EventDispatcher.call(this));\n    _this.maxWidth = 2048;\n    _this.maxHeight = 2048;\n    _this.spriteSheet = null;\n    _this.scale = 1;\n    _this.padding = 1;\n    _this.timeSlice = .3;\n    _this.progress = -1;\n    _this.framerate = framerate;\n    _this._frames = [];\n    _this._animations = {};\n    _this._data = null;\n    _this._nextFrameIndex = 0;\n    _this._index = 0;\n    _this._timerID = null;\n    _this._scale = 1;\n    return _this;\n  }\n  SpriteSheetBuilder.prototype.addFrame = function addFrame(source, sourceRect) {\n    var scale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var setupFunction = arguments[3];\n    var setupData = arguments[4];\n    if (this._data) {\n      throw SpriteSheetBuilder.ERR_RUNNING;\n    }\n    var rect = sourceRect || source.bounds || source.nominalBounds || source.getBounds && source.getBounds();\n    if (!rect) {\n      return null;\n    }\n    return this._frames.push({\n      source: source,\n      sourceRect: rect,\n      scale: scale,\n      funct: setupFunction,\n      data: setupData,\n      index: this._frames.length,\n      height: rect.height * scale\n    }) - 1;\n  };\n  SpriteSheetBuilder.prototype.addAnimation = function addAnimation(name, frames, next, speed) {\n    if (this._data) {\n      throw SpriteSheetBuilder.ERR_RUNNING;\n    }\n    this._animations[name] = {\n      frames: frames,\n      next: next,\n      speed: speed\n    };\n  };\n  SpriteSheetBuilder.prototype.addMovieClip = function addMovieClip(source, sourceRect) {\n    var scale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var setupFunction = arguments[3];\n    var setupData = arguments[4];\n    var labelFunction = arguments[5];\n    if (this._data) {\n      throw SpriteSheetBuilder.ERR_RUNNING;\n    }\n    var rects = source.frameBounds;\n    var rect = sourceRect || source.bounds || source.nominalBounds || source.getBounds && source.getBounds();\n    if (!rect && !rects) {\n      return;\n    }\n    var baseFrameIndex = this._frames.length;\n    var duration = source.timeline.duration;\n    for (var i = 0; i < duration; i++) {\n      var r = rects && rects[i] ? rects[i] : rect;\n      this.addFrame(source, r, scale, this._setupMovieClipFrame, {\n        i: i,\n        f: setupFunction,\n        d: setupData\n      });\n    }\n    var labels = source.timeline._labels;\n    var lbls = [];\n    for (var n in labels) {\n      lbls.push({\n        index: labels[n],\n        label: n\n      });\n    }\n    if (lbls.length) {\n      lbls.sort(function(a, b) {\n        return a.index - b.index;\n      });\n      for (var _i = 0, l = lbls.length; _i < l; _i++) {\n        var label = lbls[_i].label;\n        var start = baseFrameIndex + lbls[_i].index;\n        var end = baseFrameIndex + (_i === l - 1 ? duration : lbls[_i + 1].index);\n        var frames = [];\n        for (var _i2 = start; _i2 < end; _i2++) {\n          frames.push(_i2);\n        }\n        if (labelFunction) {\n          label = labelFunction(label, source, start, end);\n          if (!label) {\n            continue;\n          }\n        }\n        this.addAnimation(label, frames, true);\n      }\n    }\n  };\n  SpriteSheetBuilder.prototype.build = function build() {\n    if (this._data) {\n      throw SpriteSheetBuilder.ERR_RUNNING;\n    }\n    this._startBuild();\n    while (this._drawNext()) {}\n    this._endBuild();\n    return this.spriteSheet;\n  };\n  SpriteSheetBuilder.prototype.buildAsync = function buildAsync(timeSlice) {\n    var _this2 = this;\n    if (this._data) {\n      throw SpriteSheetBuilder.ERR_RUNNING;\n    }\n    this.timeSlice = timeSlice;\n    this._startBuild();\n    this._timerID = setTimeout(function() {\n      return _this2._run();\n    }, 50 - Math.max(.01, Math.min(.99, this.timeSlice || .3)) * 50);\n  };\n  SpriteSheetBuilder.prototype.stopAsync = function stopAsync() {\n    clearTimeout(this._timerID);\n    this._data = null;\n  };\n  SpriteSheetBuilder.prototype.clone = function clone() {\n    throw \"SpriteSheetBuilder cannot be cloned.\";\n  };\n  SpriteSheetBuilder.prototype.toString = function toString() {\n    return \"[\" + this.constructor.name + \"]\";\n  };\n  SpriteSheetBuilder.prototype._startBuild = function _startBuild() {\n    var pad = this.padding || 0;\n    this.progress = 0;\n    this.spriteSheet = null;\n    this._index = 0;\n    this._scale = this.scale;\n    var dataFrames = [];\n    this._data = {\n      images: [],\n      frames: dataFrames,\n      framerate: this.framerate,\n      animations: this._animations\n    };\n    var frames = this._frames.slice();\n    frames.sort(function(a, b) {\n      return a.height <= b.height ? -1 : 1;\n    });\n    if (frames[frames.length - 1].height + pad * 2 > this.maxHeight) {\n      throw SpriteSheetBuilder.ERR_DIMENSIONS;\n    }\n    var y = 0, x = 0;\n    var img = 0;\n    while (frames.length) {\n      var o = this._fillRow(frames, y, img, dataFrames, pad);\n      if (o.w > x) {\n        x = o.w;\n      }\n      y += o.h;\n      if (!o.h || !frames.length) {\n        var canvas = window.createjs && createjs.createCanvas ? createjs.createCanvas() : document.createElement(\"canvas\");\n        canvas.width = this._getSize(x, this.maxWidth);\n        canvas.height = this._getSize(y, this.maxHeight);\n        this._data.images[img] = canvas;\n        if (!o.h) {\n          x = y = 0;\n          img++;\n        }\n      }\n    }\n  };\n  SpriteSheetBuilder.prototype._setupMovieClipFrame = function _setupMovieClipFrame(source, data) {\n    var ae = source.actionsEnabled;\n    source.actionsEnabled = false;\n    source.gotoAndStop(data.i);\n    source.actionsEnabled = ae;\n    data.f && data.f(source, data.d, data.i);\n  };\n  SpriteSheetBuilder.prototype._getSize = function _getSize(size, max) {\n    var pow = 4;\n    while (Math.pow(2, ++pow) < size) {}\n    return Math.min(max, Math.pow(2, pow));\n  };\n  SpriteSheetBuilder.prototype._fillRow = function _fillRow(frames, y, img, dataFrames, pad) {\n    var w = this.maxWidth;\n    var maxH = this.maxHeight;\n    y += pad;\n    var h = maxH - y;\n    var x = pad;\n    var height = 0;\n    for (var i = frames.length - 1; i >= 0; i--) {\n      var frame = frames[i];\n      var sc = this._scale * frame.scale;\n      var rect = frame.sourceRect;\n      var source = frame.source;\n      var rx = Math.floor(sc * rect.x - pad);\n      var ry = Math.floor(sc * rect.y - pad);\n      var rh = Math.ceil(sc * rect.height + pad * 2);\n      var rw = Math.ceil(sc * rect.width + pad * 2);\n      if (rw > w) {\n        throw SpriteSheetBuilder.ERR_DIMENSIONS;\n      }\n      if (rh > h || x + rw > w) {\n        continue;\n      }\n      frame.img = img;\n      frame.rect = new Rectangle(x, y, rw, rh);\n      height = height || rh;\n      frames.splice(i, 1);\n      dataFrames[frame.index] = [ x, y, rw, rh, img, Math.round(-rx + sc * source.regX - pad), Math.round(-ry + sc * source.regY - pad) ];\n      x += rw;\n    }\n    return {\n      w: x,\n      h: height\n    };\n  };\n  SpriteSheetBuilder.prototype._endBuild = function _endBuild() {\n    this.spriteSheet = new SpriteSheet(this._data);\n    this._data = null;\n    this.progress = 1;\n    this.dispatchEvent(\"complete\");\n  };\n  SpriteSheetBuilder.prototype._run = function _run() {\n    var _this3 = this;\n    var ts = Math.max(.01, Math.min(.99, this.timeSlice || .3)) * 50;\n    var t = new Date().getTime() + ts;\n    var complete = false;\n    while (t > new Date().getTime()) {\n      if (!this._drawNext()) {\n        complete = true;\n        break;\n      }\n    }\n    if (complete) {\n      this._endBuild();\n    } else {\n      this._timerID = setTimeout(function() {\n        return _this3._run();\n      }, 50 - ts);\n    }\n    var p = this.progress = this._index / this._frames.length;\n    if (this.hasEventListener(\"progress\")) {\n      var evt = new Event(\"progress\");\n      evt.progress = p;\n      this.dispatchEvent(evt);\n    }\n  };\n  SpriteSheetBuilder.prototype._drawNext = function _drawNext() {\n    var frame = this._frames[this._index];\n    var sc = frame.scale * this._scale;\n    var rect = frame.rect;\n    var sourceRect = frame.sourceRect;\n    var canvas = this._data.images[frame.img];\n    var ctx = canvas.getContext(\"2d\");\n    frame.funct && frame.funct(frame.source, frame.data);\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(rect.x, rect.y, rect.width, rect.height);\n    ctx.clip();\n    ctx.translate(Math.ceil(rect.x - sourceRect.x * sc), Math.ceil(rect.y - sourceRect.y * sc));\n    ctx.scale(sc, sc);\n    frame.source.draw(ctx);\n    ctx.restore();\n    return ++this._index < this._frames.length;\n  };\n  createClass(SpriteSheetBuilder, null, [ {\n    key: \"ERR_DIMENSIONS\",\n    get: function get() {\n      return _ERR_DIMENSIONS;\n    }\n  }, {\n    key: \"ERR_RUNNING\",\n    get: function get() {\n      return _ERR_RUNNING;\n    }\n  } ]);\n  return SpriteSheetBuilder;\n}(EventDispatcher);\n\nvar SpriteSheetUtils = function() {\n  function SpriteSheetUtils() {\n    classCallCheck(this, SpriteSheetUtils);\n    throw \"SpriteSheetUtils cannot be instantiated\";\n  }\n  SpriteSheetUtils.extractFrame = function extractFrame(spriteSheet, frameOrAnimation) {\n    if (isNaN(frameOrAnimation)) {\n      frameOrAnimation = spriteSheet.getAnimation(frameOrAnimation).frames[0];\n    }\n    var data = spriteSheet.getFrame(frameOrAnimation);\n    if (!data) {\n      return null;\n    }\n    var r = data.rect;\n    var canvas = SpriteSheetUtils._workingCanvas;\n    canvas.width = r.width;\n    canvas.height = r.height;\n    SpriteSheetUtils._workingContext.drawImage(data.image, r.x, r.y, r.width, r.height, 0, 0, r.width, r.height);\n    var img = document.createElement(\"img\");\n    img.src = canvas.toDataURL(\"image/png\");\n    return img;\n  };\n  SpriteSheetUtils.mergeAlpha = function mergeAlpha(rgbImage, alphaImage, canvas) {\n    if (!canvas) {\n      canvas = window.createjs && createjs.createCanvas ? createjs.createCanvas() : document.createElement(\"canvas\");\n    }\n    canvas.width = Math.max(alphaImage.width, rgbImage.width);\n    canvas.height = Math.max(alphaImage.height, rgbImage.height);\n    var ctx = canvas.getContext(\"2d\");\n    ctx.save();\n    ctx.drawImage(rgbImage, 0, 0);\n    ctx.globalCompositeOperation = \"destination-in\";\n    ctx.drawImage(alphaImage, 0, 0);\n    ctx.restore();\n    return canvas;\n  };\n  SpriteSheetUtils._flip = function _flip(spriteSheet, count, h, v) {\n    var imgs = spriteSheet._images;\n    var canvas = SpriteSheetUtils._workingCanvas;\n    var ctx = SpriteSheetUtils._workingContext;\n    var il = imgs.length / count;\n    for (var i = 0; i < il; i++) {\n      var src = imgs[i];\n      src.__tmp = i;\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      ctx.clearRect(0, 0, canvas.width + 1, canvas.height + 1);\n      canvas.width = src.width;\n      canvas.height = src.height;\n      ctx.setTransform(h ? -1 : 1, 0, 0, v ? -1 : 1, h ? src.width : 0, v ? src.height : 0);\n      ctx.drawImage(src, 0, 0);\n      var img = document.createElement(\"img\");\n      img.src = canvas.toDataURL(\"image/png\");\n      img.width = src.width || src.naturalWidth;\n      img.height = src.height || src.naturalHeight;\n      imgs.push(img);\n    }\n    var frames = spriteSheet._frames;\n    var fl = frames.length / count;\n    for (var _i = 0; _i < fl; _i++) {\n      var _src = frames[_i];\n      var rect = _src.rect.clone();\n      var _img = imgs[_src.image.__tmp + il * count];\n      var frame = {\n        image: _img,\n        rect: rect,\n        regX: _src.regX,\n        regY: _src.regY\n      };\n      if (h) {\n        rect.x = (_img.width || _img.naturalWidth) - rect.x - rect.width;\n        frame.regX = rect.width - _src.regX;\n      }\n      if (v) {\n        rect.y = (_img.height || _img.naturalHeight) - rect.y - rect.height;\n        frame.regY = rect.height - _src.regY;\n      }\n      frames.push(frame);\n    }\n    var sfx = \"_\" + (h ? \"h\" : \"\") + (v ? \"v\" : \"\");\n    var names = spriteSheet._animations;\n    var data = spriteSheet._data;\n    var al = names.length / count;\n    for (var _i2 = 0; _i2 < al; _i2++) {\n      var name = names[_i2];\n      var _src2 = data[name];\n      var anim = {\n        name: name + sfx,\n        speed: _src2.speed,\n        next: _src2.next,\n        frames: []\n      };\n      if (_src2.next) {\n        anim.next += sfx;\n      }\n      var _frames = _src2.frames;\n      for (var _i3 = 0, l = _frames.length; _i3 < l; _i3++) {\n        anim.frames.push(_frames[_i3] + fl * count);\n      }\n      data[anim.name] = anim;\n      names.push(anim.name);\n    }\n  };\n  return SpriteSheetUtils;\n}();\n\n{\n  var canvas$3 = window.createjs && createjs.createCanvas ? createjs.createCanvas() : document.createElement(\"canvas\");\n  if (canvas$3.getContext) {\n    SpriteSheetUtils._workingCanvas = canvas$3;\n    SpriteSheetUtils._workingContext = canvas$3.getContext(\"2d\");\n    canvas$3.width = canvas$3.height = 1;\n  }\n}\n\nvar _alternateOutput = null;\n\nvar WebGLInspector = function(_EventDispatcher) {\n  inherits(WebGLInspector, _EventDispatcher);\n  function WebGLInspector(stage) {\n    classCallCheck(this, WebGLInspector);\n    var _this = possibleConstructorReturn(this, _EventDispatcher.call(this));\n    _this._stage = stage;\n    return _this;\n  }\n  WebGLInspector.dispProps = function dispProps(item) {\n    var prepend = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    var p = \"\\tP: \" + item.x.toFixed(2) + \"x\" + item.y.toFixed(2) + \"\\t\";\n    var r = \"\\tR: \" + item.regX.toFixed(2) + \"x\" + item.regY.toFixed(2) + \"\\t\";\n    WebGLInspector._log(prepend, item.toString() + \"\\t\", p, r);\n  };\n  WebGLInspector._log = function _log() {\n    if (WebGLInspector.alternateOutput) {\n      var _WebGLInspector$alter;\n      (_WebGLInspector$alter = WebGLInspector.alternateOutput).log.apply(_WebGLInspector$alter, arguments);\n    } else {\n      var _console;\n      (_console = console).log.apply(_console, arguments);\n    }\n  };\n  WebGLInspector.prototype.log = function log(stage) {\n    if (!stage) {\n      stage = this._stage;\n    }\n    WebGLInspector._log(\"Batches Per Draw: \" + (stage._batchID / stage._drawID).toFixed(4));\n    this.logContextInfo(stage._webGLContext);\n    this.logDepth(stage.children, \"\");\n    this.logTextureFill(stage);\n  };\n  WebGLInspector.prototype.toggleGPUDraw = function toggleGPUDraw(stage, enabled) {\n    if (!stage) {\n      stage = this._stage;\n    }\n    if (enabled === undefined) {\n      enabled = !!stage._drawBuffers_;\n    }\n    if (enabled && stage._drawBuffers_) {\n      stage._drawBuffers = stage._drawBuffers_;\n      stage._drawBuffers_ = undefined;\n    } else {\n      stage._drawBuffers_ = stage._drawBuffers;\n      stage._drawBuffers = function _inspectorDrawBuffers(gl) {\n        if (this.vocalDebug) {\n          WebGLInspector._log(\"BlankDraw[\" + this._drawID + \":\" + this._batchID + \"] : \" + this.batchReason);\n        }\n      };\n    }\n  };\n  WebGLInspector.prototype.logDepth = function logDepth(children) {\n    var prepend = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    var logFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : WebGLInspector._log;\n    if (!children) {\n      children = this._stage.children;\n    }\n    var l = children.length;\n    for (var i = 0; i < l; i++) {\n      var child = children[i];\n      logFunc(prepend + \"-\", child);\n      if (child.children && child.children.length) {\n        this.logDepth(child.children, \"|\" + prepend, logFunc);\n      }\n    }\n  };\n  WebGLInspector.prototype.logContextInfo = function logContextInfo(gl) {\n    if (!gl) {\n      gl = this._stage._webGLContext;\n    }\n    var data = \"\\n\\t\\t\\t== LOG:\\n\\n\\t\\t\\tMax textures per draw: \" + gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS) + \"\\n\\n\\t\\t\\tMax textures active: \" + gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS) + \"\\n\\n\\t\\t\\t\\n\\n\\t\\t\\tMax texture size: \" + gl.getParameter(gl.MAX_TEXTURE_SIZE) / 2 + \"\\n\\n\\t\\t\\tMax cache size: \" + gl.getParameter(gl.MAX_RENDERBUFFER_SIZE) / 2 + \"\\n\\n\\t\\t\\t\\n\\n\\t\\t\\tMax attributes per vertex: \" + gl.getParameter(gl.MAX_VERTEX_ATTRIBS) + \"\\n\\n\\t\\t\\tWebGL Version string: \" + gl.getParameter(gl.VERSION) + \"\\n\\n\\t\\t\\t======\\n\\t\\t\";\n    WebGLInspector._log(data);\n  };\n  WebGLInspector.prototype.logTextureFill = function logTextureFill(stage) {\n    if (!stage) {\n      stage = this._stage;\n    }\n    var dict = stage._textureDictionary;\n    var count = stage._batchTextureCount;\n    WebGLInspector._log(textureMax + \": \" + count);\n    var output = [];\n    for (var n in dict) {\n      var str = n.replace(window.location.origin, \"\");\n      var tex = dict[n];\n      var shifted = tex._lastActiveIndex ? tex._lastActiveIndex === tex._activeIndex : false;\n      output.push({\n        src: src,\n        element: tex,\n        shifted: shifted\n      });\n      tex._lastActiveIndex = tex._activeIndex;\n    }\n    output.sort(function(a, b) {\n      if (a.element._drawID === stage._drawID) {\n        return 1;\n      }\n      if (a.element._drawID < b.element._drawID) {\n        return -1;\n      }\n      return 0;\n    });\n    var l = output.length;\n    for (var i = 0; i < l; i++) {\n      var out = output[i];\n      var active = out.element._drawID === stage._drawID;\n      WebGLInspector._log(\"[\" + out.src + \"] \" + (active ? \"ACTIVE\" : \"stale\") + \" \" + (out.shifted ? \"steady\" : \"DRIFT\"), out.element);\n    }\n  };\n  createClass(WebGLInspector, null, [ {\n    key: \"alternateOutput\",\n    get: function get() {\n      return _alternateOutput;\n    },\n    set: function set(alternateOutput) {\n      _alternateOutput = alternateOutput;\n    }\n  } ]);\n  return WebGLInspector;\n}(EventDispatcher);\n\nexports.StageGL = StageGL;\n\nexports.Stage = Stage;\n\nexports.Container = Container;\n\nexports.DisplayObject = DisplayObject;\n\nexports.Bitmap = Bitmap;\n\nexports.BitmapText = BitmapText;\n\nexports.DOMElement = DOMElement;\n\nexports.Graphics = Graphics;\n\nexports.MovieClip = MovieClip;\n\nexports.Shadow = Shadow$1;\n\nexports.Shape = Shape;\n\nexports.Sprite = Sprite;\n\nexports.SpriteSheet = SpriteSheet;\n\nexports.Text = Text;\n\nexports.MouseEvent = MouseEvent;\n\nexports.AlphaMapFilter = AlphaMapFilter;\n\nexports.AlphaMaskFilter = AlphaMaskFilter;\n\nexports.BitmapCache = BitmapCache;\n\nexports.BlurFilter = BlurFilter;\n\nexports.ColorFilter = ColorFilter;\n\nexports.ColorMatrix = ColorMatrix;\n\nexports.ColorMatrixFilter = ColorMatrixFilter;\n\nexports.Filter = Filter;\n\nexports.DisplayProps = DisplayProps;\n\nexports.Matrix2D = Matrix2D;\n\nexports.Point = Point;\n\nexports.Rectangle = Rectangle;\n\nexports.ButtonHelper = ButtonHelper;\n\nexports.Touch = Touch;\n\nexports.SpriteSheetBuilder = SpriteSheetBuilder;\n\nexports.SpriteSheetUtils = SpriteSheetUtils;\n\nexports.UID = UID;\n\nexports.WebGLInspector = WebGLInspector;\n\nexports.Event = Event;\n\nexports.EventDispatcher = EventDispatcher;\n\nvar cjs = window.createjs = window.createjs || {};\n\nvar v = cjs.v = cjs.v || {};\n\nv.easeljs = \"NEXT\";\n//# sourceMappingURL=maps/easeljs.common.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@createjs/easeljs/dist/easeljs.common.js","/**\n * @license Tween\n * Visit http://createjs.com/ for documentation, updates and examples.\n *\n * Copyright (c) 2017 gskinner.com, inc.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport AbstractTween from \"./AbstractTween\";\nimport { linear } from \"./Ease\";\nimport Ticker from \"@createjs/core/src/utils/Ticker\";\n\n/**\n * Tweens properties for a single target. Methods can be chained to create complex animation sequences:\n *\n * @example\n * Tween.get(target)\n *   .wait(500)\n *   .to({ alpha: 0, visible: false }, 1000)\n *   .call(handleComplete);\n *\n * Multiple tweens can share a target, however if they affect the same properties there could be unexpected\n * behaviour. To stop all tweens on an object, use {@link tweenjs.Tween#removeTweens} or pass `override:true`\n * in the props argument.\n *\n * \tcreatejs.Tween.get(target, {override:true}).to({x:100});\n *\n * Subscribe to the {@link tweenjs.Tween#event:change} event to be notified when the tween position changes.\n *\n * \tcreatejs.Tween.get(target, {override:true}).to({x:100}).addEventListener(\"change\", handleChange);\n * \tfunction handleChange(event) {\n * \t\t// The tween changed.\n * \t}\n *\n * @see tweenjs.Tween.get\n *\n * @memberof tweenjs\n * @extends AbstractTween\n *\n * @param {Object} target The target object that will have its properties tweened.\n * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n * @param {boolean} [props.useTicks]\n * @param {boolean} [props.ignoreGlobalPause]\n * @param {number|boolean} [props.loop]\n * @param {boolean} [props.reversed]\n * @param {boolean} [props.bounce]\n * @param {number} [props.timeScale]\n * @param {Object} [props.pluginData]\n * @param {boolean} [props.paused]\n * @param {*} [props.position] indicates the initial position for this tween\n * @param {*} [props.onChange] adds the specified function as a listener to the `change` event\n * @param {*} [props.onComplete] adds the specified function as a listener to the `complete` event\n * @param {*} [props.override] if true, removes all existing tweens for the target\n */\nclass Tween extends AbstractTween {\n\n\tconstructor (target, props) {\n\t\tsuper(props);\n\n\t\t/**\n\t\t * Allows you to specify data that will be used by installed plugins. Each plugin uses this differently, but in general\n\t\t * you specify data by assigning it to a property of `pluginData` with the same name as the plugin.\n\t\t * Note that in many cases, this data is used as soon as the plugin initializes itself for the tween.\n\t\t * As such, this data should be set before the first `to` call in most cases.\n\t\t *\n\t\t * Some plugins also store working data in this object, usually in a property named `_PluginClassName`.\n\t\t * See the documentation for individual plugins for more details.\n\t\t *\n\t\t * @example\n\t\t * myTween.pluginData.SmartRotation = data;\n\t\t * myTween.pluginData.SmartRotation_disabled = true;\n\t\t *\n\t\t *\n\t\t * @default null\n\t\t * @type {Object}\n\t\t */\n\t\tthis.pluginData = null;\n\n\t\t/**\n\t\t * The target of this tween. This is the object on which the tweened properties will be changed.\n\t\t * @type {Object}\n\t\t * @readonly\n\t\t */\n\t\tthis.target = target;\n\n\t\t/**\n\t\t * Indicates the tween's current position is within a passive wait.\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t * @readonly\n\t\t */\n\t\tthis.passive = false;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {TweenStep}\n\t\t */\n\t\tthis._stepHead = new TweenStep(null, 0, 0, {}, null, true);\n\n\t\t/**\n\t\t * @private\n\t\t * @type {TweenStep}\n\t\t */\n\t\tthis._stepTail = this._stepHead;\n\n\t\t/**\n\t\t * The position within the current step. Used by MovieClip.\n\t\t * @private\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis._stepPosition = 0;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {TweenAction}\n\t\t * @default null\n\t\t */\n\t\tthis._actionHead = null;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {TweenAction}\n\t\t * @default null\n\t\t */\n\t\tthis._actionTail = null;\n\n\t\t/**\n\t\t * Plugins added to this tween instance.\n\t\t * @private\n\t\t * @type {Object[]}\n\t\t * @default null\n\t\t */\n\t\tthis._plugins = null;\n\n\t\t/**\n\t\t * Hash for quickly looking up added plugins. Null until a plugin is added.\n\t\t * @private\n\t\t * @type {Object}\n\t\t * @default null\n\t\t */\n\t\tthis._pluginIds = null;\n\n\n\t\t/**\n\t\t * Used by plugins to inject new properties.\n\t\t * @private\n\t\t * @type {Object}\n\t\t * @default null\n\t\t */\n\t\tthis._injected = null;\n\n\t\tif (props) {\n\t\t\tthis.pluginData = props.pluginData;\n\t\t\tif (props.override) { Tween.removeTweens(target); }\n\t\t}\n\t\tif (!this.pluginData) { this.pluginData = {}; }\n\n\t\tthis._init(props);\n\t}\n\n\t/**\n\t * Returns a new tween instance. This is functionally identical to using `new Tween(...)`, but may look cleaner\n\t * with the chained syntax of TweenJS.\n\t *\n\t * @static\n\t * @example\n\t * let tween = Tween.get(target).to({ x: 100 }, 500);\n\t * // equivalent to:\n\t * let tween = new Tween(target).to({ x: 100 }, 500);\n\t *\n\t * @param {Object} target The target object that will have its properties tweened.\n\t * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n\t * @param {boolean} [props.useTicks]\n\t * @param {boolean} [props.ignoreGlobalPause]\n\t * @param {number|boolean} [props.loop]\n\t * @param {boolean} [props.reversed]\n\t * @param {boolean} [props.bounce]\n\t * @param {number} [props.timeScale]\n\t * @param {Object} [props.pluginData]\n\t * @param {boolean} [props.paused]\n\t * @param {*} [props.position] indicates the initial position for this tween\n\t * @param {*} [props.onChange] adds the specified function as a listener to the `change` event\n\t * @param {*} [props.onComplete] adds the specified function as a listener to the `complete` event\n\t * @param {*} [props.override] if true, removes all existing tweens for the target\n\t * @return {Tween} A reference to the created tween.\n\t */\n\tstatic get (target, props) {\n\t\treturn new Tween(target, props);\n\t}\n\n\t/**\n\t * Advances all tweens. This typically uses the {{#crossLink \"Ticker\"}}{{/crossLink}} class, but you can call it\n\t * manually if you prefer to use your own \"heartbeat\" implementation.\n\t *\n\t * @static\n\t *\n\t * @param {number} delta The change in time in milliseconds since the last tick. Required unless all tweens have\n\t * `useTicks` set to true.\n\t * @param {boolean} paused Indicates whether a global pause is in effect. Tweens with {@link tweenjs.Tween#ignoreGlobalPause}\n\t * will ignore this, but all others will pause if this is `true`.\n\t */\n\tstatic tick (delta, paused) {\n\t\tlet tween = Tween._tweenHead;\n\t\twhile (tween) {\n\t\t\tlet next = tween._next; // in case it completes and wipes its _next property\n\t\t\tif ((paused && !tween.ignoreGlobalPause) || tween._paused) { /* paused */ }\n\t\t\telse { tween.advance(tween.useTicks ? 1: delta); }\n\t\t\ttween = next;\n\t\t}\n\t}\n\n\t/**\n\t * Handle events that result from Tween being used as an event handler. This is included to allow Tween to handle\n\t * {@link tweenjs.Ticker#event:tick} events from the {@link tweenjs.Ticker}.\n\t * No other events are handled in Tween.\n\t *\n\t * @static\n\t * @since 0.4.2\n\t *\n\t * @param {Object} event An event object passed in by the {@link core.EventDispatcher}. Will\n\t * usually be of type \"tick\".\n\t */\n\tstatic handleEvent (event) {\n\t\tif (event.type === \"tick\") {\n\t\t\tthis.tick(event.delta, event.paused);\n\t\t}\n\t}\n\n\t/**\n\t * Removes all existing tweens for a target. This is called automatically by new tweens if the `override`\n\t * property is `true`.\n\t *\n\t * @static\n\t *\n\t * @param {Object} target The target object to remove existing tweens from.=\n\t */\n\tstatic removeTweens (target) {\n\t\tif (!target.tweenjs_count) { return; }\n\t\tlet tween = Tween._tweenHead;\n\t\twhile (tween) {\n\t\t\tlet next = tween._next;\n\t\t\tif (tween.target === target) { tween.paused = true; }\n\t\t\ttween = next;\n\t\t}\n\t\ttarget.tweenjs_count = 0;\n\t}\n\n\t/**\n\t * Stop and remove all existing tweens.\n\t *\n\t * @static\n\t * @since 0.4.1\n\t */\n\tstatic removeAllTweens () {\n\t\tlet tween = Tween._tweenHead;\n\t\twhile (tween) {\n\t\t\tlet next = tween._next;\n\t\t\ttween._paused = true;\n\t\t\ttween.target && (tween.target.tweenjs_count = 0);\n\t\t\ttween._next = tween._prev = null;\n\t\t\ttween = next;\n\t\t}\n\t\tTween._tweenHead = Tween._tweenTail = null;\n\t}\n\n\t/**\n\t * Indicates whether there are any active tweens on the target object (if specified) or in general.\n\t *\n\t * @static\n\t *\n\t * @param {Object} [target] The target to check for active tweens. If not specified, the return value will indicate\n\t * if there are any active tweens on any target.\n\t * @return {boolean} Indicates if there are active tweens.\n\t */\n\tstatic hasActiveTweens (target) {\n\t\tif (target) { return !!target.tweenjs_count; }\n\t\treturn !!Tween._tweenHead;\n\t}\n\n\t/**\n\t * Installs a plugin, which can modify how certain properties are handled when tweened. See the {{#crossLink \"SamplePlugin\"}}{{/crossLink}}\n\t * for an example of how to write TweenJS plugins. Plugins should generally be installed via their own `install` method, in order to provide\n\t * the plugin with an opportunity to configure itself.\n\t *\n\t * @static\n\t *\n\t * @param {Object} plugin The plugin to install\n\t * @param {Object} props The props to pass to the plugin\n\t */\n\tstatic installPlugin (plugin, props) {\n\t\tplugin.install(props);\n\t\tconst priority = (plugin.priority = plugin.priority || 0), arr = (Tween._plugins = Tween._plugins || []);\n\t\tfor (let i = 0, l = arr.length; i < l; i++) {\n\t\t\tif (priority < arr[i].priority) { break; }\n\t\t}\n\t\tarr.splice(i, 0, plugin);\n\t}\n\n\t/**\n\t * Registers or unregisters a tween with the ticking system.\n\t *\n\t * @private\n\t * @static\n\t *\n\t * @param {Tween} tween The tween instance to register or unregister.\n\t * @param {boolean} paused If `false`, the tween is registered. If `true` the tween is unregistered.\n\t */\n\tstatic _register (tween, paused) {\n\t\tconst target = tween.target;\n\t\tif (!paused && tween._paused) {\n\t\t\t// TODO: this approach might fail if a dev is using sealed objects\n\t\t\tif (target) { target.tweenjs_count = target.tweenjs_count ? target.tweenjs_count + 1 : 1; }\n\t\t\tlet tail = Tween._tweenTail;\n\t\t\tif (!tail) { Tween._tweenHead = Tween._tweenTail = tween; }\n\t\t\telse {\n\t\t\t\tTween._tweenTail = tail._next = tween;\n\t\t\t\ttween._prev = tail;\n\t\t\t}\n\t\t\tif (!Tween._inited) { Ticker.addEventListener(\"tick\", Tween); Tween._inited = true; }\n\t\t} else if (paused && !tween._paused) {\n\t\t\tif (target) { target.tweenjs_count--; }\n\t\t\tlet next = tween._next, prev = tween._prev;\n\n\t\t\tif (next) { next._prev = prev; }\n\t\t\telse { Tween._tweenTail = prev; } // was tail\n\t\t\tif (prev) { prev._next = next; }\n\t\t\telse { Tween._tweenHead = next; } // was head.\n\n\t\t\ttween._next = tween._prev = null;\n\t\t}\n\t}\n\n\t/**\n\t * Adds a wait (essentially an empty tween).\n\t *\n\t * @example\n\t * // This tween will wait 1s before alpha is faded to 0.\n\t * Tween.get(target)\n\t *   .wait(1000)\n\t *   .to({ alpha: 0 }, 1000);\n\t *\n\t * @param {number} duration The duration of the wait in milliseconds (or in ticks if `useTicks` is true).\n\t * @param {boolean} [passive=false] Tween properties will not be updated during a passive wait. This\n\t * is mostly useful for use with {@link tweenjs.Timeline} instances that contain multiple tweens\n\t * affecting the same target at different times.\n\t * @chainable\n\t */\n\twait (duration, passive = false) {\n\t\tif (duration > 0) { this._addStep(+duration, this._stepTail.props, null, passive); }\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a tween from the current values to the specified properties. Set duration to 0 to jump to these value.\n\t * Numeric properties will be tweened from their current value in the tween to the target value. Non-numeric\n\t * properties will be set at the end of the specified duration.\n\t *\n\t * @example\n\t * Tween.get(target)\n\t *   .to({ alpha: 0, visible: false }, 1000);\n\t *\n\t * @param {Object} props An object specifying property target values for this tween (Ex. `{x:300}` would tween the x\n\t * property of the target to 300).\n\t * @param {number} [duration=0] The duration of the tween in milliseconds (or in ticks if `useTicks` is true).\n\t * @param {Function} [ease=Ease.linear] The easing function to use for this tween. See the {@link tweenjs.Ease}\n\t * class for a list of built-in ease functions.\n\t * @chainable\n\t */\n\tto (props, duration = 0, ease = linear) {\n\t\tif (duration < 0) { duration = 0; }\n\t\tconst step = this._addStep(+duration, null, ease);\n\t\tthis._appendProps(props, step);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a label that can be used with {@link tweenjs.Tween#gotoAndPlay}/{@link tweenjs.Tween#gotoAndStop}\n\t * at the current point in the tween.\n\t *\n\t * @example\n\t * let tween = Tween.get(foo)\n\t *   .to({ x: 100 }, 1000)\n\t *   .label(\"myLabel\")\n\t *   .to({ x: 200 }, 1000);\n\t * // ...\n\t * tween.gotoAndPlay(\"myLabel\"); // would play from 1000ms in.\n\t *\n\t * @param {string} label The label name.\n\t * @chainable\n\t */\n\tlabel (name) {\n\t\tthis.addLabel(name, this.duration);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds an action to call the specified function.\n\t *\n\t * @example\n\t * // would call myFunction() after 1 second.\n\t * Tween.get()\n\t *   .wait(1000)\n\t *   .call(myFunction);\n\t *\n\t * @param {Function} callback The function to call.\n\t * @param {Array} [params]. The parameters to call the function with. If this is omitted, then the function\n\t * will be called with a single param pointing to this tween.\n\t * @param {Object} [scope]. The scope to call the function in. If omitted, it will be called in the target's scope.\n\t * @chainable\n\t */\n\tcall (callback, params, scope) {\n\t\treturn this._addAction(scope || this.target, callback, params || [this]);\n\t}\n\n\t/**\n\t * Adds an action to set the specified props on the specified target. If `target` is null, it will use this tween's\n\t * target. Note that for properties on the target object, you should consider using a zero duration {@link tweenjs.Tween#to}\n\t * operation instead so the values are registered as tweened props.\n\t *\n\t * @example\n\t * tween.wait(1000)\n\t *   .set({ visible: false }, foo);\n\t *\n\t * @param {Object} props The properties to set (ex. `{ visible: false }`).\n\t * @param {Object} [target] The target to set the properties on. If omitted, they will be set on the tween's target.\n\t * @chainable\n\t */\n\tset (props, target) {\n\t\treturn this._addAction(target || this.target, this._set, [ props ]);\n\t}\n\n\t/**\n\t * Adds an action to play (unpause) the specified tween. This enables you to sequence multiple tweens.\n\t *\n\t * @example\n\t * tween.to({ x: 100 }, 500)\n\t *   .play(otherTween);\n\t *\n\t * @param {Tween} [tween] The tween to play. Defaults to this tween.\n\t * @chainable\n\t */\n\tplay (tween) {\n    return this._addAction(tween || this, this._set, [{ paused: false }]);\n\t}\n\n\t/**\n\t * Adds an action to pause the specified tween.\n\t * At 60fps the tween will advance by ~16ms per tick, if the tween above was at 999ms prior to the current tick, it\n   * will advance to 1015ms (15ms into the second \"step\") and then pause.\n\t *\n\t * @example\n\t * tween.pause(otherTween)\n\t *   .to({ alpha: 1 }, 1000)\n\t *   .play(otherTween);\n\t *\n\t * // Note that this executes at the end of a tween update,\n\t * // so the tween may advance beyond the time the pause action was inserted at.\n   *\n   * tween.to({ foo: 0 }, 1000)\n   *   .pause()\n   *   .to({ foo: 1 }, 1000);\n\t *\n\t * @param {Tween} [tween] The tween to pause. Defaults to this tween.\n\t * @chainable\n\t */\n\tpause (tween) {\n\t\treturn this._addAction(tween || this, this._set, [{ paused: false }]);\n\t}\n\n\t/**\n\t * @throws Tween cannot be cloned.\n\t */\n\tclone () {\n\t\tthrow \"Tween can not be cloned.\";\n\t}\n\n\t/**\n\t * @private\n\t * @param {Object} plugin\n\t */\n\t_addPlugin (plugin) {\n\t\tlet ids = this._pluginIds || (this._pluginIds = {}), id = plugin.id;\n\t\tif (!id || ids[id]) { return; } // already added\n\n\t\tids[id] = true;\n\t\tlet plugins = this._plugins || (this._plugins = []), priority = plugin.priority || 0;\n\t\tfor (let i = 0, l = plugins.length; i < l; i++) {\n\t\t\tif (priority < plugins[i].priority) {\n\t\t\t\tplugins.splice(i, 0, plugin);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tplugins.push(plugin);\n\t}\n\n\t/**\n\t * @private\n\t * @param {} jump\n\t * @param {boolean} end\n   */\n\t_updatePosition (jump, end) {\n\t\tlet step = this._stepHead.next, t = this.position, d = this.duration;\n\t\tif (this.target && step) {\n\t\t\t// find our new step index:\n\t\t\tlet stepNext = step.next;\n\t\t\twhile (stepNext && stepNext.t <= t) { step = step.next; stepNext = step.next; }\n\t\t\tlet ratio = end ? d === 0 ? 1 : t/d : (t-step.t)/step.d; // TODO: revisit this.\n\t\t\tthis._updateTargetProps(step, ratio, end);\n\t\t}\n\t\tthis._stepPosition = step ? t - step.t : 0;\n\t}\n\n\t/**\n\t * @private\n\t * @param {Object} step\n\t * @param {Number} ratio\n\t * @param {boolean} end Indicates to plugins that the full tween has ended.\n\t */\n\t_updateTargetProps (step, ratio, end) {\n\t\tif (this.passive = !!step.passive) { return; } // don't update props.\n\n\t\tlet v, v0, v1, ease;\n\t\tlet p0 = step.prev.props;\n\t\tlet p1 = step.props;\n\t\tif (ease = step.ease) { ratio = ease(ratio, 0, 1, 1); }\n\n\t\tlet plugins = this._plugins;\n\t\tproploop : for (let n in p0) {\n\t\t\tv0 = p0[n];\n\t\t\tv1 = p1[n];\n\n\t\t\t// values are different & it is numeric then interpolate:\n\t\t\tif (v0 !== v1 && (typeof(v0) === \"number\")) {\n\t\t\t\tv = v0 + (v1 - v0) * ratio;\n\t\t\t} else {\n\t\t\t\tv = ratio >= 1 ? v1 : v0;\n\t\t\t}\n\n\t\t\tif (plugins) {\n\t\t\t\tfor (let i = 0, l = plugins.length; i < l; i++) {\n\t\t\t\t\tlet value = plugins[i].change(this, step, n, v, ratio, end);\n\t\t\t\t\tif (value === Tween.IGNORE) { continue proploop; }\n\t\t\t\t\tif (value !== undefined) { v = value; }\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.target[n] = v;\n\t\t}\n\n\t}\n\n\t/**\n\t * @private\n\t * @param {number} startPos\n\t * @param {number} endPos\n\t * @param {boolean} includeStart\n\t */\n\t_runActionsRange (startPos, endPos, jump, includeStart) {\n\t\tlet rev = startPos > endPos;\n\t\tlet action = rev ? this._actionTail : this._actionHead;\n\t\tlet ePos = endPos, sPos = startPos;\n\t\tif (rev) { ePos = startPos; sPos = endPos; }\n\t\tlet t = this.position;\n\t\twhile (action) {\n\t\t\tlet pos = action.t;\n\t\t\tif (pos === endPos || (pos > sPos && pos < ePos) || (includeStart && pos === startPos)) {\n\t\t\t\taction.funct.apply(action.scope, action.params);\n\t\t\t\tif (t !== this.position) { return true; }\n\t\t\t}\n\t\t\taction = rev ? action.prev : action.next;\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param {Object} props\n\t */\n\t_appendProps (props, step, stepPlugins) {\n\t\tlet initProps = this._stepHead.props, target = this.target, plugins = Tween._plugins;\n\t\tlet n, i, l, value, initValue, inject;\n\n\t\tlet oldStep = step.prev, oldProps = oldStep.props;\n\t\tlet stepProps = step.props || (step.props = this._cloneProps(oldProps));\n\t\tlet cleanProps = {};\n\n\t\tfor (n in props) {\n\t\t\tif (!props.hasOwnProperty(n)) { continue; }\n\t\t\tcleanProps[n] = stepProps[n] = props[n];\n\n\t\t\tif (initProps[n] !== undefined) { continue; }\n\n\t\t\tinitValue = undefined; // accessing missing properties on DOMElements when using CSSPlugin is INSANELY expensive, so we let the plugin take a first swing at it.\n\t\t\tif (plugins) {\n        for (i = plugins.length - 1; i >= 0; i--) {\n\t\t\t\t\tvalue = plugins[i].init(this, n, initValue);\n\t\t\t\t\tif (value !== undefined) { initValue = value; }\n\t\t\t\t\tif (initValue === Tween.IGNORE) {\n\t\t\t\t\t\t(ignored = ignored || {})[n] = true;\n\t\t\t\t\t\tdelete(stepProps[n]);\n\t\t\t\t\t\tdelete(cleanProps[n]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (initValue !== Tween.IGNORE) {\n\t\t\t\tif (initValue === undefined) { initValue = target[n]; }\n\t\t\t\toldProps[n] = (initValue === undefined) ? null : initValue;\n\t\t\t}\n\t\t}\n\n\t\tfor (n in cleanProps) {\n\t\t\tvalue = props[n];\n\n\t\t\t// propagate old value to previous steps:\n\t\t\tlet o, prev = oldStep;\n\t\t\twhile ((o = prev) && (prev = o.prev)) {\n\t\t\t\tif (prev.props === o.props) { continue; } // wait step\n\t\t\t\tif (prev.props[n] !== undefined) { break; } // already has a value, we're done.\n\t\t\t\tprev.props[n] = oldProps[n];\n\t\t\t}\n\t\t}\n\n\t\tif (stepPlugins && (plugins = this._plugins)) {\n      for (i = plugins.length - 1; i >= 0; i--) {\n\t\t\t\tplugins[i].step(this, step, cleanProps);\n\t\t\t}\n\t\t}\n\n\t\tif (inject = this._injected) {\n\t\t\tthis._injected = null;\n\t\t\tthis._appendProps(inject, step, false);\n\t\t}\n\t}\n\n\t/**\n\t * Used by plugins to inject properties onto the current step. Called from within `Plugin.step` calls.\n\t * For example, a plugin dealing with color, could read a hex color, and inject red, green, and blue props into the tween.\n\t * See the SamplePlugin for more info.\n\t * @see tweenjs.SamplePlugin\n\t * @private\n\t * @param {string} name\n\t * @param {Object} value\n\t */\n\t_injectProp (name, value) {\n\t\tlet o = this._injected || (this._injected = {});\n\t\to[name] = value;\n\t}\n\n\t/**\n\t * @private\n\t * @param {number} duration\n\t * @param {Object} props\n\t * @param {Function} ease\n\t * @param {boolean} [passive=false]\n\t */\n\t_addStep (duration, props, ease, passive = false) {\n\t\tlet step = new TweenStep(this._stepTail, this.duration, duration, props, ease, passive);\n\t\tthis.duration += duration;\n\t\treturn this._stepTail = (this._stepTail.next = step);\n\t}\n\n\t/**\n\t * @private\n\t * @param {Object} scope\n\t * @param {Function} funct\n\t * @param {Array} params\n\t */\n\t_addAction (scope, funct, params) {\n\t\tlet action = new TweenAction(this._actionTail, this.duration, scope, funct, params);\n\t\tif (this._actionTail) { this._actionTail.next = action; }\n\t\telse { this._actionHead = action; }\n\t\tthis._actionTail = action;\n\t\treturn this;\n\t}\n\n\t/**\n\t * @private\n\t * @param {Object} props\n\t */\n\t_set (props) {\n\t\tfor (let n in props) {\n\t\t\tthis[n] = props[n];\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param {Object} props\n\t */\n\t_cloneProps (props) {\n\t\tlet o = {};\n\t\tfor (let n in props) { o[n] = props[n]; }\n\t\treturn o;\n\t}\n\n}\n\n// tiny api (primarily for tool output):\n{\n\tlet p = Tween.prototype;\n\tp.w = p.wait;\n\tp.t = p.to;\n\tp.c = p.call;\n\tp.s = p.set;\n}\n\n// static properties\n/**\n * Constant returned by plugins to tell the tween not to use default assignment.\n * @property IGNORE\n * @type {Object}\n * @static\n */\nTween.IGNORE = {};\n\n/**\n * @property _listeners\n * @type {Tween[]}\n * @static\n * @private\n */\nTween._tweens = [];\n\n/**\n * @property _plugins\n * @type {Object}\n * @static\n * @private\n */\nTween._plugins = null;\n\n/**\n * @property _tweenHead\n * @type {Tween}\n * @static\n * @private\n */\nTween._tweenHead = null;\n\n/**\n * @property _tweenTail\n * @type {Tween}\n * @static\n * @private\n */\nTween._tweenTail = null;\n\n// helpers:\n\n/**\n * @private\n * @param {*} prev\n * @param {*} t\n * @param {*} d\n * @param {*} props\n * @param {*} ease\n * @param {*} passive\n */\nclass TweenStep {\n\n\tconstructor (prev, t, d, props, ease, passive) {\n\t\tthis.next = null;\n\t\tthis.prev = prev;\n\t\tthis.t = t;\n\t\tthis.d = d;\n\t\tthis.props = props;\n\t\tthis.ease = ease;\n\t\tthis.passive = passive;\n\t\tthis.index = prev ? prev.index + 1 : 0;\n\t}\n\n}\n\n/**\n * @private\n * @param {*} prev\n * @param {*} t\n * @param {*} scope\n * @param {*} funct\n * @param {*} params\n */\nclass TweenAction {\n\n\tconstructor (prev, t, scope, funct, params) {\n\t\tthis.next = null;\n\t\tthis.d = 0;\n\t\tthis.prev = prev;\n\t\tthis.t = t;\n\t\tthis.scope = scope;\n\t\tthis.funct = funct;\n\t\tthis.params = params;\n\t}\n\n}\n\nexport default Tween;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@createjs/tweenjs/src/Tween.js","/**\n * @license AbstractTween\n * Visit http://createjs.com/ for documentation, updates and examples.\n *\n * Copyright (c) 2017 gskinner.com, inc.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport EventDispatcher from \"@createjs/core/src/events/EventDispatcher\";\nimport Tween from \"./Tween\";\n\n/**\n * Base class that both {@link tweenjs.Tween} and {@link tweenjs.Timeline} extend. Should not be instantiated directly.\n *\n * @memberof tweenjs\n * @extends EventDispatcher\n *\n * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n * @param {boolean} [props.useTicks=false] See the {@link tweenjs.AbstractTween#useTicks} property for more information.\n * @param {boolean} [props.ignoreGlobalPause=false] See the {@link tweenjs.AbstractTween#ignoreGlobalPause} for more information.\n * @param {number|boolean} [props.loop=0] See the {@link tweenjs.AbstractTween#loop} for more information.\n * @param {boolean} [props.reversed=false] See the {@link tweenjs.AbstractTween#reversed} for more information.\n * @param {boolean} [props.bounce=false] See the {@link tweenjs.AbstractTween#bounce} for more information.\n * @param {number} [props.timeScale=1] See the {@link tweenjs.AbstractTween#timeScale} for more information.\n * @param {Function} [props.onChange] Adds the specified function as a listener to the {@link tweenjs.AbstractTween#event:change} event.\n * @param {Function} [props.onComplete] Adds the specified function as a listener to the {@link tweenjs.AbstractTween#event:complete} event.\n */\nclass AbstractTween extends EventDispatcher {\n\n  constructor (props) {\n    super();\n\n\t\t/**\n\t\t * Causes this tween to continue playing when a global pause is active. For example, if TweenJS is using {@link core.Ticker},\n\t\t * then setting this to false (the default) will cause this tween to be paused when `Ticker.setPaused(true)`\n\t\t * is called. See the {@link tweenjs.Tween#tick} method for more info. Can be set via the `props` parameter.\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.ignoreGlobalPause = false;\n\n\t\t/**\n\t\t * Indicates the number of times to loop. If set to -1, the tween will loop continuously.\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.loop = 0;\n\n\t\t/**\n\t\t * Uses ticks for all durations instead of milliseconds. This also changes the behaviour of some actions (such as `call`).\n\t\t * Changing this value on a running tween could have unexpected results.\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t * @readonly\n\t\t */\n\t\tthis.useTicks = false;\n\n\t\t/**\n\t\t * Causes the tween to play in reverse.\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.reversed = false;\n\n\t\t/**\n\t\t * Causes the tween to reverse direction at the end of each loop.\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.bounce = false;\n\n\t\t/**\n\t\t * Changes the rate at which the tween advances. For example, a `timeScale` value of `2` will double the\n\t\t * playback speed, a value of `0.5` would halve it.\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.timeScale = 1;\n\n\t\t/**\n\t\t * Indicates the duration of this tween in milliseconds (or ticks if `useTicks` is true), irrespective of `loops`.\n\t\t * This value is automatically updated as you modify the tween. Changing it directly could result in unexpected\n\t\t * behaviour.\n\t\t * @type {number}\n\t\t * @default 0\n\t\t * @readonly\n\t\t */\n\t\tthis.duration = 0;\n\n\t\t/**\n\t\t * The current normalized position of the tween. This will always be a value between 0 and `duration`.\n\t\t * Changing this property directly will have unexpected results, use {@link tweenjs.Tween#setPosition}.\n\t\t * @type {Object}\n\t\t * @default 0\n\t\t * @readonly\n\t\t */\n\t\tthis.position = 0;\n\n\t\t/**\n\t\t * The raw tween position. This value will be between `0` and `loops * duration` while the tween is active, or -1 before it activates.\n\t\t * @type {number}\n\t\t * @default -1\n\t\t * @readonly\n\t\t */\n\t\tthis.rawPosition = -1;\n\n\t\t/**\n\t\t * @private\n\t\t * @default false\n\t\t */\n\t\tthis._paused = true;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {Tween}\n\t\t * @default null\n\t\t */\n\t\tthis._next = null;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {Tween}\n\t\t * @default null\n\t\t */\n\t\tthis._prev = null;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {Object}\n\t\t * @default null\n\t\t */\n\t\tthis._parent = null;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {Object}\n\t\t */\n\t\tthis._labels = null;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {Object[]}\n\t\t */\n\t\tthis._labelList = null;\n\n\t\tif (props) {\n\t\t\tthis.useTicks = !!props.useTicks;\n\t\t\tthis.ignoreGlobalPause = !!props.ignoreGlobalPause;\n\t\t\tthis.loop = props.loop === true ? -1 : (props.loop||0);\n\t\t\tthis.reversed = !!props.reversed;\n\t\t\tthis.bounce = !!props.bounce;\n\t\t\tthis.timeScale = props.timeScale||1;\n\t\t\tprops.onChange && this.addEventListener(\"change\", props.onChange);\n\t\t\tprops.onComplete && this.addEventListener(\"complete\", props.onComplete);\n\t\t}\n\n\t\t// while `position` is shared, it needs to happen after ALL props are set, so it's handled in _init()\n  }\n\n\t/**\n\t * Returns a list of the labels defined on this tween sorted by position.\n\t * @type {Object[]}\n\t */\n\tget labels () {\n\t\tlet list = this._labelList;\n\t\tif (!list) {\n\t\t\tlist = this._labelList = [];\n\t\t\tlet labels = this._labels;\n\t\t\tfor (let label in labels) {\n\t\t\t\tlist.push({ label, position: labels[label] });\n\t\t\t}\n\t\t\tlist.sort((a, b) => a.position - b.position);\n\t\t}\n\t\treturn list;\n\t}\n\n\tset labels (labels) {\n\t\tthis._labels = labels;\n\t\tthis._labelList = null;\n\t}\n\n  /**\n   * Returns the name of the label on or immediately before the current position. For example, given a tween with\n   * two labels, \"first\" on frame index 4, and \"second\" on frame 8, currentLabel would return:\n   * <ul>\n   *   <li>null if the current position is 2.</li>\n   *   <li>\"first\" if the current position is 4.</li>\n   *   <li>\"first\" if the current position is 7.</li>\n   *   <li>\"second\" if the current position is 15.</li>\n   * </ul>\n   * @type {string}\n   * @readonly\n   */\n  get currentLabel () {\n    let labels = this.labels;\n    let pos = this.position;\n    for (let i = 0, l = labels.length; i < l; i++) { if (pos < labels[i].position) { break; } }\n    return (i === 0) ? null : labels[i-1].label;\n  }\n\n  /**\n   * Pauses or unpauses the tween. A paused tween is removed from the global registry and is eligible for garbage collection\n   * if no other references to it exist.\n   * @type {boolean}\n\t */\n\tget paused () {\n\t\treturn this._paused;\n\t}\n\n  set paused (paused) {\n    Tween._register(this, paused);\n\t\tthis._paused = paused;\n  }\n\n\t/**\n\t * Advances the tween by a specified amount.\n\t *\n\t * @example\n\t * `var a = 2 + 2;`\n\t * Some words\n\t * `var b = 5;`\n\t *\n\t * @param {number} delta The amount to advance in milliseconds (or ticks if useTicks is true). Negative values are supported.\n\t * @param {boolean} [ignoreActions=false] If true, actions will not be executed due to this change in position.\n\t */\n\tadvance (delta, ignoreActions = false) {\n\t\tthis.setPosition(this.rawPosition + delta * this.timeScale, ignoreActions);\n\t}\n\n\t/**\n\t * Advances the tween to a specified position.\n\t *\n\t * @emits tweenjs.AbstractTween#event:change\n\t * @emits tweenjs.AbstractTween#event:complete\n\t *\n\t * @param {number} rawPosition The raw position to seek to in milliseconds (or ticks if useTicks is true).\n\t * @param {boolean} [ignoreActions=false] If true, do not run any actions that would be triggered by this operation.\n\t * @param {boolean} [jump=false] If true, only actions at the new position will be run. If false, actions between the old and new position are run.\n\t * @param {Function} [callback] Primarily for use with MovieClip, this callback is called after properties are updated, but before actions are run.\n\t */\n\tsetPosition (rawPosition, ignoreActions = false, jump = false, callback) {\n\t\tconst d = this.duration, loopCount = this.loop, prevRawPos = this.rawPosition;\n    let loop = 0, t = 0, end = false;\n\n\t\t// normalize position:\n\t\tif (rawPosition < 0) { rawPosition = 0; }\n\n\t\tif (d === 0) {\n\t\t\t// deal with 0 length tweens.\n\t\t\tend = true;\n\t\t\tif (prevRawPos !== -1) { return end; } // we can avoid doing anything else if we're already at 0.\n\t\t} else {\n\t\t\tloop = rawPosition / d | 0;\n\t\t\tt = rawPosition - loop * d;\n\n\t\t\tend = (loopCount !== -1 && rawPosition >= loopCount * d + d);\n\t\t\tif (end) { rawPosition = (t = d) * (loop = loopCount) + d; }\n\t\t\tif (rawPosition === prevRawPos) { return end; } // no need to update\n\n\t\t\t// current loop is reversed\n\t\t\tif (!this.reversed !== !(this.bounce && loop % 2)) { t = d - t; }\n\t\t}\n\n\t\t// set this in advance in case an action modifies position:\n\t\tthis.position = t;\n\t\tthis.rawPosition = rawPosition;\n\n\t\tthis._updatePosition(jump, end);\n\t\tif (end) { this.paused = true; }\n\n\t\tcallback && callback(this);\n\n\t\tif (!ignoreActions) { this._runActions(prevRawPos, rawPosition, jump, !jump && prevRawPos === -1); }\n\n\t\tthis.dispatchEvent(\"change\");\n\t\tif (end) { this.dispatchEvent(\"complete\"); }\n\t}\n\n\t/**\n\t * Calculates a normalized position based on a raw position.\n\t *\n\t * @example\n\t * // given a tween with a duration of 3000ms set to loop:\n\t * console.log(myTween.calculatePosition(3700); // 700\n\t *\n\t * @param {number} rawPosition A raw position.\n\t */\n\tcalculatePosition (rawPosition) {\n\t\t// largely duplicated from setPosition, but necessary to avoid having to instantiate generic objects to pass values (end, loop, position) back.\n\t\tconst d = this.duration, loopCount = this.loop;\n    let loop = 0, t = 0;\n\n\t\tif (d === 0) { return 0; }\n\t\tif (loopCount !== -1 && rawPosition >= loopCount * d + d) {\n      t = d;\n      loop = loopCount\n    } else if (rawPosition < 0) {\n      t = 0;\n    } else {\n      loop = rawPosition / d | 0;\n      t = rawPosition - loop * d;\n    }\n\n\t\treturn (!this.reversed !== !(this.bounce && loop % 2)) ? d - t : t;\n\t}\n\n\t/**\n\t * Adds a label that can be used with {@link tweenjs.Timeline#gotoAndPlay}/{@link tweenjs.Timeline#gotoAndStop}.\n\t *\n\t * @param {string} label The label name.\n\t * @param {number} position The position this label represents.\n\t */\n\taddLabel (label, position) {\n\t\tif (!this._labels) { this._labels = {}; }\n\t\tthis._labels[label] = position;\n\t\tconst list = this._labelList;\n\t\tif (list) {\n\t\t\tfor (let i = 0, l = list.length; i < l; i++) { if (position < list[i].position) { break; } }\n\t\t\tlist.splice(i, 0, { label, position });\n\t\t}\n\t}\n\n\t/**\n\t * Unpauses this timeline and jumps to the specified position or label.\n\t *\n\t * @param {string|number} positionOrLabel The position in milliseconds (or ticks if `useTicks` is `true`)\n\t * or label to jump to.\n\t */\n\tgotoAndPlay (positionOrLabel) {\n\t\tthis.paused = false;\n\t\tthis._goto(positionOrLabel);\n\t}\n\n\t/**\n\t * Pauses this timeline and jumps to the specified position or label.\n\t *\n\t * @param {string|number} positionOrLabel The position in milliseconds (or ticks if `useTicks` is `true`) or label\n\t * to jump to.\n\t */\n\tgotoAndStop (positionOrLabel) {\n\t\tthis.paused = true;\n\t\tthis._goto(positionOrLabel);\n\t}\n\n\t/**\n\t * If a numeric position is passed, it is returned unchanged. If a string is passed, the position of the\n\t * corresponding frame label will be returned, or `null` if a matching label is not defined.\n\t *\n\t * @param {string|number} positionOrLabel A numeric position value or label string.\n\t */\n\tresolve (positionOrLabel) {\n\t\tconst pos = Number(positionOrLabel);\n    return isNaN(pos) ? this._labels && this._labels[positionOrLabel] : pos;\n\t}\n\n\t/**\n\t * Returns a string representation of this object.\n\t *\n\t * @return {string} a string representation of the instance.\n\t */\n\ttoString () {\n\t\treturn `[${this.constructor.name}${this.name ? ` (name=${this.name})` : \"\"}]`;\n\t}\n\n\t/**\n\t * @throws AbstractTween cannot be cloned.\n\t */\n\tclone () {\n\t\tthrow \"AbstractTween cannot be cloned.\";\n\t}\n\n\t/**\n\t * Shared logic that executes at the end of the subclass constructor.\n\t *\n\t * @private\n\t *\n\t * @param {Object} [props]\n\t */\n\t_init (props) {\n\t\tif (!props || !props.paused) { this.paused = false; }\n\t\tif (props && props.position != null) { this.setPosition(props.position); }\n\t}\n\n\t/**\n\t * @private\n\t * @param {string|number} positionOrLabel\n\t */\n\t_goto (positionOrLabel) {\n\t\tconst pos = this.resolve(positionOrLabel);\n\t\tif (pos != null) { this.setPosition(pos, false, true); }\n\t}\n\n\t/**\n   * Runs actions between startPos & endPos. Separated to support action deferral.\n   *\n\t * @private\n\t *\n\t * @param {number} startRawPos\n\t * @param {number} endRawPos\n\t * @param {boolean} jump\n\t * @param {boolean} includeStart\n\t */\n\t_runActions (startRawPos, endRawPos, jump, includeStart) {\n\t  // console.log(this.passive === false ? \" > Tween\" : \"Timeline\", \"run\", startRawPos, endRawPos, jump, includeStart);\n\t\t// if we don't have any actions, and we're not a Timeline, then return:\n\t\t// TODO: a cleaner way to handle this would be to override this method in Tween, but I'm not sure it's worth the overhead.\n\t\tif (!this._actionHead && !this.tweens) { return; }\n\n\t\tconst d = this.duration, loopCount = this.loop;\n    let reversed = this.reversed, bounce = this.bounce;\n\t\tlet loop0, loop1, t0, t1;\n\n\t\tif (d === 0) {\n\t\t\t// deal with 0 length tweens:\n\t\t\tloop0 = loop1 = t0 = t1 = 0;\n\t\t\treversed = bounce = false;\n\t\t} else {\n\t\t\tloop0 = startRawPos / d | 0;\n\t\t\tloop1 = endRawPos / d | 0;\n\t\t\tt0 = startRawPos - loop0 * d;\n\t\t\tt1 = endRawPos - loop1 * d;\n\t\t}\n\n\t\t// catch positions that are past the end:\n\t\tif (loopCount !== -1) {\n\t\t\tif (loop1 > loopCount) { t1 = d; loop1 = loopCount; }\n\t\t\tif (loop0 > loopCount) { t0 = d; loop0 = loopCount; }\n\t\t}\n\n\t\t// special cases:\n\t\tif (jump) { return this._runActionsRange(t1, t1, jump, includeStart); } // jump.\n    else if (loop0 === loop1 && t0 === t1 && !jump && !includeStart) { return; } // no actions if the position is identical and we aren't including the start\n\t\telse if (loop0 === -1) { loop0 = t0 = 0; } // correct the -1 value for first advance, important with useTicks.\n\n\t\tconst dir = (startRawPos <= endRawPos);\n\t\tlet loop = loop0;\n\t\tdo {\n\t\t\tlet rev = !reversed !== !(bounce && loop % 2);\n\t\t\tlet start = (loop === loop0) ? t0 : dir ? 0 : d;\n\t\t\tlet end = (loop === loop1) ? t1 : dir ? d : 0;\n\n\t\t\tif (rev) {\n\t\t\t\tstart = d - start;\n\t\t\t\tend = d - end;\n\t\t\t}\n\n\t\t\tif (bounce && loop !== loop0 && start === end) { /* bounced onto the same time/frame, don't re-execute end actions */ }\n\t\t\telse if (this._runActionsRange(start, end, jump, includeStart || (loop !== loop0 && !bounce))) { return true; }\n\n\t\t\tincludeStart = false;\n\t\t} while ((dir && ++loop <= loop1) || (!dir && --loop >= loop1));\n\t}\n\n  /**\n   * @private\n   * @abstract\n   * @throws Must be overridden by a subclass.\n\t */\n\t_runActionsRange (startPos, endPos, jump, includeStart) {\n\t\tthrow \"_runActionsRange is abstract and must be overridden by a subclass.\";\n\t}\n\n  /**\n\t * @private\n   * @abstract\n   * @throws Must be overridden by a subclass.\n\t */\n\t_updatePosition (jump, end) {\n    throw \"_updatePosition is abstract and must be overridden by a subclass.\";\n\t}\n\n}\n\n/**\n * Dispatched whenever the tween's position changes. It occurs after all tweened properties are updated and actions\n * are executed.\n * @event tweenjs.AbstractTween#change\n */\n/**\n * Dispatched when the tween reaches its end and has paused itself. This does not fire until all loops are complete;\n * tweens that loop continuously will never fire a complete event.\n * @event tweenjs.AbstractTween#complete\n */\n\nexport default AbstractTween;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@createjs/tweenjs/src/AbstractTween.js","/**\n * @license EventDispatcher\n * Visit http://createjs.com/ for documentation, updates and examples.\n *\n * Copyright (c) 2017 gskinner.com, inc.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Event from \"./Event\";\n\n/**\n * EventDispatcher provides methods for managing queues of event listeners and dispatching events.\n *\n * You can either extend EventDispatcher or mix its methods into an existing prototype or instance by using the\n * EventDispatcher {@link core.EventDispatcher.initialize} method.\n *\n * Together with the CreateJS Event class, EventDispatcher provides an extended event model that is based on the\n * DOM Level 2 event model, including addEventListener, removeEventListener, and dispatchEvent. It supports\n * bubbling / capture, preventDefault, stopPropagation, stopImmediatePropagation, and handleEvent.\n *\n * EventDispatcher also exposes a {@link core.EventDispatcher#on} method, which makes it easier\n * to create scoped listeners, listeners that only run once, and listeners with associated arbitrary data. The\n * {@link core.EventDispatcher#off} method is merely an alias to {@link core.EventDispatcher#removeEventListener}.\n *\n * Another addition to the DOM Level 2 model is the {@link core.EventDispatcher#removeAllEventListeners}\n * method, which can be used to listeners for all events, or listeners for a specific event. The Event object also\n * includes a {@link core.Event#remove} method which removes the active listener.\n *\n * @memberof core\n * @example\n * // add EventDispatcher capabilities to the \"MyClass\" class.\n * EventDispatcher.initialize(MyClass.prototype);\n *\n * // Add an event.\n * instance.addEventListener(\"eventName\", event => console.log(event.target + \" was clicked.\"));\n *\n * // scope (\"this\") can be be a challenge with events.\n * // using the {@link core.EventDispatcher#on} method to subscribe to events simplifies this.\n * instance.addEventListener(\"click\", event => console.log(instance === this)); // false, scope is ambiguous.\n * instance.on(\"click\", event => console.log(instance === this)); // true, `on` uses dispatcher scope by default.\n */\nclass EventDispatcher {\n\n\t/**\n\t * Static initializer to mix EventDispatcher methods into a target object or prototype.\n\t *\n\t * @static\n\t * @example\n\t * EventDispatcher.initialize(MyClass.prototype); // add to the prototype of the class\n\t * EventDispatcher.initialize(myInstance); // add to a specific instance\n\t *\n\t * @param {Object} target The target object to inject EventDispatcher methods into.\n\t */\n\tstatic initialize (target) {\n\t\tconst p = EventDispatcher.prototype;\n\t\ttarget.addEventListener = p.addEventListener;\n\t\ttarget.on = p.on;\n\t\ttarget.removeEventListener = target.off = p.removeEventListener;\n\t\ttarget.removeAllEventListeners = p.removeAllEventListeners;\n\t\ttarget.hasEventListener = p.hasEventListener;\n\t\ttarget.dispatchEvent = p.dispatchEvent;\n\t\ttarget._dispatchEvent = p._dispatchEvent;\n\t\ttarget.willTrigger = p.willTrigger;\n\t}\n\n\tconstructor () {\n\t\t/**\n\t\t * @private\n\t\t * @default null\n\t\t * @type Object\n\t\t */\n\t\tthis._listeners = null;\n\n\t\t/**\n\t\t * @private\n\t\t * @default null\n\t\t * @type Object\n\t\t */\n\t\tthis._captureListeners = null;\n\t}\n\n\t/**\n\t * Adds the specified event listener. Note that adding multiple listeners to the same function will result in\n\t * multiple callbacks getting fired.\n\t *\n\t * @example\n\t * displayObject.addEventListener(\"click\", event => console.log('clicked', event));\n\t *\n\t * @param {string} type The string type of the event.\n\t * @param {Function|Object} listener An object with a handleEvent method, or a function that will be called when the event is dispatched.\n\t * @param {boolean} [useCapture=false] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t * @return {Function|Object} Returns the listener for chaining or assignment.\n\t */\n\taddEventListener (type, listener, useCapture = false) {\n\t\tlet listeners;\n\t\tif (useCapture) {\n\t\t\tlisteners = this._captureListeners = this._captureListeners || {};\n\t\t} else {\n\t\t\tlisteners = this._listeners = this._listeners || {};\n\t\t}\n\t\tlet arr = listeners[type];\n\t\tif (arr) {\n\t\t\tthis.removeEventListener(type, listener, useCapture);\n\t\t\tarr = listeners[type]; // remove may have deleted the array\n\t\t}\n\t\tif (arr) { arr.push(listener);  }\n\t\telse { listeners[type] = [listener]; }\n\t\treturn listener;\n\t}\n\n\t/**\n\t * A shortcut method for using addEventListener that makes it easier to specify an execution scope, have a listener\n\t * only run once, associate arbitrary data with the listener, and remove the listener.\n\t *\n\t * This method works by creating an anonymous wrapper function and subscribing it with `addEventListener`.\n\t * The wrapper function is returned for use with `removeEventListener` (or `off`).\n\t *\n\t * To remove a listener added with `on`, you must pass in the returned wrapper function as the listener, or use\n\t * {@link core.Event#remove}. Likewise, each time you call `on` a NEW wrapper function is subscribed, so multiple calls\n\t * to `on` with the same params will create multiple listeners.\n\t *\n\t * @example\n\t * const listener = myBtn.on(\"click\", handleClick, null, false, { count: 3 });\n\t * function handleClick (evt, data) {\n\t *   data.count -= 1;\n\t *   console.log(this == myBtn); // true - scope defaults to the dispatcher\n\t *   if (data.count == 0) {\n\t *     alert(\"clicked 3 times!\");\n\t *     myBtn.off(\"click\", listener);\n\t *     // alternately: evt.remove();\n\t *   }\n\t * }\n\t *\n\t * @param {string} type The string type of the event.\n\t * @param {Function|Object} listener An object with a handleEvent method, or a function that will be called when the event is dispatched.\n\t * @param {Object} [scope=null] The scope to execute the listener in. Defaults to the dispatcher/currentTarget for function listeners, and to the listener itself for object listeners (ie. using handleEvent).\n\t * @param {boolean} [once=false] If true, the listener will remove itself after the first time it is triggered.\n\t * @param {*} [data={}] Arbitrary data that will be included as the second parameter when the listener is called.\n\t * @param {boolean} [useCapture=false] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t * @return {Function} Returns the anonymous function that was created and assigned as the listener. This is needed to remove the listener later using .removeEventListener.\n\t */\n\ton (type, listener, scope = null, once = false, data = {}, useCapture = false) {\n\t\tif (listener.handleEvent) {\n\t\t\tscope = scope || listener;\n\t\t\tlistener = listener.handleEvent;\n\t\t}\n\t\tscope = scope || this;\n\t\treturn this.addEventListener(type, evt => {\n\t\t\tlistener.call(scope, evt, data);\n\t\t\tonce && evt.remove();\n\t\t}, useCapture);\n\t}\n\n\t/**\n\t * Removes the specified event listener.\n\t *\n\t * You must pass the exact function reference used when the event was added. If a proxy\n\t * function, or function closure is used as the callback, the proxy/closure reference must be used - a new proxy or\n\t * closure will not work.\n\t *\n\t * @example\n\t * displayObject.removeEventListener(\"click\", handleClick);\n\t *\n\t * @param {string} type The string type of the event.\n\t * @param {Function|Object} listener The listener function or object.\n\t * @param {boolean} [useCapture=false] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t */\n\tremoveEventListener (type, listener, useCapture = false) {\n\t\tconst listeners = useCapture ? this._captureListeners : this._listeners;\n\t\tif (!listeners) { return; }\n\t\tconst arr = listeners[type];\n\t\tif (!arr) { return; }\n\t\tconst l = arr.length;\n\t\tfor (let i = 0; i < l; i++) {\n\t\t\tif (arr[i] === listener) {\n\t\t\t\tif (l === 1) { delete(listeners[type]); } // allows for faster checks.\n\t\t\t\telse { arr.splice(i, 1); }\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * A shortcut to the removeEventListener method, with the same parameters and return value. This is a companion to the\n\t * `on` method.\n\t *\n\t * To remove a listener added with `on`, you must pass in the returned wrapper function as the listener. See\n\t * {@link core.EventDispatcher#on} for an example.\n\t *\n\t * @param {string} type The string type of the event.\n\t * @param {Function|Object} listener The listener function or object.\n\t * @param {boolean} [useCapture=false] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t */\n\toff (type, listener, useCapture = false) {\n\t\tthis.removeEventListener(type, listener, useCapture);\n\t}\n\n\t/**\n\t * Removes all listeners for the specified type, or all listeners of all types.\n\t *\n\t * @example\n\t * // remove all listeners\n\t * displayObject.removeAllEventListeners();\n\t *\n\t * // remove all click listeners\n\t * displayObject.removeAllEventListeners(\"click\");\n\t *\n\t * @param {string} [type=null] The string type of the event. If omitted, all listeners for all types will be removed.\n\t */\n\tremoveAllEventListeners (type = null) {\n\t\tif (type) {\n\t\t\tif (this._listeners) { delete(this._listeners[type]); }\n\t\t\tif (this._captureListeners) { delete(this._captureListeners[type]); }\n\t\t} else {\n\t\t\tthis._listeners = this._captureListeners = null;\n\t\t}\n\t}\n\n\t/**\n\t * Dispatches the specified event to all listeners.\n\t *\n\t * @example\n\t * // use a string event\n\t * this.dispatchEvent(\"complete\")\n\t *\n\t * // use an Event instance\n\t * const event = new createjs.Event(\"progress\");\n\t * this.dispatchEvent(event);\n\t *\n\t * @param {Object|Event|string} eventObj An object with a \"type\" property, or a string type.\n\t * While a generic object will work, it is recommended to use a CreateJS Event instance. If a string is used,\n\t * dispatchEvent will construct an Event instance if necessary with the specified type. This latter approach can\n\t * be used to avoid event object instantiation for non-bubbling events that may not have any listeners.\n\t * @param {boolean} [bubbles=false] Specifies the `bubbles` value when a string was passed to eventObj.\n\t * @param {boolean} [cancelable=false] Specifies the `cancelable` value when a string was passed to eventObj.\n\t * @return {boolean} Returns false if `preventDefault()` was called on a cancelable event, true otherwise.\n\t */\n\tdispatchEvent (eventObj, bubbles = false, cancelable = false) {\n\t\tif (typeof eventObj === \"string\") {\n\t\t\t// skip everything if there's no listeners and it doesn't bubble:\n\t\t\tconst listeners = this._listeners;\n\t\t\tif (!bubbles && (!listeners || !listeners[eventObj])) { return true; }\n\t\t\teventObj = new Event(eventObj, bubbles, cancelable);\n\t\t} else if (eventObj.target && eventObj.clone) {\n\t\t\t// redispatching an active event object, so clone it:\n\t\t\teventObj = eventObj.clone();\n\t\t}\n\n\t\t// TODO: it would be nice to eliminate this. Maybe in favour of evtObj instanceof Event? Or !!evtObj.createEvent\n\t\ttry { eventObj.target = this; } catch (e) {} // try/catch allows redispatching of native events\n\n\t\tif (!eventObj.bubbles || !this.parent) {\n\t\t\tthis._dispatchEvent(eventObj, 2);\n\t\t} else {\n\t\t\tlet top = this;\n\t\t\tconst list = [top];\n\t\t\twhile (top.parent) { list.push(top = top.parent); }\n\t\t\tconst l = list.length;\n\t\t\tlet i;\n\n\t\t\t// capture & atTarget\n\t\t\tfor (i = l - 1; i >= 0 && !eventObj.propagationStopped; i--) {\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 1+(i==0));\n\t\t\t}\n\t\t\t// bubbling\n\t\t\tfor (i = 1; i < l && !eventObj.propagationStopped; i++) {\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 3);\n\t\t\t}\n\t\t}\n\t\treturn !eventObj.defaultPrevented;\n\t}\n\n\t/**\n\t * Indicates whether there is at least one listener for the specified event type.\n\t *\n\t * @param {string} type The string type of the event.\n\t * @return {boolean} Returns true if there is at least one listener for the specified event.\n\t */\n\thasEventListener (type) {\n\t\tconst listeners = this._listeners, captureListeners = this._captureListeners;\n\t\treturn !!((listeners && listeners[type]) || (captureListeners && captureListeners[type]));\n\t}\n\n\t/**\n\t * Indicates whether there is at least one listener for the specified event type on this object or any of its\n\t * ancestors (parent, parent's parent, etc). A return value of true indicates that if a bubbling event of the\n\t * specified type is dispatched from this object, it will trigger at least one listener.\n\t *\n\t * This is similar to {@link core.EventDispatcher#hasEventListener}, but it searches the entire\n\t * event flow for a listener, not just this object.\n\t *\n\t * @param {string} type The string type of the event.\n\t * @return {boolean} Returns `true` if there is at least one listener for the specified event.\n\t */\n\twillTrigger (type) {\n\t\tlet o = this;\n\t\twhile (o) {\n\t\t\tif (o.hasEventListener(type)) { return true; }\n\t\t\to = o.parent;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * @return {String} a string representation of the instance.\n\t */\n\ttoString () {\n\t\treturn `[${this.constructor.name + this.name ? ` ${this.name}` : \"\"}]`;\n\t}\n\n\t/**\n\t * @private\n\t * @param {Object|Event|string} eventObj\n\t * @param {Object} eventPhase\n\t */\n\t_dispatchEvent (eventObj, eventPhase) {\n\t\tconst listeners = eventPhase === 1 ? this._captureListeners : this._listeners;\n\t\tif (eventObj && listeners) {\n\t\t\tlet arr = listeners[eventObj.type];\n\t\t\tlet l;\n\t\t\tif (!arr || (l = arr.length) === 0) { return; }\n\t\t\ttry { eventObj.currentTarget = this; } catch (e) {}\n\t\t\ttry { eventObj.eventPhase = eventPhase; } catch (e) {}\n\t\t\teventObj.removed = false;\n\n\t\t\tarr = arr.slice(); // to avoid issues with items being removed or added during the dispatch\n\t\t\tfor (let i = 0; i < l && !eventObj.immediatePropagationStopped; i++) {\n\t\t\t\tlet o = arr[i];\n\t\t\t\tif (o.handleEvent) { o.handleEvent(eventObj); }\n\t\t\t\telse { o(eventObj); }\n\t\t\t\tif (eventObj.removed) {\n\t\t\t\t\tthis.off(eventObj.type, o, eventPhase === 1);\n\t\t\t\t\teventObj.removed = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n}\n\nexport default EventDispatcher;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@createjs/core/src/events/EventDispatcher.js","/**\n * @license Event\n * Visit http://createjs.com/ for documentation, updates and examples.\n *\n * Copyright (c) 2017 gskinner.com, inc.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Contains properties and methods shared by all events for use with {@link core.EventDispatcher}.\n * Note that Event objects are often reused, so you should never\n * rely on an event object's state outside of the call stack it was received in.\n *\n * @memberof core\n * @example\n * const evt = new Event(\"myEvent\");\n * const dispatcher = new EventDispatcher();\n * dispatcher.on(\"myEvent\", event => console.log(event.type));\n * dispatcher.dispatchEvent(evt); // logs \"myEvent\"\n *\n * @param {string} type The event type.\n * @param {boolean} [bubbles=false] Indicates whether the event will bubble through the display list.\n * @param {boolean} [cancelable=false] Indicates whether the default behaviour of this event can be cancelled.\n */\nclass Event {\n\n\tconstructor (type, bubbles = false, cancelable = false) {\n\t\t/**\n\t\t * The type of event.\n\t\t * @type string\n\t\t */\n\t\tthis.type = type;\n\n\t\t/**\n\t\t * The object that generated an event.\n\t\t *\n\t\t * @type Object\n\t\t * @default null\n\t\t * @readonly\n\t\t */\n\t\tthis.target = null;\n\n\t\t/**\n\t\t * The current target that a bubbling event is being dispatched from. For non-bubbling events, this will\n\t\t * always be the same as target. For example, if childObj.parent = parentObj, and a bubbling event\n\t\t * is generated from childObj, then a listener on parentObj would receive the event with\n\t\t * target=childObj (the original target) and currentTarget=parentObj (where the listener was added).\n\t\t *\n\t\t * @type Object\n\t\t * @default null\n\t\t * @readonly\n\t\t */\n\t\tthis.currentTarget = null;\n\n\t\t/**\n\t\t * For bubbling events, this indicates the current event phase:\n\t\t * <OL>\n\t\t * \t<LI> capture phase: starting from the top parent to the target</LI>\n\t\t * \t<LI> at target phase: currently being dispatched from the target</LI>\n\t\t * \t<LI> bubbling phase: from the target to the top parent</LI>\n\t\t * </OL>\n\t\t *\n\t\t * @type number\n\t\t * @default 0\n\t\t * @readonly\n\t\t */\n\t\tthis.eventPhase = 0;\n\n\t\t/**\n\t\t * Indicates whether the event will bubble through the display list.\n\t\t *\n\t\t * @type boolean\n\t\t * @readonly\n\t\t */\n\t\tthis.bubbles = bubbles;\n\n\t\t/**\n\t\t * Indicates whether the default behaviour of this event can be cancelled via {@link core.Event#preventDefault}.\n\t\t *\n\t\t * @type boolean\n\t\t * @readonly\n\t\t */\n\t\tthis.cancelable = cancelable;\n\n\t\t/**\n\t\t * The epoch time at which this event was created.\n\t\t *\n\t\t * @type number\n\t\t * @readonly\n\t\t */\n\t\tthis.timeStamp = new Date().getTime();\n\n\t\t/**\n\t\t * Indicates if {@link core.Event#preventDefault} has been called on this event.\n\t\t *\n\t\t * @type boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t */\n\t\tthis.defaultPrevented = false;\n\n\t\t/**\n\t\t * Indicates if {@link core.Event#stopPropagation} or {@link core.Event#stopImmediatePropagation} has been called on this event.\n\t\t *\n\t\t * @type boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t */\n\t\tthis.propagationStopped = false;\n\n\t\t/**\n\t\t * Indicates if {@link core.Event#stopImmediatePropagation} has been called on this event.\n\t\t *\n\t\t * @type boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t */\n\t\tthis.immediatePropagationStopped = false;\n\n\t\t/**\n\t\t * Indicates if {@link core.Event#remove} has been called on this event.\n\t\t *\n\t\t * @type boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t */\n\t\tthis.removed = false;\n\t}\n\n\t/**\n\t * Sets {@link core.Event#defaultPrevented} to true if the event is cancelable.\n\t * Mirrors the DOM level 2 event standard. In general, cancelable events that have `preventDefault()` called will\n\t * cancel the default behaviour associated with the event.\n\t * @return {core.Event} this, chainable\n\t */\n\tpreventDefault () {\n\t\tthis.defaultPrevented = this.cancelable;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets {@link core.Event#propagationStopped} to true.\n\t * Mirrors the DOM event standard.\n\t * @return {core.Event} this, chainable\n\t */\n\tstopPropagation () {\n\t\tthis.propagationStopped = true;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets {@link core.Event#propagationStopped} and {@link core.Event#immediatePropagationStopped} to true.\n\t * Mirrors the DOM event standard.\n\t * @return {core.Event} this, chainable\n\t */\n\tstopImmediatePropagation () {\n\t\tthis.immediatePropagationStopped = this.propagationStopped = true;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Causes the active listener to be removed via removeEventListener();\n\t *\n\t * @example\n\t * myBtn.addEventListener(\"click\", event => {\n\t *   event.remove(); // removes this listener.\n\t * });\n\t *\n\t * @return {core.Event} this, chainable\n\t */\n\tremove () {\n\t\tthis.removed = true;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns a clone of the Event instance.\n\t *\n\t * @return {core.Event} a clone of the Event instance.\n\t */\n\tclone () {\n\t\tconst event = new Event(this.type, this.bubbles, this.cancelable);\n\t\tfor (let n in this) {\n\t\t\tif (this.hasOwnProperty(n)) {\n\t\t\t\tevent[n] = this[n];\n\t\t\t}\n\t\t}\n\t\treturn event;\n\t}\n\n\t/**\n\t * Provides a return {core.Event} this, chainable shortcut method for setting a number of properties on the instance.\n\t *\n\t * @param {Object} props A generic object containing properties to copy to the instance.\n\t * @return {core.Event} this, chainable\n\t */\n\tset (props) {\n\t\tfor (let n in props) { this[n] = props[n]; }\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns a string representation of this object.\n\t *\n\t * @return {string} A string representation of the instance.\n\t */\n\ttoString () {\n\t\treturn `[${this.constructor.name} (type=${this.type})]`;\n\t}\n\n}\n\nexport default Event;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@createjs/core/src/events/Event.js","\r\n// helpers\r\n\r\nfunction toFixed(num, precision) {\r\n    precision = precision || 3;\r\n\r\n    return (num).toFixed(precision);\r\n}\r\n\r\nfunction floor(num) {\r\n    return Math.floor(num);\r\n}\r\n\r\n// tile\r\n\r\nfunction getTileWidth(gameWidth, hCount) {\r\n    return toFixed(gameWidth / hCount)\r\n}\r\n\r\nfunction getVTileCount(gameHeight, tileWidth) {\r\n    return floor(gameHeight / tileWidth)\r\n}\r\n\r\n// line\r\n\r\nfunction getLineStepCord(ratio, tileWidth) {\r\n    return (tileWidth * ratio) + (tileWidth / 2);\r\n}\r\n\r\n// point\r\n\r\nfunction getPointCord(cord, pointWidth) {\r\n    return (pointWidth * cord) + (pointWidth / 2);\r\n}\r\n\r\nexport default {\r\n    toFixed: toFixed,\r\n    getTileWidth: getTileWidth,\r\n    getLineStepCord: getLineStepCord,\r\n    getPointCord: getPointCord,\r\n    getVTileCount: getVTileCount\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/game-components/utils/calculations.js","import Game from './game-components/game';\r\nimport $$ from 'dom7';\r\n\r\n(function(fb) {\r\n\r\n    window.onload = function() {\r\n        const game = new Game(fb);\r\n\r\n        game.init($$('#game'));\r\n    };\r\n\r\n})(FBInstant);\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/app.js","import Map from './map/map';\r\n\r\nclass Game {\r\n\r\n    constructor(FBInstant) {\r\n        this.fb = FBInstant;\r\n    }\r\n\r\n    // handlers\r\n\r\n    selectBtnClickHandler() {\r\n        const _this = this;\r\n\r\n        this.fb.context\r\n            .chooseAsync({\r\n                minSize: 2,\r\n                maxSize: 2\r\n            })\r\n            .then(function() {\r\n                _this.start();\r\n            })\r\n    }\r\n\r\n    // game cycle\r\n\r\n    start() {\r\n        const _this = this;\r\n\r\n        this.fb.context.getPlayersAsync()\r\n            .then(function(players) {\r\n                if (_this.fb.context.getType() !== 'SOLO') {\r\n                    _this.toggleContextMenu(false);\r\n                }\r\n\r\n                /*console.log(players.map(function(player) {\r\n                    return {\r\n                        id: player.getID(),\r\n                        name: player.getName(),\r\n                    }\r\n                }));*/\r\n            });\r\n    }\r\n\r\n    // other\r\n\r\n    toggleContextMenu(flag) {\r\n        if (flag) {\r\n            this.contextMenu.show();\r\n        }\r\n        else {\r\n            this.contextMenu.hide();\r\n        }\r\n    }\r\n\r\n    init(node) {\r\n        const _this = this;\r\n\r\n        this.contextMenu = node.find('.context-menu-layer');\r\n        this.map = new Map(node);\r\n\r\n        this.contextMenu\r\n            .find('.select-btn')\r\n            .on('click', this.selectBtnClickHandler.bind(this));\r\n\r\n        this.fb.initializeAsync().then(function() {\r\n            _this.fb.setLoadingProgress(100);\r\n            _this.fb.startGameAsync().then(function() {\r\n\r\n                // check whether it a match or new game? how?????\r\n\r\n                // _this.fb.context.getType() !== 'SOLO'\r\n                // getEntryPointAsync() returns string\r\n\r\n                _this.toggleContextMenu(true);\r\n            });\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default Game;\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/game-components/game.js","import { Stage, Shape, Touch } from '../../../node_modules/@createjs/easeljs/dist/easeljs.common';\r\nimport Point from '../point/point';\r\nimport config from './config';\r\nimport calc from '../utils/calculations';\r\n\r\nconst ZERO = 0;\r\n\r\nclass Map {\r\n\r\n    constructor(node) {\r\n        this.gameWrap = node;\r\n        this.gameWidth = node.width();\r\n        this.gameHeight = node.height();\r\n        this.stage = new Stage('stage');\r\n\r\n        this.matrix = null;\r\n        this.tileWidth = null;\r\n        this.vTileCount = null;\r\n        this.hTileCount = null;\r\n\r\n        this.updateTileOptionsByGameWrap();\r\n        this.updateCanvasAndStage();\r\n        this.createAndDrawMatrix();\r\n    }\r\n\r\n    updateTileOptionsByGameWrap() {\r\n        this.hTileCount = config.tileCount.horizontal\r\n\r\n        if (this.gameWidth > this.gameHeight) {\r\n            this.hTileCount = config.tileCount.vertical;\r\n        }\r\n\r\n        this.tileWidth = calc.getTileWidth(this.gameWidth, this.hTileCount);\r\n        this.vTileCount = calc.getVTileCount(this.gameHeight, this.tileWidth);\r\n    }\r\n\r\n    // drawing\r\n\r\n    updateCanvasAndStage() {\r\n        Touch.enable(this.stage);\r\n        this.stage.enableMouseOver();\r\n\r\n        this.gameWrap\r\n            .find('#stage')\r\n            .attr({\r\n                width: calc.toFixed(this.gameWidth),\r\n                height: calc.toFixed(this.gameHeight)\r\n            });\r\n    }\r\n\r\n    createAndDrawMatrix() {\r\n        let matrix = [];\r\n\r\n        for (let i = ZERO; i < this.vTileCount; i++) {\r\n            let row = [];\r\n\r\n            this.drawHLine(i);\r\n\r\n            for (let j = ZERO; j < this.hTileCount; j++) {\r\n                if (i === ZERO) {\r\n                    this.drawVLine(j);\r\n                }\r\n\r\n                row.push(new Point({\r\n                    id: {\r\n                        x: j,\r\n                        y: i\r\n                    },\r\n                    width: this.tileWidth\r\n                }, this));\r\n            }\r\n\r\n            matrix.push(row);\r\n        }\r\n\r\n        this.matrix = matrix;\r\n\r\n        this.stage.update();\r\n    }\r\n\r\n    drawHLine(ratio) {\r\n        let line = new Shape();\r\n        const startX = ZERO;\r\n        const startY = calc.getLineStepCord(ratio, this.tileWidth);\r\n        const endX = this.gameWidth;\r\n\r\n        line.graphics\r\n            .setStrokeStyle(config.lineWidth)\r\n            .beginStroke(config.colors.lines)\r\n            .moveTo(startX, startY)\r\n            .lineTo(endX, startY)\r\n            .endStroke();\r\n\r\n        this.stage.addChild(line);\r\n    }\r\n\r\n    drawVLine(ratio) {\r\n        let line = new Shape();\r\n        const startX = calc.getLineStepCord(ratio, this.tileWidth);\r\n        const startY = ZERO;\r\n        const endX = startX;\r\n        const endY = this.gameHeight;\r\n\r\n        line.graphics\r\n            .setStrokeStyle(config.lineWidth)\r\n            .beginStroke(config.colors.lines)\r\n            .moveTo(startX, startY)\r\n            .lineTo(endX, endY)\r\n            .endStroke();\r\n\r\n        this.stage.addChild(line);\r\n    }\r\n\r\n}\r\n\r\nexport default Map;\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/game-components/map/map.js","/**\n * @license Ease\n * Visit http://createjs.com/ for documentation, updates and examples.\n *\n * Copyright (c) 2017 gskinner.com, inc.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * The Ease class provides a collection of easing functions for use with TweenJS. It does not use the standard 4 param\n * easing signature. Instead it uses a single param which indicates the current linear ratio (0 to 1) of the tween.\n *\n * Most methods on Ease can be passed directly as easing functions:\n *\n *      Tween.get(target).to({x:100}, 500, Ease.linear);\n *\n * However, methods beginning with \"get\" will return an easing function based on parameter values:\n *\n *      Tween.get(target).to({y:200}, 500, Ease.getPowIn(2.2));\n *\n * Please see the <a href=\"http://www.createjs.com/Demos/TweenJS/Tween_SparkTable\">spark table demo</a> for an\n * overview of the different ease types on <a href=\"http://tweenjs.com\">TweenJS.com</a>.\n *\n * <em>Equations derived from work by Robert Penner.</em>\n *\n * @memberof tweenjs\n * @module Ease\n */\n\n/**\n * @param {number} t\n * @return {number}\n */\nfunction linear (t) {\n\treturn t;\n}\n\n/**\n * Mimics the simple -100 to 100 easing in Flash Pro.\n * @param {number} amount A value from -1 (ease in) to 1 (ease out) indicating the strength and direction of the ease.\n * @return {Function}\n */\nfunction get (amount) {\n\tif (amount < -1) { amount = -1; } else if (amount > 1) { amount = 1; }\n\treturn function (t) {\n\t\tif (amount == 0) { return t; }\n\t\tif (amount < 0) { return t * (t * -amount + 1 + amount); }\n\t\treturn t * ((2 - t) * amount + (1 - amount));\n\t};\n}\n\n/**\n * Configurable exponential ease.\n * @param {number} pow The exponent to use (ex. 3 would return a cubic ease).\n * @return {Function}\n */\nfunction getPowIn (pow) {\n\treturn function (t) {\n\t\treturn Math.pow(t, pow);\n\t};\n}\n\n/**\n * Configurable exponential ease.\n * @param {number} pow The exponent to use (ex. 3 would return a cubic ease).\n * @return {Function}\n */\nfunction getPowOut (pow) {\n\treturn function (t) {\n\t\treturn 1 - Math.pow(1 - t, pow);\n\t};\n}\n\n/**\n * Configurable exponential ease.\n * @param {number} pow The exponent to use (ex. 3 would return a cubic ease).\n * @return {Function}\n */\nfunction getPowInOut (pow) {\n\treturn function (t) {\n\t\tif ((t *= 2) < 1) return 0.5 * Math.pow(t, pow);\n\t\treturn 1 - 0.5 * Math.abs(Math.pow(2 - t, pow));\n\t};\n}\n\n/**\n * @param {number} t\n * @return {number}\n */\nfunction sineIn (t) {\n\treturn 1 - Math.cos(t * Math.PI / 2);\n}\n\n/**\n * @param {number} t\n * @return {number}\n */\nfunction sineOut (t) {\n\treturn Math.sin(t * Math.PI / 2);\n}\n\n/**\n * @param {number} t\n * @return {number}\n */\nfunction sineInOut (t) {\n\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\n}\n\n/**\n * Configurable \"back in\" ease.\n * @param {number} amount The strength of the ease.\n * @return {Function}\n */\nfunction getBackIn (amount) {\n\treturn function (t) {\n\t\treturn t * t * ((amount + 1) * t - amount);\n\t};\n}\n\n/**\n * Configurable \"back out\" ease.\n * @param {number} amount The strength of the ease.\n * @return {Function}\n */\nfunction getBackOut (amount) {\n\treturn function (t) {\n\t\treturn (--t * t * ((amount + 1) * t + amount) + 1);\n\t};\n}\n\n/**\n * Configurable \"back in out\" ease.\n * @param {number} amount The strength of the ease.\n * @return {Function}\n */\nfunction getBackInOut (amount) {\n\tamount *= 1.525;\n\treturn function (t) {\n\t\tif ((t *= 2) < 1) return 0.5 * (t * t * ((amount + 1) * t - amount));\n\t\treturn 0.5 * ((t -= 2) * t * ((amount + 1) * t + amount) + 2);\n\t};\n}\n\n/**\n * @param {number} t\n * @return {number}\n */\nfunction circIn (t) {\n\treturn -(Math.sqrt(1 - t * t) - 1);\n}\n\n/**\n * @param {number} t\n * @return {number}\n */\nfunction circOut (t) {\n\treturn Math.sqrt(1 - --t * t);\n}\n\n/**\n * @param {number} t\n * @return {number}\n */\nfunction circInOut (t) {\n\tif ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\n\n/**\n * @param {number} t\n * @return {number}\n */\nfunction bounceIn (t) {\n\treturn 1 - Ease.bounceOut(1 - t);\n}\n\n/**\n * @param {number} t\n * @return {number}\n */\nfunction bounceOut (t) {\n\tif (t < 1 / 2.75) {\n\t\treturn 7.5625 * t * t;\n\t} else if (t < 2 / 2.75) {\n\t\treturn 7.5625 * (t -= 1.5 / 2.75) * t + 0.75;\n\t} else if (t < 2.5 / 2.75) {\n\t\treturn 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375;\n\t} else {\n\t\treturn 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;\n\t}\n}\n\n/**\n * @param {number} t\n * @return {number}\n */\nfunction bounceInOut (t) {\n\tif (t < 0.5) return Ease.bounceIn(t * 2) * 0.5;\n\treturn Ease.bounceOut(t * 2 - 1) * 0.5 + 0.5;\n}\n\n/**\n * Configurable elastic ease.\n * @param {number} amplitude\n * @param {number} period\n * @return {Function}\n */\nfunction getElasticIn (amplitude, period) {\n\tlet pi2 = Math.PI * 2;\n\treturn function (t) {\n\t\tif (t === 0 || t === 1) return t;\n\t\tlet s = period / pi2 * Math.asin(1 / amplitude);\n\t\treturn -(amplitude * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * pi2 / period));\n\t};\n}\n\n/**\n * Configurable elastic ease.\n * @param {number} amplitude\n * @param {number} period\n * @return {Function}\n */\nfunction getElasticOut (amplitude, period) {\n\tlet pi2 = Math.PI * 2;\n\treturn function (t) {\n\t\tif (t === 0 || t === 1) return t;\n\t\tlet s = period / pi2 * Math.asin(1 / amplitude);\n\t\treturn amplitude * Math.pow(2, -10 * t) * Math.sin((t - s) * pi2 / period) + 1;\n\t};\n}\n\n/**\n * Configurable elastic ease.\n * @param {number} amplitude\n * @param {number} period\n * @return {Function}\n */\nfunction getElasticInOut (amplitude, period) {\n\tlet pi2 = Math.PI * 2;\n\treturn function (t) {\n\t\tlet s = period / pi2 * Math.asin(1 / amplitude);\n\t\tif ((t *= 2) < 1) return -0.5 * (amplitude * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * pi2 / period));\n\t\treturn amplitude * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - s) * pi2 / period) * 0.5 + 1;\n\t};\n}\n\n/**\n * Identical to linear.\n * @param {number} t\n * @return {number}\n */\nconst none = linear;\n/**\n * @param {number} t\n * @return {number}\n */\nconst quadIn = getPowIn(2);\n/**\n * @param {number} t\n * @return {number}\n */\nconst quadOut = getPowOut(2);\n/**\n * @param {number} t\n * @return {number}\n */\nconst quadInOut = getPowInOut(2);\n/**\n * @param {number} t\n * @return {number}\n */\nconst cubicIn = getPowIn(3);\n/**\n * @param {number} t\n * @return {number}\n */\nconst cubicOut = getPowOut(3);\n/**\n * @param {number} t\n * @return {number}\n */\nconst cubicInOut = getPowInOut(3);\n/**\n * @param {number} t\n * @return {number}\n */\nconst quartIn = getPowIn(4);\n/**\n * @param {number} t\n * @return {number}\n */\nconst quartOut = getPowOut(4);\n/**\n * @param {number} t\n * @return {number}\n */\nconst quartInOut = getPowInOut(4);\n/**\n * @param {number} t\n * @return {number}\n */\nconst quintIn = getPowIn(5);\n/**\n * @param {number} t\n * @return {number}\n */\nconst quintOut = getPowOut(5);\n/**\n * @param {number} t\n * @return {number}\n */\nconst quintInOut = getPowInOut(5);\n/**\n * @param {number} t\n * @return {number}\n */\nconst backIn = getBackIn(1.7);\n/**\n * @param {number} t\n * @return {number}\n */\nconst backOut = getBackOut(1.7);\n/**\n * @param {number} t\n * @return {number}\n */\nconst backInOut = getBackInOut(1.7);\n/**\n * @param {number} t\n * @return {number}\n */\nconst elasticIn = getElasticIn(1, 0.3);\n/**\n * @param {number} t\n * @return {number}\n */\nconst elasticOut = getElasticOut(1, 0.3);\n/**\n * @param {number} t\n * @return {number}\n */\nconst elasticInOut = getElasticInOut(1, 0.3 * 1.5);\n\nexport {\n\tlinear,\n\tget,\n\tgetPowIn,\n\tgetPowOut,\n\tgetPowInOut,\n\tsineIn,\n\tsineOut,\n\tsineInOut,\n\tgetBackIn,\n\tgetBackOut,\n\tgetBackInOut,\n\tcircIn,\n\tcircOut,\n\tcircInOut,\n\tbounceIn,\n\tbounceOut,\n\tbounceInOut,\n\tgetElasticIn,\n\tgetElasticOut,\n\tgetElasticInOut,\n\n\tnone,\n\tquadIn,\n\tquadOut,\n\tquadInOut,\n\tcubicIn,\n\tcubicOut,\n\tcubicInOut,\n\tquartIn,\n\tquartOut,\n\tquartInOut,\n\tquintIn,\n\tquintOut,\n\tquintInOut,\n\tbackIn,\n\tbackOut,\n\tbackInOut,\n\telasticIn,\n\telasticOut,\n\telasticInOut\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@createjs/tweenjs/src/Ease.js","/**\n * @license Ticker\n * Visit http://createjs.com/ for documentation, updates and examples.\n *\n * Copyright (c) 2017 gskinner.com, inc.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport EventDispatcher from \"../events/EventDispatcher\";\nimport Event from \"../events/Event\";\n\n/**\n * The Ticker provides a centralized tick or heartbeat broadcast at a set interval. Listeners can subscribe to the tick\n * event to be notified when a set time interval has elapsed.\n *\n * Note that the interval that the tick event is called is a target interval, and may be broadcast at a slower interval\n * when under high CPU load. The Ticker class uses a static interface (ex. `Ticker.framerate = 30;`) and\n * can not be instantiated.\n *\n * @todo Pass timingMode, maxDelta, paused values as instantiation arguments?\n *\n * @memberof core\n * @example\n * Ticker.addEventListener(\"tick\", event => {\n *   // Actions carried out each tick (aka frame)\n *   if (!event.paused) {\n *     // Actions carried out when the Ticker is not paused.\n *   }\n * });\n * @example\n * // Ticker export explanation\n * import Ticker, { Ticker as TickerClass, getTicker } from \"@createjs/core\";\n * Ticker.name, Ticker.RAF // -> createjs.global, undefined\n * TickerClass.RAF // -> raf\n * Ticker === getTicker(\"createjs.global\") // -> true\n *\n * @extends core.EventDispatcher\n * @param {string} name The name assigned to this instance.\n */\nclass Ticker extends EventDispatcher {\n\n\t/**\n\t * In this mode, Ticker uses the requestAnimationFrame API, but attempts to synch the ticks to target framerate. It\n\t * uses a simple heuristic that compares the time of the RAF return to the target time for the current frame and\n\t * dispatches the tick when the time is within a certain threshold.\n\t *\n\t * This mode has a higher variance for time between frames than {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}},\n\t * but does not require that content be time based as with {{#crossLink \"Ticker/RAF:property\"}}{{/crossLink}} while\n\t * gaining the benefits of that API (screen synch, background throttling).\n\t *\n\t * Variance is usually lowest for framerates that are a divisor of the RAF frequency. This is usually 60, so\n\t * framerates of 10, 12, 15, 20, and 30 work well.\n\t *\n\t * Falls back to {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}} if the requestAnimationFrame API is not\n\t * supported.\n\t *\n\t * @static\n\t * @type {string}\n\t * @default \"synched\"\n\t * @readonly\n\t */\n\tstatic get RAF_SYNCHED () { return \"synched\"; }\n\n\t/**\n\t * In this mode, Ticker passes through the requestAnimationFrame heartbeat, ignoring the target framerate completely.\n\t * Because requestAnimationFrame frequency is not deterministic, any content using this mode should be time based.\n\t * You can leverage {@link core.Ticker#getTime} and the {@link core.Ticker#event:tick}\n\t * event object's \"delta\" properties to make this easier.\n\t *\n\t * Falls back on {@link core.Ticker.TIMEOUT} if the requestAnimationFrame API is not supported.\n\t *\n\t * @static\n\t * @type {string}\n\t * @default \"raf\"\n\t * @readonly\n\t */\n\tstatic get RAF () { return \"raf\"; }\n\n\t/**\n\t * In this mode, Ticker uses the setTimeout API. This provides predictable, adaptive frame timing, but does not\n\t * provide the benefits of requestAnimationFrame (screen synch, background throttling).\n\t *\n\t * @static\n\t * @type {string}\n\t * @default \"timeout\"\n\t * @readonly\n\t */\n\tstatic get TIMEOUT () { return \"timeout\"; }\n\n\tconstructor (name) {\n\t\tsuper();\n\n\t\t/**\n\t\t * The name of this instance.\n\t\t * @type {string}\n\t\t */\n\t\tthis.name = name;\n\n\t\t/**\n\t\t * Specifies the timing api (setTimeout or requestAnimationFrame) and mode to use.\n\t\t *\n\t\t * @see {@link core.Ticker.TIMEOUT}\n\t\t * @see {@link core.Ticker.RAF}\n\t\t * @see {@link core.Ticker.RAF_SYNCHED}\n\t\t *\n\t\t * @type {string}\n\t\t * @default Ticker.TIMEOUT\n\t\t */\n\t\tthis.timingMode = Ticker.TIMEOUT;\n\n\t\t/**\n\t\t * Specifies a maximum value for the delta property in the tick event object. This is useful when building time\n\t\t * based animations and systems to prevent issues caused by large time gaps caused by background tabs, system sleep,\n\t\t * alert dialogs, or other blocking routines. Double the expected frame duration is often an effective value\n\t\t * (ex. maxDelta=50 when running at 40fps).\n\t\t *\n\t\t * This does not impact any other values (ex. time, runTime, etc), so you may experience issues if you enable maxDelta\n\t\t * when using both delta and other values.\n\t\t *\n\t\t * If 0, there is no maximum.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.maxDelta = 0;\n\n\t\t/**\n\t\t * When the ticker is paused, all listeners will still receive a tick event, but the `paused` property\n\t\t * of the event will be `true`. Also, while paused the `runTime` will not increase.\n\t\t *\n\t\t * @example\n\t\t * Ticker.addEventListener(\"tick\", event => console.log(event.paused, Ticker.getTime(false), Ticker.getTime(true)));\n\t\t * Ticker.paused = true;\n\t\t *\n\t\t * @see {@link core.Ticker#event:tick}\n\t\t * @see {@link core.Ticker#getTime}\n\t\t * @see {@link core.Ticker#getEventTime}\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.paused = false;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis._inited = false;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis._startTime = 0;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis._pausedTime = 0;\n\n\t\t/**\n\t\t * The number of ticks that have passed.\n\t\t *\n\t\t * @private\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis._ticks = 0;\n\n\t\t/**\n\t\t * The number of ticks that have passed while Ticker has been paused.\n\t\t *\n\t\t * @private\n\t\t * @type {number}\n\t\t * @default\n\t\t */\n\t\tthis._pausedTicks = 0;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {number}\n\t\t * @default\n\t\t */\n\t\tthis._interval = 50;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {number}\n\t\t * @default\n\t\t */\n\t\tthis._lastTime = 0;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {Array}\n\t\t * @default null\n\t\t */\n\t\tthis._times = null;\n\n\t\t/**\n\t\t * @private\n\t\t * @type {Array}\n\t\t * @default null\n\t\t */\n\t\tthis._tickTimes = null;\n\n\t\t/**\n\t\t * Stores the timeout or requestAnimationFrame id.\n\t\t *\n\t\t * @private\n\t\t * @type {number}\n\t\t * @default null\n\t\t */\n\t\tthis._timerId = null;\n\n\t\t/**\n\t\t * True if currently using requestAnimationFrame, false if using setTimeout. This may be different than timingMode\n\t\t * if that property changed and a tick hasn't fired.\n\t\t *\n\t\t * @private\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis._raf = true;\n\t}\n\n\t/**\n\t * Indicates the target time (in milliseconds) between ticks. Default is 50 (20 FPS).\n\t * Note that actual time between ticks may be more than specified depending on CPU load.\n\t * This property is ignored if the ticker is using the `RAF` timing mode.\n\t *\n\t * @type {number}\n\t */\n\tget interval () { return this._interval; }\n\tset interval (interval) {\n\t\tthis._interval = interval;\n\t\tif (!this._inited) { return; }\n\t\tthis._setupTick();\n\t}\n\n\t/**\n\t * Indicates the target frame rate in frames per second (FPS). Effectively just a shortcut to `interval`, where\n\t * `framerate == 1000/interval`.\n\t *\n\t * @type {number}\n\t */\n\tget framerate () { return 1000 / this._interval; }\n\tset framerate (framerate) { this.interval = 1000 / framerate; }\n\n\t/**\n\t * Starts the tick. This is called automatically when the first listener is added.\n\t */\n\tinit () {\n\t\tif (this._inited) { return; }\n\t\tthis._inited = true;\n\t\tthis._times = [];\n\t\tthis._tickTimes = [];\n\t\tthis._startTime = this._getTime();\n\t\tthis._times.push(this._lastTime = 0);\n\t\tthis._setupTick();\n\t}\n\n\t/**\n\t * Stops the Ticker and removes all listeners. Use init() to restart the Ticker.\n\t */\n\treset () {\n\t\tif (this._raf) {\n\t\t\tlet f = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame;\n\t\t\tf && f(this._timerId);\n\t\t} else {\n\t\t\tclearTimeout(this._timerId);\n\t\t}\n\t\tthis.removeAllEventListeners(\"tick\");\n\t\tthis._timerId = this._times = this._tickTimes = null;\n\t\tthis._startTime = this._lastTime = this._ticks = 0;\n\t\tthis._inited = false;\n\t}\n\n\t/**\n\t * Init the Ticker instance if it hasn't been already.\n\t */\n\taddEventListener (type, listener, useCapture) {\n\t\t!this._inited && this.init();\n\t\treturn super.addEventListener(type, listener, useCapture);\n\t}\n\n\t/**\n\t * Returns the average time spent within a tick. This can vary significantly from the value provided by getMeasuredFPS\n\t * because it only measures the time spent within the tick execution stack.\n\t *\n\t * Example 1: With a target FPS of 20, getMeasuredFPS() returns 20fps, which indicates an average of 50ms between\n\t * the end of one tick and the end of the next. However, getMeasuredTickTime() returns 15ms. This indicates that\n\t * there may be up to 35ms of \"idle\" time between the end of one tick and the start of the next.\n\t *\n\t * Example 2: With a target FPS of 30, getFPS() returns 10fps, which indicates an average of 100ms between the end of\n\t * one tick and the end of the next. However, getMeasuredTickTime() returns 20ms. This would indicate that something\n\t * other than the tick is using ~80ms (another script, DOM rendering, etc).\n\t *\n\t * @param {number} [ticks=null] The number of previous ticks over which to measure the average time spent in a tick.\n\t * Defaults to the number of ticks per second. To get only the last tick's time, pass in 1.\n\t * @return {number} The average time spent in a tick in milliseconds.\n\t */\n\tgetMeasuredTickTime (ticks = null) {\n\t\tconst times = this._tickTimes;\n\t\tif (!times || times.length < 1) { return -1; }\n\t\t// by default, calculate average for the past ~1 second:\n\t\tticks = Math.min(times.length, ticks || (this.framerate | 0));\n\t\treturn times.reduce((a, b) => a + b, 0) / ticks;\n\t}\n\n\t/**\n\t * Returns the actual frames / ticks per second.\n\t *\n\t * @param {number} [ticks=null] The number of previous ticks over which to measure the actual frames / ticks per second.\n\t * Defaults to the number of ticks per second.\n\t * @return {number} The actual frames / ticks per second. Depending on performance, this may differ\n\t * from the target frames per second.\n\t */\n\tgetMeasuredFPS (ticks = null) {\n\t\tconst times = this._times;\n\t\tif (!times || times.length < 2) { return -1; }\n\t\t// by default, calculate fps for the past ~1 second:\n\t\tticks = Math.min(times.length - 1, ticks || (this.framerate | 0));\n\t\treturn 1000 / ((times[0] - times[ticks]) / ticks);\n\t}\n\n\t/**\n\t * Returns the number of milliseconds that have elapsed since Ticker was initialized via {@link core.Ticker#init}.\n\t * Returns -1 if Ticker has not been initialized. For example, you could use\n\t * this in a time synchronized animation to determine the exact amount of time that has elapsed.\n\t *\n\t * @param {boolean} [runTime=false] If true only time elapsed while Ticker was not paused will be returned.\n\t * If false, the value returned will be total time elapsed since the first tick event listener was added.\n\t * @return {number} Number of milliseconds that have elapsed since Ticker was initialized or -1.\n\t */\n\tgetTime (runTime = false) {\n\t\treturn this._startTime ? this._getTime() - (runTime ? this._pausedTime : 0) : -1;\n\t}\n\n\t/**\n\t * Similar to {@link core.Ticker#getTime}, but returns the time on the most recent {@link core.Ticker#event:tick}\n\t * event object.\n\t *\n\t * @param {boolean} [runTime=false] If true, the runTime property will be returned instead of time.\n\t * @returns {number} The time or runTime property from the most recent tick event or -1.\n\t */\n\tgetEventTime (runTime = false) {\n\t\treturn this._startTime ? (this._lastTime || this._startTime) - (runTime ? this._pausedTime : 0) : -1;\n\t}\n\n\t/**\n\t * Returns the number of ticks that have been broadcast by Ticker.\n\t *\n\t * @param {boolean} [pauseable=false] Indicates whether to include ticks that would have been broadcast\n\t * while Ticker was paused. If true only tick events broadcast while Ticker is not paused will be returned.\n\t * If false, tick events that would have been broadcast while Ticker was paused will be included in the return\n\t * value.\n\t * @return {number} of ticks that have been broadcast.\n\t */\n\tgetTicks (pauseable = false) {\n\t\treturn this._ticks - (pauseable ? this._pausedTicks : 0);\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_handleSynch () {\n\t\tthis._timerId = null;\n\t\tthis._setupTick();\n\n\t\t// run if enough time has elapsed, with a little bit of flexibility to be early:\n\t\tif (this._getTime() - this._lastTime >= (this._interval - 1) * 0.97) {\n\t\t\tthis._tick();\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_handleRAF () {\n\t\tthis._timerId = null;\n\t\tthis._setupTick();\n\t\tthis._tick();\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_handleTimeout () {\n\t\tthis._timerId = null;\n\t\tthis._setupTick();\n\t\tthis._tick();\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_setupTick () {\n\t\tif (this._timerId != null) { return; } // avoid duplicates\n\t\tconst mode = this.timingMode || (this._raf && Ticker.RAF);\n\t\tif (mode === Ticker.RAF_SYNCHED || mode === Ticker.RAF) {\n\t\t\tconst f = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n\t\t\tif (f) {\n\t\t\t\tthis._timerId = f(mode === Ticker.RAF ? this._handleRAF.bind(this) : this._handleSynch.bind(this));\n\t\t\t\tthis._raf = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis._raf = false;\n\t\tthis._timerId = setTimeout(this._handleTimeout.bind(this), this._interval);\n\t}\n\n\t/**\n\t * @private\n\t * @emits core.Ticker#event:tick\n\t */\n\t_tick () {\n\t\tconst paused = this.paused, time = this._getTime(), elapsedTime = time - this._lastTime;\n\t\tthis._lastTime = time;\n\t\tthis._ticks++;\n\n\t\tif (paused) {\n\t\t\tthis._pausedTicks++;\n\t\t\tthis._pausedTime += elapsedTime;\n\t\t}\n\n\t\tif (this.hasEventListener(\"tick\")) {\n\t\t\tconst event = new Event(\"tick\");\n\t\t\tconst maxDelta = this.maxDelta;\n\t\t\tevent.delta = (maxDelta && elapsedTime > maxDelta) ? maxDelta : elapsedTime;\n\t\t\tevent.paused = paused;\n\t\t\tevent.time = time;\n\t\t\tevent.runTime = time - this._pausedTime;\n\t\t\tthis.dispatchEvent(event);\n\t\t}\n\n\t\tthis._tickTimes.unshift(this._getTime() - time);\n\t\twhile (this._tickTimes.length > 100) { this._tickTimes.pop(); }\n\n\t\tthis._times.unshift(time);\n\t\twhile (this._times.length > 100) { this._times.pop(); }\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_getTime () {\n\t\tconst now = window.performance && window.performance.now;\n\t\treturn ((now && now.call(performance)) || (new Date().getTime())) - this._startTime;\n\t}\n\n\tstatic on (type, listener, scope, once, data, useCapture) { return _instance.on(type, listener, scope, once, data, useCapture); }\n\tstatic removeEventListener (type, listener, useCapture) { _instance.removeEventListener(type, listener, useCapture); }\n\tstatic off (type, listener, useCapture) { _instance.off(type, listener, useCapture); }\n\tstatic removeAllEventListeners (type) { _instance.removeAllEventListeners(type); }\n\tstatic dispatchEvent (eventObj, bubbles, cancelable) { return _instance.dispatchEvent(eventObj, bubbles, cancelable); }\n\tstatic hasEventListener (type) { return _instance.hasEventListener(type); }\n\tstatic willTrigger (type) { return _instance.willTrigger(type); }\n\tstatic toString () { return _instance.toString(); }\n\tstatic init () { _instance.init(); }\n\tstatic reset () { _instance.reset(); }\n\tstatic addEventListener (type, listener, useCapture) { _instance.addEventListener(type, listener, useCapture); }\n\tstatic getMeasuredTickTime (ticks) { return _instance.getMeasuredTickTime(ticks); }\n\tstatic getMeasuredFPS (ticks) { return _instance.getMeasuredFPS(ticks); }\n\tstatic getTime (runTime) { return _instance.getTime(runTime); }\n\tstatic getEventTime (runTime) { return _instance.getEventTime(runTime); }\n\tstatic getTicks (pauseable) { return _instance.getTicks(pauseable); }\n\n\tstatic get interval () { return _instance.interval; }\n\tstatic set interval (interval) { _instance.interval = interval; }\n\tstatic get framerate () { return _instance.framerate; }\n\tstatic set framerate (framerate) { _instance.framerate = framerate; }\n\tstatic get name () { return _instance.name; }\n\tstatic set name (name) { _instance.name = name; }\n\tstatic get timingMode () { return _instance.timingMode; }\n\tstatic set timingMode (timingMode) { _instance.timingMode = timingMode; }\n\tstatic get maxDelta () { return _instance.maxDelta; }\n\tstatic set maxDelta (maxDelta) { _instance.maxDelta = maxDelta; }\n\tstatic get paused () { return _instance.paused; }\n\tstatic set paused (paused) { _instance.paused = paused; }\n\n}\n\n/**\n * Dispatched each tick. The event will be dispatched to each listener even when the Ticker has been paused.\n *\n * @example\n * Ticker.addEventListener(\"tick\", event => console.log(\"Paused:\", event.paused, event.delta));\n *\n * @event core.Ticker#tick\n * @type {Object}\n * @property {Object} target The object that dispatched the event.\n * @property {string} type The event type.\n * @property {boolean} paused Indicates whether the ticker is currently paused.\n * @property {number} delta The time elapsed in ms since the last tick.\n * @property {number} time The total time in ms since Ticker was initialized.\n * @property {number} runTime The total time in ms that Ticker was not paused since it was initialized. For example,\n * you could determine the amount of time that the Ticker has been paused since initialization with `time-runTime`.\n * @since 0.6.0\n */\n\nexport default Ticker;\n\n// the default Ticker instance\nconst _instance = new Ticker(\"createjs.global\");\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@createjs/core/src/utils/Ticker.js","/*\n* Timeline\n* Visit http://createjs.com/ for documentation, updates and examples.\n*\n* Copyright (c) 2010 gskinner.com, inc.\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport AbstractTween from \"./AbstractTween\";\n\n/**\n * The Timeline class synchronizes multiple tweens and allows them to be controlled as a group. Please note that if a\n * timeline is looping, the tweens on it may appear to loop even if the \"loop\" property of the tween is false.\n *\n * NOTE: Timeline currently also accepts a param list in the form: `tweens, labels, props`. This is for backwards\n * compatibility only and will be removed in the future. Include tweens and labels as properties on the props object.\n *\n * @memberof tweenjs\n * @extends AbstractTween\n *\n * @param {Object} [props] The configuration properties to apply to this instance (ex. `{loop:-1, paused:true}`).\n * @param {boolean} [props.useTicks=false] See the {@link tweenjs.AbstractTween#useTicks} property for more information.\n * @param {boolean} [props.ignoreGlobalPause=false] See the {@link tweenjs.AbstractTween#ignoreGlobalPause} for more information.\n * @param {number|boolean} [props.loop=0] See the {@link tweenjs.AbstractTween#loop} for more information.\n * @param {boolean} [props.reversed=false] See the {@link tweenjs.AbstractTween#reversed} for more information.\n * @param {boolean} [props.bounce=false] See the {@link tweenjs.AbstractTween#bounce} for more information.\n * @param {number} [props.timeScale=1] See the {@link tweenjs.AbstractTween#timeScale} for more information.\n * @param {boolean} [props.paused=false] See the {@link tweenjs.AbstractTween#paused} for more information.\n * @param {number} [props.position] See the {@link tweenjs.AbstractTween#position} for more information.\n * @param {boolean} [props.tweens]\n * @param {number} [props.labels]\n * @param {Function} [props.onChange] Adds the specified function as a listener to the {@link tweenjs.AbstractTween#event:change} event.\n * @param {Function} [props.onComplete] Adds the specified function as a listener to the {@link tweenjs.AbstractTween#event:complete} event.\n * Supported props are listed below. These props are set on the corresponding instance properties except where\n * specified.<UL>\n *    <LI> `useTicks`</LI>\n *    <LI> `ignoreGlobalPause`</LI>\n *    <LI> `loop`</LI>\n *    <LI> `reversed`</LI>\n *    <LI> `bounce`</LI>\n *    <LI> `timeScale`</LI>\n *    <LI> `paused`</LI>\n *    <LI> `position`: indicates the initial position for this tween.</LI>\n *    <LI> `onChange`: adds the specified function as a listener to the `change` event</LI>\n *    <LI> `onComplete`: adds the specified function as a listener to the `complete` event</LI>\n * </UL>\n */\nclass Timeline extends AbstractTween {\n\n\tconstructor (props = {}) {\n\t\tsuper(props);\n\n\t\t/**\n\t\t * The array of tweens in the timeline. It is *strongly* recommended that you use\n\t\t * {@link tweenjs.Tween#addTween} and {@link tweenjs.Tween#removeTween},\n\t\t * rather than accessing this directly, but it is included for advanced uses.\n\t\t * @type {Tween[]}\n\t\t */\n\t\tthis.tweens = [];\n\n\t\tif (props.tweens) { this.addTween(...props.tweens); }\n\t\tif (props.labels) { this.labels = props.labels; }\n\n\t\tthis._init(props);\n\t}\n\n\t/**\n\t * Adds one or more tweens (or timelines) to this timeline. The tweens will be paused (to remove them from the\n\t * normal ticking system) and managed by this timeline. Adding a tween to multiple timelines will result in\n\t * unexpected behaviour.\n\t *\n\t * @param {Tween} ...tweens The tween(s) to add. Accepts multiple arguments.\n\t * @return {Tween} The first tween that was passed in.\n\t */\n\taddTween (...tweens) {\n\t\tconst l = tweens.length;\n\t\tif (l === 1) {\n\t\t\tconst tween = tweens[0];\n\t\t\tthis.tweens.push(tween);\n\t\t\ttween._parent = this;\n\t\t\ttween.paused = true;\n\t\t\tlet d = tween.duration;\n\t\t\tif (tween.loop > 0) { d *= tween.loop + 1; }\n\t\t\tif (d > this.duration) { this.duration = d; }\n\t\t\tif (this.rawPosition >= 0) { tween.setPosition(this.rawPosition); }\n\t\t\treturn tween;\n\t\t}\n\t\tif (l > 1) {\n\t\t\tfor (let i = 0; i < l; i++) { this.addTween(tweens[i]); }\n\t\t\treturn tweens[l - 1];\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Removes one or more tweens from this timeline.\n\t *\n\t * @param {Tween} ...tweens The tween(s) to remove. Accepts multiple arguments.\n\t * @return {boolean} Returns `true` if all of the tweens were successfully removed.\n\t */\n\tremoveTween (...tweens) {\n\t\tconst l = tweens.length;\n\t\tif (l === 1) {\n\t\t\tconst tw = this.tweens;\n\t\t\tconst tween = tweens[0];\n\t\t\tlet i = tw.length;\n\t\t\twhile (i--) {\n\t\t\t\tif (tw[i] === tween) {\n\t\t\t\t\ttw.splice(i, 1);\n\t\t\t\t\ttween._parent = null;\n\t\t\t\t\tif (tween.duration >= this.duration) { this.updateDuration(); }\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\tif (l > 1) {\n\t\t\tlet good = true;\n\t\t\tfor (let i = 0; i < l; i++) { good = good && this.removeTween(tweens[i]); }\n\t\t\treturn good;\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Recalculates the duration of the timeline. The duration is automatically updated when tweens are added or removed,\n\t * but this method is useful if you modify a tween after it was added to the timeline.\n\t */\n\tupdateDuration () {\n\t\tthis.duration = 0;\n\t\tfor (let i = 0, l = this.tweens.length; i < l; i++) {\n\t\t\tlet tween = this.tweens[i];\n\t\t\tlet d = tween.duration;\n\t\t\tif (tween.loop > 0) { d *= tween.loop + 1; }\n\t\t\tif (d > this.duration) { this.duration = d; }\n\t\t}\n\t}\n\n\t/**\n\t * @throws Timeline cannot be cloned.\n\t */\n\tclone () {\n\t\tthrow \"Timeline can not be cloned.\";\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_updatePosition (jump, end) {\n\t\tconst t = this.position;\n\t\tfor (let i = 0, l = this.tweens.length; i < l; i++) {\n\t\t\tthis.tweens[i].setPosition(t, true, jump); // actions will run after all the tweens update.\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_runActionsRange (startPos, endPos, jump, includeStart) {\n\t\t//console.log(\"\trange\", startPos, endPos, jump, includeStart);\n\t\tconst t = this.position;\n\t\tfor (let i = 0, l = this.tweens.length; i < l; i++) {\n\t\t\tthis.tweens[i]._runActions(startPos, endPos, jump, includeStart);\n\t\t\tif (t !== this.position) { return true; } // an action changed this timeline's position.\n\t\t}\n\t}\n\n}\n\nexport default Timeline;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@createjs/tweenjs/src/Timeline.js","import { Shape } from '../../../node_modules/@createjs/easeljs/dist/easeljs.common';\r\nimport config from './config';\r\nimport calc from '../utils/calculations';\r\n\r\nclass Point {\r\n\r\n    constructor(options, map) {\r\n        this.map = map;\r\n\r\n        this.occupied = false;\r\n        this.circled = false;\r\n\r\n        this.setWidth(options.width);\r\n        this.setId(options.id);\r\n\r\n        this.circle = this.draw();\r\n\r\n        this.circle.on('click', this.circleClickHandler, this, true);\r\n    }\r\n\r\n    // handlers\r\n\r\n    circleClickHandler() {\r\n        const pointWidth = this.getWidth();\r\n        const id = this.getId();\r\n\r\n        this.occupied = true;\r\n        this.circle.cursor = 'default';\r\n        this.circle\r\n            .graphics\r\n            .clear()\r\n            .beginFill(config.colors.circleRed)\r\n            .drawCircle(\r\n                calc.getPointCord(id.x, pointWidth),\r\n                calc.getPointCord(id.y, pointWidth),\r\n                config.circleRadius\r\n            );\r\n\r\n        this.map.stage.update();\r\n    }\r\n\r\n    // drawing\r\n\r\n    draw() {\r\n        const circle = new Shape();\r\n        const pointWidth = this.getWidth();\r\n        const id = this.getId();\r\n\r\n        circle.cursor = 'pointer';\r\n        circle.graphics\r\n            .beginFill(config.colors.circleDefault)\r\n            .drawCircle(\r\n                calc.getPointCord(id.x, pointWidth),\r\n                calc.getPointCord(id.y, pointWidth),\r\n                config.circleRadius\r\n            );\r\n        this.map.stage.addChild(circle);\r\n\r\n        return circle;\r\n    }\r\n\r\n    // accessors\r\n\r\n    setWidth(w) {\r\n        this.w = w;\r\n    }\r\n\r\n    getWidth() {\r\n        return this.w;\r\n    }\r\n\r\n    setId(id) {\r\n        this.id = id;\r\n    }\r\n\r\n    getId() {\r\n        return this.id;\r\n    }\r\n\r\n}\r\n\r\nexport default Point;\r\n\r\n/*for tile testing*/\r\n\r\n/*const sq = new Shape();\r\nconst pointWidth = this.getWidth();\r\nconst id = this.getId();\r\n\r\nsq.graphics\r\n    .setStrokeStyle(1)\r\n    .beginStroke('red')\r\n    .drawRect(\r\n        (id.x * pointWidth),\r\n        (id.y * pointWidth),\r\n        pointWidth,\r\n        pointWidth\r\n    );\r\nthis.map.stage.addChild(sq);*/\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/game-components/point/point.js","export default {\r\n    colors: {\r\n        lines: '#efefef',\r\n        circleDefault: '#CCCCCC',\r\n        circleRed: '#ff1212',\r\n        circleBlue: '#127cff',\r\n    },\r\n    circleRadius: 4\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/game-components/point/config.js","export default {\r\n    tileCount: {\r\n        vertical: 26,\r\n        horizontal: 17\r\n    },\r\n    colors: {\r\n        lines: '#efefef'\r\n    },\r\n    lineWidth: 2\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/game-components/map/config.js","/**\n * Dom7 2.0.5\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * http://framework7.io/docs/dom.html\n *\n * Copyright 2018, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n *\n * Licensed under MIT\n *\n * Released on: April 20, 2018\n */\nimport { document, window } from 'ssr-window';\n\nclass Dom7 {\n  constructor(arr) {\n    const self = this;\n    // Create array-like object\n    for (let i = 0; i < arr.length; i += 1) {\n      self[i] = arr[i];\n    }\n    self.length = arr.length;\n    // Return collection with methods\n    return this;\n  }\n}\n\nfunction $$1(selector, context) {\n  const arr = [];\n  let i = 0;\n  if (selector && !context) {\n    if (selector instanceof Dom7) {\n      return selector;\n    }\n  }\n  if (selector) {\n      // String\n    if (typeof selector === 'string') {\n      let els;\n      let tempParent;\n      const html = selector.trim();\n      if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n        let toCreate = 'div';\n        if (html.indexOf('<li') === 0) toCreate = 'ul';\n        if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n        if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n        if (html.indexOf('<tbody') === 0) toCreate = 'table';\n        if (html.indexOf('<option') === 0) toCreate = 'select';\n        tempParent = document.createElement(toCreate);\n        tempParent.innerHTML = html;\n        for (i = 0; i < tempParent.childNodes.length; i += 1) {\n          arr.push(tempParent.childNodes[i]);\n        }\n      } else {\n        if (!context && selector[0] === '#' && !selector.match(/[ .<>:~]/)) {\n          // Pure ID selector\n          els = [document.getElementById(selector.trim().split('#')[1])];\n        } else {\n          // Other selectors\n          els = (context || document).querySelectorAll(selector.trim());\n        }\n        for (i = 0; i < els.length; i += 1) {\n          if (els[i]) arr.push(els[i]);\n        }\n      }\n    } else if (selector.nodeType || selector === window || selector === document) {\n      // Node/element\n      arr.push(selector);\n    } else if (selector.length > 0 && selector[0].nodeType) {\n      // Array of elements or instance of Dom\n      for (i = 0; i < selector.length; i += 1) {\n        arr.push(selector[i]);\n      }\n    }\n  }\n  return new Dom7(arr);\n}\n\n$$1.fn = Dom7.prototype;\n$$1.Class = Dom7;\n$$1.Dom7 = Dom7;\n\nfunction unique(arr) {\n  const uniqueArray = [];\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group1) => group1.toUpperCase());\n}\n\nfunction requestAnimationFrame(callback) {\n  if (window.requestAnimationFrame) return window.requestAnimationFrame(callback);\n  else if (window.webkitRequestAnimationFrame) return window.webkitRequestAnimationFrame(callback);\n  return window.setTimeout(callback, 1000 / 60);\n}\nfunction cancelAnimationFrame(id) {\n  if (window.cancelAnimationFrame) return window.cancelAnimationFrame(id);\n  else if (window.webkitCancelAnimationFrame) return window.webkitCancelAnimationFrame(id);\n  return window.clearTimeout(id);\n}\n\n// Classes and attributes\nfunction addClass(className) {\n  if (typeof className === 'undefined') {\n    return this;\n  }\n  const classes = className.split(' ');\n  for (let i = 0; i < classes.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      if (typeof this[j].classList !== 'undefined') this[j].classList.add(classes[i]);\n    }\n  }\n  return this;\n}\nfunction removeClass(className) {\n  const classes = className.split(' ');\n  for (let i = 0; i < classes.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      if (typeof this[j].classList !== 'undefined') this[j].classList.remove(classes[i]);\n    }\n  }\n  return this;\n}\nfunction hasClass(className) {\n  if (!this[0]) return false;\n  return this[0].classList.contains(className);\n}\nfunction toggleClass(className) {\n  const classes = className.split(' ');\n  for (let i = 0; i < classes.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      if (typeof this[j].classList !== 'undefined') this[j].classList.toggle(classes[i]);\n    }\n  }\n  return this;\n}\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  }\n\n  // Set attrs\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      // eslint-disable-next-line\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n  return this;\n}\n// eslint-disable-next-line\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n  return this;\n}\n// eslint-disable-next-line\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        // eslint-disable-next-line\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n    return this;\n  }\n}\nfunction data(key, value) {\n  let el;\n  if (typeof value === 'undefined') {\n    el = this[0];\n    // Get value\n    if (el) {\n      if (el.dom7ElementDataStorage && (key in el.dom7ElementDataStorage)) {\n        return el.dom7ElementDataStorage[key];\n      }\n\n      const dataKey = el.getAttribute(`data-${key}`);\n      if (dataKey) {\n        return dataKey;\n      }\n      return undefined;\n    }\n    return undefined;\n  }\n\n  // Set value\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n  return this;\n}\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n  if (el.dataset) {\n    // eslint-disable-next-line\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      // eslint-disable-next-line\n      const attr = el.attributes[i];\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n  // eslint-disable-next-line\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;\n    else if (dataset[key] === 'true') dataset[key] = true;\n    else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n  return dataset;\n}\nfunction val(value) {\n  const dom = this;\n  if (typeof value === 'undefined') {\n    if (dom[0]) {\n      if (dom[0].multiple && dom[0].nodeName.toLowerCase() === 'select') {\n        const values = [];\n        for (let i = 0; i < dom[0].selectedOptions.length; i += 1) {\n          values.push(dom[0].selectedOptions[i].value);\n        }\n        return values;\n      }\n      return dom[0].value;\n    }\n    return undefined;\n  }\n\n  for (let i = 0; i < dom.length; i += 1) {\n    const el = dom[i];\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n  return dom;\n}\n// Transforms\n// eslint-disable-next-line\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    const elStyle = this[i].style;\n    elStyle.webkitTransform = transform;\n    elStyle.transform = transform;\n  }\n  return this;\n}\nfunction transition(duration) {\n  if (typeof duration !== 'string') {\n    duration = `${duration}ms`; // eslint-disable-line\n  }\n  for (let i = 0; i < this.length; i += 1) {\n    const elStyle = this[i].style;\n    elStyle.webkitTransitionDuration = duration;\n    elStyle.transitionDuration = duration;\n  }\n  return this;\n}\n// Events\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n    if ($$1(target).is(targetSelector)) listener.apply(target, eventData);\n    else {\n      const parents = $$1(target).parents(); // eslint-disable-line\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($$1(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n    listener.apply(this, eventData);\n  }\n  const events = eventType.split(' ');\n  let j;\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent,\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent,\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n  return this;\n}\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n  if (!capture) capture = false;\n\n  const events = eventType.split(' ');\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n      for (let k = handlers.length - 1; k >= 0; k -= 1) {\n        const handler = handlers[k];\n        if (listener && handler.listener === listener) {\n          el.removeEventListener(event, handler.proxyListener, capture);\n          handlers.splice(k, 1);\n        } else if (!listener) {\n          el.removeEventListener(event, handler.proxyListener, capture);\n          handlers.splice(k, 1);\n        }\n      }\n    }\n  }\n  return this;\n}\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n  function proxy(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, proxy, capture);\n  }\n  return dom.on(eventName, targetSelector, proxy, capture);\n}\nfunction trigger(...args) {\n  const events = args[0].split(' ');\n  const eventData = args[1];\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let evt;\n      try {\n        evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true,\n        });\n      } catch (e) {\n        evt = document.createEvent('Event');\n        evt.initEvent(event, true, true);\n        evt.detail = eventData;\n      }\n      // eslint-disable-next-line\n      el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n      el.dispatchEvent(evt);\n      el.dom7EventData = [];\n      delete el.dom7EventData;\n    }\n  }\n  return this;\n}\nfunction transitionEnd(callback) {\n  const events = ['webkitTransitionEnd', 'transitionend'];\n  const dom = this;\n  let i;\n  function fireCallBack(e) {\n    /* jshint validthis:true */\n    if (e.target !== this) return;\n    callback.call(this, e);\n    for (i = 0; i < events.length; i += 1) {\n      dom.off(events[i], fireCallBack);\n    }\n  }\n  if (callback) {\n    for (i = 0; i < events.length; i += 1) {\n      dom.on(events[i], fireCallBack);\n    }\n  }\n  return this;\n}\nfunction animationEnd(callback) {\n  const events = ['webkitAnimationEnd', 'animationend'];\n  const dom = this;\n  let i;\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    for (i = 0; i < events.length; i += 1) {\n      dom.off(events[i], fireCallBack);\n    }\n  }\n  if (callback) {\n    for (i = 0; i < events.length; i += 1) {\n      dom.on(events[i], fireCallBack);\n    }\n  }\n  return this;\n}\n// Sizing/Styles\nfunction width() {\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      // eslint-disable-next-line\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n    return this[0].offsetWidth;\n  }\n  return null;\n}\nfunction height() {\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      // eslint-disable-next-line\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n    return this[0].offsetHeight;\n  }\n  return null;\n}\nfunction offset() {\n  if (this.length > 0) {\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: (box.top + scrollTop) - clientTop,\n      left: (box.left + scrollLeft) - clientLeft,\n    };\n  }\n\n  return null;\n}\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n  return this;\n}\nfunction show() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n  return this;\n}\nfunction styles() {\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\nfunction css(props, value) {\n  let i;\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      for (i = 0; i < this.length; i += 1) {\n        // eslint-disable-next-line\n        for (let prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n      return this;\n    }\n  }\n  if (arguments.length === 2 && typeof props === 'string') {\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n    return this;\n  }\n  return this;\n}\n\n// Dom manipulation\nfunction toArray() {\n  const arr = [];\n  for (let i = 0; i < this.length; i += 1) {\n    arr.push(this[i]);\n  }\n  return arr;\n}\n// Iterate over the collection passing elements to `callback`\nfunction each(callback) {\n  // Don't bother continuing without a callback\n  if (!callback) return this;\n  // Iterate over the current collection\n  for (let i = 0; i < this.length; i += 1) {\n    // If the callback returns false\n    if (callback.call(this[i], i, this[i]) === false) {\n      // End the loop early\n      return this;\n    }\n  }\n  // Return `this` to allow chained DOM operations\n  return this;\n}\nfunction forEach(callback) {\n  // Don't bother continuing without a callback\n  if (!callback) return this;\n  // Iterate over the current collection\n  for (let i = 0; i < this.length; i += 1) {\n    // If the callback returns false\n    if (callback.call(this[i], this[i], i) === false) {\n      // End the loop early\n      return this;\n    }\n  }\n  // Return `this` to allow chained DOM operations\n  return this;\n}\nfunction filter(callback) {\n  const matchedItems = [];\n  const dom = this;\n  for (let i = 0; i < dom.length; i += 1) {\n    if (callback.call(dom[i], i, dom[i])) matchedItems.push(dom[i]);\n  }\n  return new Dom7(matchedItems);\n}\nfunction map(callback) {\n  const modifiedItems = [];\n  const dom = this;\n  for (let i = 0; i < dom.length; i += 1) {\n    modifiedItems.push(callback.call(dom[i], i, dom[i]));\n  }\n  return new Dom7(modifiedItems);\n}\n// eslint-disable-next-line\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : undefined;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n  return this;\n}\n// eslint-disable-next-line\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    if (this[0]) {\n      return this[0].textContent.trim();\n    }\n    return null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n  return this;\n}\nfunction is(selector) {\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    else if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    else if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n\n    compareWith = $$1(selector);\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n    return false;\n  } else if (selector === document) return el === document;\n  else if (selector === window) return el === window;\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n    return false;\n  }\n  return false;\n}\nfunction indexOf(el) {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i] === el) return i;\n  }\n  return -1;\n}\nfunction index() {\n  let child = this[0];\n  let i;\n  if (child) {\n    i = 0;\n    // eslint-disable-next-line\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n    return i;\n  }\n  return undefined;\n}\n// eslint-disable-next-line\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n  let returnIndex;\n  if (index > length - 1) {\n    return new Dom7([]);\n  }\n  if (index < 0) {\n    returnIndex = length + index;\n    if (returnIndex < 0) return new Dom7([]);\n    return new Dom7([this[returnIndex]]);\n  }\n  return new Dom7([this[index]]);\n}\nfunction append(...args) {\n  let newChild;\n\n  for (let k = 0; k < args.length; k += 1) {\n    newChild = args[k];\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n // eslint-disable-next-line\nfunction appendTo(parent) {\n  $$1(parent).append(this);\n  return this;\n}\nfunction prepend(newChild) {\n  let i;\n  let j;\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n  return this;\n}\n // eslint-disable-next-line\nfunction prependTo(parent) {\n  $$1(parent).prepend(this);\n  return this;\n}\nfunction insertBefore(selector) {\n  const before = $$1(selector);\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\nfunction insertAfter(selector) {\n  const after = $$1(selector);\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $$1(this[0].nextElementSibling).is(selector)) {\n        return new Dom7([this[0].nextElementSibling]);\n      }\n      return new Dom7([]);\n    }\n\n    if (this[0].nextElementSibling) return new Dom7([this[0].nextElementSibling]);\n    return new Dom7([]);\n  }\n  return new Dom7([]);\n}\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return new Dom7([]);\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n    if (selector) {\n      if ($$1(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n    el = next;\n  }\n  return new Dom7(nextEls);\n}\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n    if (selector) {\n      if (el.previousElementSibling && $$1(el.previousElementSibling).is(selector)) {\n        return new Dom7([el.previousElementSibling]);\n      }\n      return new Dom7([]);\n    }\n\n    if (el.previousElementSibling) return new Dom7([el.previousElementSibling]);\n    return new Dom7([]);\n  }\n  return new Dom7([]);\n}\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return new Dom7([]);\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n    if (selector) {\n      if ($$1(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n    el = prev;\n  }\n  return new Dom7(prevEls);\n}\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($$1(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n  return $$1(unique(parents));\n}\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n    while (parent) {\n      if (selector) {\n        if ($$1(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n      parent = parent.parentNode;\n    }\n  }\n  return $$1(unique(parents));\n}\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n  if (typeof selector === 'undefined') {\n    return new Dom7([]);\n  }\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n  return closest;\n}\nfunction find(selector) {\n  const foundElements = [];\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n  return new Dom7(foundElements);\n}\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].childNodes;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector) {\n        if (childNodes[j].nodeType === 1) children.push(childNodes[j]);\n      } else if (childNodes[j].nodeType === 1 && $$1(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n  return new Dom7(unique(children));\n}\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n  return this;\n}\nfunction detach() {\n  return this.remove();\n}\nfunction add(...args) {\n  const dom = this;\n  let i;\n  let j;\n  for (i = 0; i < args.length; i += 1) {\n    const toAdd = $$1(args[i]);\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom[dom.length] = toAdd[j];\n      dom.length += 1;\n    }\n  }\n  return dom;\n}\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n      el.textContent = '';\n    }\n  }\n  return this;\n}\n\n\n\n\nvar Methods = Object.freeze({\n\taddClass: addClass,\n\tremoveClass: removeClass,\n\thasClass: hasClass,\n\ttoggleClass: toggleClass,\n\tattr: attr,\n\tremoveAttr: removeAttr,\n\tprop: prop,\n\tdata: data,\n\tremoveData: removeData,\n\tdataset: dataset,\n\tval: val,\n\ttransform: transform,\n\ttransition: transition,\n\ton: on,\n\toff: off,\n\tonce: once,\n\ttrigger: trigger,\n\ttransitionEnd: transitionEnd,\n\tanimationEnd: animationEnd,\n\twidth: width,\n\touterWidth: outerWidth,\n\theight: height,\n\touterHeight: outerHeight,\n\toffset: offset,\n\thide: hide,\n\tshow: show,\n\tstyles: styles,\n\tcss: css,\n\ttoArray: toArray,\n\teach: each,\n\tforEach: forEach,\n\tfilter: filter,\n\tmap: map,\n\thtml: html,\n\ttext: text,\n\tis: is,\n\tindexOf: indexOf,\n\tindex: index,\n\teq: eq,\n\tappend: append,\n\tappendTo: appendTo,\n\tprepend: prepend,\n\tprependTo: prependTo,\n\tinsertBefore: insertBefore,\n\tinsertAfter: insertAfter,\n\tnext: next,\n\tnextAll: nextAll,\n\tprev: prev,\n\tprevAll: prevAll,\n\tsiblings: siblings,\n\tparent: parent,\n\tparents: parents,\n\tclosest: closest,\n\tfind: find,\n\tchildren: children,\n\tremove: remove,\n\tdetach: detach,\n\tadd: add,\n\tempty: empty\n});\n\nfunction scrollTo(...args) {\n  let [left, top, duration, easing, callback] = args;\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n  if (typeof easing === 'undefined') easing = 'swing';\n\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n    let scrollLeft; // eslint-disable-line\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n    if (animateTop) {\n      currentTop = el.scrollTop;\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n    if (!duration) return;\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : (0.5 - (Math.cos(progress * Math.PI) / 2));\n      let done;\n      if (animateTop) scrollTop = currentTop + (easeProgress * (newTop - currentTop));\n      if (animateLeft) scrollLeft = currentLeft + (easeProgress * (newLeft - currentLeft));\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      requestAnimationFrame(render);\n    }\n    requestAnimationFrame(render);\n  });\n}\n// scrollTop(top, duration, easing, callback) {\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n  const dom = this;\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n  const dom = this;\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n\n\n\nvar Scroll = Object.freeze({\n\tscrollTo: scrollTo,\n\tscrollTop: scrollTop,\n\tscrollLeft: scrollLeft\n});\n\nfunction animate(initialProps, initialParams) {\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing', // or 'linear'\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n    }, initialParams),\n\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - (Math.cos(progress * Math.PI) / 2);\n      }\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n      return progress;\n    },\n    stop() {\n      if (a.frameId) {\n        cancelAnimationFrame(a.frameId);\n      }\n      a.animating = false;\n      a.elements.each((index, el) => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n    done(complete) {\n      a.animating = false;\n      a.elements.each((index, el) => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n      const elements = [];\n\n      // Define & Cache Initials & Units\n      a.elements.each((index, el) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n\n        elements[index] = {\n          container: el,\n        };\n        Object.keys(props).forEach((prop) => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue,\n          };\n        });\n      });\n\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress;\n        // let el;\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n        if (startTime === null) {\n          startTime = time;\n        }\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), ((startTime + params.duration) - time < 0 ? 0 : (startTime + params.duration) - time), startTime);\n        }\n\n        elements.forEach((element) => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach((prop) => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const { initialValue, finalValue, unit } = el[prop];\n            el[prop].currentValue = initialValue + (easeProgress * (finalValue - initialValue));\n            const currentValue = el[prop].currentValue;\n\n            if (\n              (finalValue > initialValue && currentValue >= finalValue) ||\n              (finalValue < initialValue && currentValue <= finalValue)) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return;\n        // Then call\n        a.frameId = requestAnimationFrame(render);\n      }\n      a.frameId = requestAnimationFrame(render);\n      return a;\n    },\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\n\n\n\nvar Animate = Object.freeze({\n\tanimate: animate,\n\tstop: stop\n});\n\nconst noTrigger = ('resize scroll').split(' ');\nfunction eventShortcut(name, ...args) {\n  if (typeof args[0] === 'undefined') {\n    for (let i = 0; i < this.length; i += 1) {\n      if (noTrigger.indexOf(name) < 0) {\n        if (name in this[i]) this[i][name]();\n        else {\n          $$1(this[i]).trigger(name);\n        }\n      }\n    }\n    return this;\n  }\n  return this.on(name, ...args);\n}\n\nfunction click(...args) {\n  return eventShortcut.bind(this)('click', ...args);\n}\nfunction blur(...args) {\n  return eventShortcut.bind(this)('blur', ...args);\n}\nfunction focus(...args) {\n  return eventShortcut.bind(this)('focus', ...args);\n}\nfunction focusin(...args) {\n  return eventShortcut.bind(this)('focusin', ...args);\n}\nfunction focusout(...args) {\n  return eventShortcut.bind(this)('focusout', ...args);\n}\nfunction keyup(...args) {\n  return eventShortcut.bind(this)('keyup', ...args);\n}\nfunction keydown(...args) {\n  return eventShortcut.bind(this)('keydown', ...args);\n}\nfunction keypress(...args) {\n  return eventShortcut.bind(this)('keypress', ...args);\n}\nfunction submit(...args) {\n  return eventShortcut.bind(this)('submit', ...args);\n}\nfunction change(...args) {\n  return eventShortcut.bind(this)('change', ...args);\n}\nfunction mousedown(...args) {\n  return eventShortcut.bind(this)('mousedown', ...args);\n}\nfunction mousemove(...args) {\n  return eventShortcut.bind(this)('mousemove', ...args);\n}\nfunction mouseup(...args) {\n  return eventShortcut.bind(this)('mouseup', ...args);\n}\nfunction mouseenter(...args) {\n  return eventShortcut.bind(this)('mouseenter', ...args);\n}\nfunction mouseleave(...args) {\n  return eventShortcut.bind(this)('mouseleave', ...args);\n}\nfunction mouseout(...args) {\n  return eventShortcut.bind(this)('mouseout', ...args);\n}\nfunction mouseover(...args) {\n  return eventShortcut.bind(this)('mouseover', ...args);\n}\nfunction touchstart(...args) {\n  return eventShortcut.bind(this)('touchstart', ...args);\n}\nfunction touchend(...args) {\n  return eventShortcut.bind(this)('touchend', ...args);\n}\nfunction touchmove(...args) {\n  return eventShortcut.bind(this)('touchmove', ...args);\n}\nfunction resize(...args) {\n  return eventShortcut.bind(this)('resize', ...args);\n}\nfunction scroll(...args) {\n  return eventShortcut.bind(this)('scroll', ...args);\n}\n\n\n\n\nvar eventShortcuts = Object.freeze({\n\tclick: click,\n\tblur: blur,\n\tfocus: focus,\n\tfocusin: focusin,\n\tfocusout: focusout,\n\tkeyup: keyup,\n\tkeydown: keydown,\n\tkeypress: keypress,\n\tsubmit: submit,\n\tchange: change,\n\tmousedown: mousedown,\n\tmousemove: mousemove,\n\tmouseup: mouseup,\n\tmouseenter: mouseenter,\n\tmouseleave: mouseleave,\n\tmouseout: mouseout,\n\tmouseover: mouseover,\n\ttouchstart: touchstart,\n\ttouchend: touchend,\n\ttouchmove: touchmove,\n\tresize: resize,\n\tscroll: scroll\n});\n\n[Methods, Scroll, Animate, eventShortcuts].forEach((group) => {\n  Object.keys(group).forEach((methodName) => {\n    $$1.fn[methodName] = group[methodName];\n  });\n});\n\nexport default $$1;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/dom7/dist/dom7.module.js","/**\n * SSR Window 1.0.0\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2018, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: February 10, 2018\n */\nvar d;\nif (typeof document === 'undefined') {\n  d = {\n    body: {},\n    addEventListener: function addEventListener() {},\n    removeEventListener: function removeEventListener() {},\n    activeElement: {\n      blur: function blur() {},\n      nodeName: '',\n    },\n    querySelector: function querySelector() {\n      return null;\n    },\n    querySelectorAll: function querySelectorAll() {\n      return [];\n    },\n    getElementById: function getElementById() {\n      return null;\n    },\n    createEvent: function createEvent() {\n      return {\n        initEvent: function initEvent() {},\n      };\n    },\n    createElement: function createElement() {\n      return {\n        children: [],\n        childNodes: [],\n        style: {},\n        setAttribute: function setAttribute() {},\n        getElementsByTagName: function getElementsByTagName() {\n          return [];\n        },\n      };\n    },\n    location: { hash: '' },\n  };\n} else {\n  // eslint-disable-next-line\n  d = document;\n}\n\nvar doc = d;\n\nvar w;\nif (typeof window === 'undefined') {\n  w = {\n    document: doc,\n    navigator: {\n      userAgent: '',\n    },\n    location: {},\n    history: {},\n    CustomEvent: function CustomEvent() {\n      return this;\n    },\n    addEventListener: function addEventListener() {},\n    removeEventListener: function removeEventListener() {},\n    getComputedStyle: function getComputedStyle() {\n      return {\n        getPropertyValue: function getPropertyValue() {\n          return '';\n        },\n      };\n    },\n    Image: function Image() {},\n    Date: function Date() {},\n    screen: {},\n    setTimeout: function setTimeout() {},\n    clearTimeout: function clearTimeout() {},\n  };\n} else {\n  // eslint-disable-next-line\n  w = window;\n}\n\nvar win = w;\n\nexport { win as window, doc as document };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ssr-window/dist/ssr-window.esm.js"],"sourceRoot":""}